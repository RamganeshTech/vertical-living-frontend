import{a as E,r as T,e as I,j as o,O as N}from"./index-Duiduteo.js";import{M as g,S as j}from"./MobileSidebar-DwoBrlG9.js";import{S as n,a as A}from"./constants-DnylCaPP.js";import"./CTOApi-BrxildP-.js";import"./useMutation-BNs_TkNH.js";import"./clientApi-B5v7B7Nb.js";import"./staffApi-VHGq_Jm7.js";import"./userApi-8wJI4L4P.js";import"./workerApi-DUcfbANu.js";import"./Button-DF5tm_KZ.js";import"./toast-BSC5QTk1.js";import"./currentActiveStageApi-THjmaUpk.js";import"./useQuery-C2l_NFV4.js";import"./roleCheck-CeVvsM7Q.js";import"./notificationApi-C05uL4MA.js";import"./useInfiniteQuery-BEsLEhdS.js";import"./issueDiscussionApi-o9VbsE6V.js";const U=({projectId:F,setProjectId:d})=>{const{organizationId:e}=E(),[c,S]=T.useState(!1),[l,m]=T.useState(window.innerWidth<470),{role:t}=I(),r={PROJECTS:`/organizations/${e}/projects`,ORGANIZATION:`/organizations/${e}/invitecto`,SHORTLIST:`/organizations/${e}/projects/shortlistdesign`,COMMONORDER:`/organizations/${e}/projects/commonorder`,SUBCONTRACT:`/organizations/${e}/projects/subcontractmain`,HR:`/organizations/${e}/projects/hr`,LOGISTICS:`/organizations/${e}/projects/logistics`,PROCUREMENT:`/organizations/${e}/projects/procurement`,ACCOUNTING:`/organizations/${e}/projects/accounting`,DESIGNLAB:`/organizations/${e}/projects/designlabmain`,RATECONIG:`/organizations/${e}/projects/rateconfig`,RATECONIGSTAFF:`/organizations/${e}/projects/labourrateconfig`,INTERNALQUOTE:`/organizations/${e}/projects/internalquote`,QUOTEVARIENT:`/organizations/${e}/projects/quotevariant`,"QUOTES (CLIENT)":`/organizations/${e}/projects/clientquotes`,WORKLIBRARY:`/organizations/${e}/projects/worklibrary`,STAFFTASK:`/organizations/${e}/projects/stafftask`,SINGLESTAFFTASK:`/organizations/${e}/projects/associatedstafftask`,MATERIALINVENTORY:`/organizations/${e}/projects/materialinventory`};let s={...n},i={...A},a={...r};return delete s.STAFFTASK,delete i.STAFFTASK,delete a.STAFFTASK,delete s.SINGLESTAFFTASK,delete i.SINGLESTAFFTASK,delete a.SINGLESTAFFTASK,(t==null?void 0:t.toLowerCase())==="owner"||(t==null?void 0:t.toLowerCase())==="cto"?(s.STAFFTASK=n.STAFFTASK,i.STAFFTASK=A.STAFFTASK,a.STAFFTASK=r.STAFFTASK):(t==null?void 0:t.toLowerCase())==="staff"&&(s.SINGLESTAFFTASK=n.SINGLESTAFFTASK,i.SINGLESTAFFTASK=A.SINGLESTAFFTASK,a.SINGLESTAFFTASK=r.SINGLESTAFFTASK),T.useEffect(()=>{const p=()=>{m(window.innerWidth<470)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex w-full h-full",children:[l?o.jsx(g,{labels:n,path:r,isOpen:c,onClose:()=>S(!1)}):o.jsx(j,{path:a,labels:s,icons:i}),o.jsx("main",{className:"!w-[100%] h-full p-4",children:o.jsx(N,{context:{projectId:F,setProjectId:d,organizationId:e,isMobile:l,isMobileSidebarOpen:c,openMobileSidebar:()=>S(!0),closeMobileSidebar:()=>S(!1)}})})]})})};export{U as default};
