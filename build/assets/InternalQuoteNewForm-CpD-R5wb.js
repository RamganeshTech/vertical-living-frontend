import{r as j,j as e,u as Z,B as _,a as ee,t as A}from"./index-MXS_gbde.js";import{WORK_TEMPLATE as K}from"./WorkDataTemplateMain-Djbb5NUK.js";import{d as te}from"./labourRateconfigApi-C3VsaBeF.js";import{b as se,c as ae,d as le,e as re,f as ne,g as oe,h as ie}from"./internalQuoteNewVersionApi-BGW4vCTu.js";import{u as X}from"./useDebounce-D0G-FEVR.js";const ce=({initialValues:s,onUpdate:m,isReadOnly:h})=>{const f=K.find(d=>d.work==="glass"),[a,g]=j.useState(()=>{const d={};return f==null||f.template.forEach(r=>{r.fields.forEach(t=>{d[t.name]=(s==null?void 0:s[t.name])??(t.type==="number"?0:t.options?t.options[0]:"")})}),d}),c=d=>{const r=Number(d.height)||0,t=Number(d.width)||0,o=Number(d.panels)||0,l=Number(d.deduction)||0,b=r*t,v=b*o-l;return{panelArea:b,totalArea:v,h:r}},{panelArea:i,totalArea:u}=c(a),p=d=>{if(h)return;const{name:r,value:t,type:o}=d.target,l=o==="number"?parseFloat(t)||0:t,b={...a,[r]:l};g(b);const v=c(b);m(b,v)};return f?e.jsx("div",{className:"bg-[#f5f7fa] w-full",children:e.jsxs("div",{className:"max-w-full mx-auto bg-white rounded-xl p-6 md:p-8 shadow-lg border border-gray-100",children:[f.template.map((d,r)=>e.jsxs("div",{className:"mb-8 last:mb-0",children:[e.jsxs("div",{className:"font-black mb-4 text-[11px] text-blue-600 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-[2px] bg-blue-600 rounded-full"}),d.section]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-5",children:d.fields.map(t=>{var l;const o=t.gridSpan===3||t.type==="textarea";return e.jsxs("div",{className:`flex flex-col gap-1.5 ${o?"md:col-span-3 lg:col-span-4":""}`,children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight px-1",children:t.label}),t.type==="select"?e.jsx("select",{name:t.name,value:a[t.name],onChange:p,disabled:h,className:"w-full p-2.5 rounded-lg border border-gray-200 text-sm bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/10 outline-none transition-all cursor-pointer",children:(l=t.options)==null?void 0:l.map(b=>e.jsx("option",{value:b,children:b},b))}):t.type==="textarea"?e.jsx("textarea",{name:t.name,value:a[t.name],onChange:p,disabled:h,rows:2,className:"w-full p-3 rounded-lg border border-gray-200 text-sm bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/10 outline-none transition-all resize-none"}):e.jsx("input",{name:t.name,type:t.type,value:a[t.name],onChange:p,readOnly:t.readOnly||h,className:`w-full p-2.5 rounded-lg border border-gray-200 text-sm bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-blue-500/10 outline-none transition-all ${t.readOnly?"bg-gray-100 italic cursor-not-allowed":""}`})]},t.name)})})]},r)),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-10 pt-8 border-t border-dashed border-gray-200",children:e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-200",children:[e.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-calculator text-blue-500"})," Area Summary"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-white pb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Single Panel Area:"}),e.jsxs("span",{className:"font-bold text-slate-800",children:[i.toFixed(2)," sqft"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-700 font-bold",children:"Total Net Area:"}),e.jsxs("span",{className:"text-xl font-black text-blue-600",children:[u.toFixed(2)," sqft"]})]})]})]})})]})}):e.jsx("div",{className:"p-10 text-center",children:"Glass Template Configuration Not Found."})},de=({organizationId:s,templateName:m,totalArea:h,initialData:f,onUpdate:a})=>{console.log("totalArea",h);const g=()=>Number(h)||0,{data:c=0}=te({organizationId:s,categoryName:m});console.log("salary",c);const[i,u]=j.useState(f||{noOfLabourers:0,productivityPerLabour:0,suggestedDays:0,totalArea:g(),costPerLabour:c,profitPercentage:0,totalLabourCost:0});j.useEffect(()=>{f&&u(f)},[f]),j.useEffect(()=>{const r=Number(i.costPerLabour);if(c&&(r===0||!i.costPerLabour)){const t={...i,costPerLabour:c};u(t),a(t)}},[c]);const p=()=>{if(c){const r={...i,costPerLabour:c};u(r),a(r)}},d=(r,t)=>{const o=parseFloat(t);let l=t;o<0&&(l="0");const b={...i,[r]:l};u(b),a(b)};return e.jsxs("div",{className:"p-8 space-y-4 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"space-y-6 grid grid-cols-2 w-full  gap-x-12 gap-y-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"No. of Labourers / Day"}),e.jsx("input",{type:"number",className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none transition-all font-medium text-slate-700",value:i.noOfLabourers||0,onChange:r=>d("noOfLabourers",r.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:"Cost per Labour / Day (₹)"}),c&&Number(i.costPerLabour)!==c&&e.jsxs("button",{onClick:p,className:"flex cursor-pointer items-center gap-1 text-[9px] font-black text-blue-600 uppercase tracking-tighter hover:bg-blue-50 px-2 py-1 rounded-md transition-all",children:[e.jsx("i",{className:"fas fa-sync-alt"}),"Sync ",m," worker salary (₹",c,")"]})]}),e.jsx("input",{type:"number",className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none font-medium text-slate-700",value:i.costPerLabour,onChange:r=>d("costPerLabour",r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Total Area (sq.ft)"}),e.jsx("input",{type:"number",className:"w-full cursor-not-allowed p-3 bg-white border border-slate-200 rounded-xl font-bold text-slate-900 focus:ring-2 focus:ring-blue-500/10 outline-none",disabled:!0,value:i.totalArea||0,onChange:r=>u({...i,totalArea:r.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Productivity (sq.ft / labour / day)"}),e.jsx("input",{type:"number",className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none font-medium text-slate-700",value:i.productivityPerLabour||0,onChange:r=>d("productivityPerLabour",r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Suggested Days"}),e.jsx("input",{type:"number",className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl font-bold text-blue-600 outline-none",value:i.suggestedDays||0,onChange:r=>d("suggestedDays",r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Profit %"}),e.jsx("input",{type:"number",className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none font-medium text-slate-700",value:i.profitPercentage||0,onChange:r=>d("profitPercentage",r.target.value)})]})]}),e.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl text-white flex justify-between items-center shadow-xl border border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center border border-blue-500/30",children:e.jsx("i",{className:"fas fa-hammer text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] leading-none mb-1",children:"Final Calculation"}),e.jsx("span",{className:"text-sm font-bold uppercase text-white tracking-widest",children:"Total Labour Cost"})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-3xl font-black tracking-tighter italic",children:["₹",i.totalLabourCost.toLocaleString("en-IN",{minimumFractionDigits:2})]})})]})]})},xe=({initialData:s,onUpdate:m})=>{var i;const[h,f]=j.useState(((i=s==null?void 0:s.items)==null?void 0:i.length)>0?s.items:[{id:Date.now(),name:"",qty:1,rate:0,total:0}]),a=(u,p,d)=>{const r=h.map(o=>{if(o.id===u){const l={...o,[p]:d};return l.total=(Number(l.qty)||0)*(Number(l.rate)||0),l}return o});f(r);const t=r.reduce((o,l)=>o+l.total,0);m({items:r,totalMaterialCost:t})},g=()=>{f([...h,{id:Date.now(),name:"",qty:1,rate:0,total:0}])},c=u=>{const p=h.filter(r=>r.id!==u);f(p);const d=p.reduce((r,t)=>r+t.total,0);m({materialData:{items:p,totalMaterialCost:d}})};return e.jsxs("div",{className:"p-8 space-y-6 animate-in fade-in duration-500",children:[e.jsx("div",{className:"overflow-hidden border border-slate-200 rounded-2xl bg-white shadow-sm",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[e.jsx("th",{className:"py-4 pl-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Description"}),e.jsx("th",{className:"py-4 w-28 text-center text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Qty"}),e.jsx("th",{className:"py-4 w-40 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rate (₹)"}),e.jsx("th",{className:"py-4 w-40 text-right pr-6 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"}),e.jsx("th",{className:"w-12"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(u=>e.jsxs("tr",{className:"group hover:bg-blue-50/30 transition-colors",children:[e.jsx("td",{className:"py-3 pl-6",children:e.jsx("input",{className:"bg-transparent w-full text-sm font-bold text-slate-700 outline-none placeholder:text-slate-300",value:u.name,placeholder:"Enter material description...",onChange:p=>a(u.id,"name",p.target.value)})}),e.jsx("td",{className:"py-3 text-center",children:e.jsx("input",{type:"number",className:"w-20 bg-white border border-slate-200 rounded-lg text-center text-sm font-bold p-2 focus:ring-2 focus:ring-blue-500/10 outline-none",value:u.qty,onChange:p=>a(u.id,"qty",p.target.value)})}),e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("span",{className:"absolute left-3 text-slate-400 text-xs font-bold",children:"₹"}),e.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-lg text-sm font-bold p-2 pl-7 focus:ring-2 focus:ring-blue-500/10 outline-none",value:u.rate,onChange:p=>a(u.id,"rate",p.target.value)})]})}),e.jsx("td",{className:"py-3 pr-6 text-right",children:e.jsxs("span",{className:"text-sm font-black text-slate-900 tracking-tighter italic",children:["₹",u.total.toLocaleString("en-IN",{minimumFractionDigits:2})]})}),e.jsx("td",{className:"py-3 pr-4 text-center",children:e.jsx("button",{onClick:()=>c(u.id),className:"text-slate-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx("i",{className:"fas fa-times-circle"})})})]},u.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-6 py-3 bg-white border border-slate-200 rounded-xl text-[10px] font-black text-blue-600 uppercase tracking-widest hover:bg-blue-50 transition-all shadow-sm",children:[e.jsx("i",{className:"fas fa-plus-circle"})," Add New Material"]}),e.jsxs("div",{className:"flex items-center gap-4 bg-slate-900 px-6 py-4 rounded-2xl shadow-xl",children:[e.jsxs("div",{className:"text-right border-r border-slate-700 pr-4",children:[e.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest leading-none mb-1",children:"Sub-Total"}),e.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase tracking-tighter",children:"Material Only"})]}),e.jsxs("p",{className:"text-xl font-black text-white tracking-tighter italic tabular-nums",children:["₹",h.reduce((u,p)=>u+p.total,0).toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})]})},ue=({summaryData:s,spec:m})=>{const h=Number((s==null?void 0:s.totalArea)||0),f=Number((s==null?void 0:s.labourCost)||0),a=Number((s==null?void 0:s.materialCost)||0),g=Number((s==null?void 0:s.totalTemplateCost)||0);return e.jsxs("div",{className:"p-8 h-full space-y-8  animate-in fade-in duration-700",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-blue-500 p-6 rounded-r-2xl shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1",children:"Total Area"}),e.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:[h.toFixed(2),e.jsx("span",{className:"text-xs text-slate-400 ml-2 font-bold uppercase",children:"sqft"})]})]}),e.jsxs("div",{className:"bg-white border-l-4 border-blue-400 p-6 rounded-r-2xl shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1",children:"Labour Cost"}),e.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:["₹",f.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"bg-white border-l-4 border-blue-300 p-6 rounded-r-2xl shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1",children:"Material Value"}),e.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:["₹",a.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 border border-blue-100 rounded-[2.5rem] p-12 shadow-xl shadow-blue-500/5 relative overflow-hidden flex flex-col items-center group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-100/30 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10 w-full text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 bg-blue-100/50 px-4 py-1.5 rounded-full mb-8",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 animate-pulse"}),e.jsxs("p",{className:"text-[11px] font-black text-blue-700 uppercase tracking-widest italic",children:["Final ",m," Valuation"]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex flex-col items-end border-r border-blue-200 pr-6",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"Consolidated"}),e.jsx("span",{className:"text-[11px] font-black text-blue-600 uppercase tracking-tighter italic",children:"Grand Total"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-blue-300",children:"₹"}),e.jsx("h2",{className:"text-7xl font-black text-slate-900 tracking-tighter tabular-nums italic leading-none",children:g.toLocaleString("en-IN",{minimumFractionDigits:2})})]})]}),e.jsxs("div",{className:"mt-12 flex justify-center gap-12 pt-8 border-t border-blue-100/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-blue-50 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-microchip text-blue-400 text-[10px]"})}),e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"System Calculated"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-blue-50 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-layer-group text-blue-400 text-[10px]"})}),e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Live Draft"})]})]})]})]})]})},me={glass:ce},pe=({templateName:s,initialData:m,onAutoSave:h,isSubmitting:f})=>{const[a,g]=j.useState("spec"),{organizationId:c}=Z(),[i,u]=j.useState(m||{templateSpecs:{},labourData:{noOfLabourers:0,totalArea:0,productivityPerLabour:0,suggestedDays:0,costPerLabour:0,profitPercentage:0,totalLabourCost:0},materialData:{totalMaterialCost:0,items:[]},summary:{totalArea:0,labourCost:0,materialCost:0,totalTemplateCost:0}}),p=t=>{var o,l;return(Number((o=t.labourData)==null?void 0:o.totalLabourCost)||0)+(Number((l=t.materialData)==null?void 0:l.totalMaterialCost)||0)},d=t=>{u(o=>{var W,S,R,$,D,q,I;const l={...o,...t};let b=0;const v=(W=l.templateSpecs)==null?void 0:W.totalArea;b=typeof v=="object"?Number(v.totalArea)||0:Number(v)||0;const T=Number((S=l.labourData)==null?void 0:S.noOfLabourers)||0,E=Number((R=l.labourData)==null?void 0:R.productivityPerLabour)||0,O=Number(($=l.labourData)==null?void 0:$.costPerLabour)||0,L=Number((D=l.labourData)==null?void 0:D.profitPercentage)||0;let y=((q=l.labourData)==null?void 0:q.suggestedDays)||0;b>0&&T>0&&E>0&&(y=Math.ceil(b/(T*E)));const M=T*y*O,P=M+M*(L/100);l.labourData={...l.labourData,totalArea:b,suggestedDays:y,totalLabourCost:P};const F=Number((I=l.materialData)==null?void 0:I.totalMaterialCost)||0,Q=P+F;return l.summary={totalArea:b,labourCost:P,materialCost:F,totalTemplateCost:Q},h(l,Q),l})},r=me[s==null?void 0:s.toLowerCase()];return r?e.jsxs("div",{className:"flex flex-col h-[700px] bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsxs("header",{className:" flex gap-2 justify-between items-center px-4",children:[e.jsx("nav",{className:"flex bg-slate-50 border-b border-slate-200  pt-2 gap-1 shrink-0",children:["spec","labour","material","summary"].map(t=>e.jsx("button",{onClick:()=>g(t),className:`px-6 py-3 text-[11px] font-black uppercase tracking-widest rounded-t-xl transition-all ${a===t?"bg-white border-x border-t border-slate-200 text-blue-600":"text-slate-400 hover:text-slate-600"}`,children:t==="spec"?`${s} Spec`:`${t} Info`},t))}),e.jsxs("div",{className:"flex items-center gap-4 py-1",children:[e.jsxs("div",{className:"flex items-center gap-2 border-r border-slate-200 pr-4",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest whitespace-nowrap",children:"Template Cost"}),e.jsxs("div",{className:"flex items-baseline gap-0.5",children:[e.jsx("span",{className:"text-[10px] font-bold text-blue-600",children:"₹"}),e.jsx("p",{className:"text-[14px] font-black text-slate-900 tracking-tighter tabular-nums",children:p(i).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})]})]}),e.jsx("div",{className:"flex items-center min-w-[60px]",children:e.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter flex items-center gap-1.5 transition-all duration-300",children:f?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-circle-notch animate-spin text-blue-500"}),e.jsx("span",{className:"text-blue-500",children:"Syncing"})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check-circle text-emerald-500"}),e.jsx("span",{className:"text-slate-400",children:"Synced"})]})})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto bg-white",children:[a==="spec"&&e.jsx(r,{initialValues:i.templateSpecs,onUpdate:(t,o)=>d({templateSpecs:{...t,totalArea:o}})}),a==="labour"&&e.jsx(de,{templateName:s,organizationId:c,totalArea:i.totalArea,initialData:i.labourData,onUpdate:t=>d({labourData:t})}),a==="material"&&e.jsx(xe,{initialData:i.materialData,onUpdate:t=>d({materialData:t})}),a==="summary"&&e.jsx(ue,{summaryData:i.summary,spec:s})]})]}):e.jsx("div",{children:"Template Not Found"})},be=({work:s,quoteId:m})=>{const[h,f]=j.useState(s.workName),a=se(),g=X(h,600);return j.useEffect(()=>{g&&g!==s.workName&&a.mutate({quoteId:m,workId:s._id,workName:g})},[g,m,s._id,s.workName]),e.jsx("input",{value:h.toUpperCase(),onChange:c=>f(c.target.value),className:`text-[9px] font-black text-slate-400  tracking-tighter truncate max-w-[140px] \r
                       bg-transparent border-b border-transparent hover:border-slate-300 focus:border-blue-500 \r
                       focus:text-slate-600 outline-none transition-all cursor-text py-0.5`,placeholder:"ENTER AREA NAME"})},he=({initialData:s,onAutoSave:m,isReadOnly:h,isSubmitting:f})=>{var r;const[a,g]=j.useState(s||{sections:[{sectionName:"Section 1",height:0,width:0,totalArea:0}],vendorDetails:{vendorName:"",worktimeline:0,sqftRate:0,finalQuoteRate:0},allSectionTotalArea:0}),c=t=>{const o=t.sections.map(v=>({...v,totalArea:(Number(v.height)||0)*(Number(v.width)||0)})),l=o.reduce((v,T)=>v+T.totalArea,0),b=l*(Number(t.vendorDetails.sqftRate)||0);return{...t,sections:o,allSectionTotalArea:l,vendorDetails:{...t.vendorDetails,finalQuoteRate:b}}},i=(t,o,l)=>{if(h)return;const b=[...a.sections];b[t][o]=l;const v=c({...a,sections:b});g(v)},u=()=>{const t={...a,sections:[...a.sections,{sectionName:`Section ${a.sections.length+1}`,height:0,width:0,totalArea:0}]};g(t)},p=t=>{const o=a.sections.filter((b,v)=>v!==t),l=c({...a,sections:o});g(l)},d=()=>{m(a,a.vendorDetails.finalQuoteRate)};return e.jsxs("div",{className:"grid grid-cols-12 gap-6 p-1 bg-white rounded-xl animate-in fade-in duration-300",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-7 flex flex-col border border-slate-200 rounded-xl overflow-hidden h-[600px]",children:[e.jsxs("header",{className:"bg-slate-800 px-6 py-4 border-b border-slate-700 flex justify-between items-center shrink-0 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center border border-blue-500/30",children:e.jsx("i",{className:"fas fa-calculator text-blue-400 text-sm"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[14px] font-bold text-white uppercase tracking-wider leading-none",children:"Area Calculator"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-medium uppercase mt-1 tracking-tighter",children:"Dimension Engineering"})]})]}),e.jsxs("span",{className:"bg-slate-700 text-slate-300 text-[10px] px-2 py-0.5 rounded-full font-mono border border-slate-600",children:[a.sections.length," Sections"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 custom-scrollbar bg-white",children:a.sections.map((t,o)=>e.jsxs("div",{className:"flex items-end gap-4 group animate-in slide-in-from-left-2 pb-2 border-b border-slate-50 last:border-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[11px] font-medium text-slate-400 mb-1 block uppercase tracking-tight",children:"Section Label"}),e.jsx("input",{className:"w-full bg-transparent border-b border-slate-100 hover:border-blue-300 focus:border-blue-500 py-1.5 text-[14px] text-slate-800 outline-none transition-all placeholder:text-slate-300",placeholder:"e.g., Main Wall",value:t.sectionName,onChange:l=>i(o,"sectionName",l.target.value)})]}),e.jsxs("div",{className:"w-28",children:[e.jsx("label",{className:"text-[11px] font-medium text-slate-400 mb-1 block uppercase tracking-tight text-center",children:"Length (ft)"}),e.jsx("input",{type:"number",className:"w-full bg-slate-50/50 border border-slate-200 rounded-lg px-3 py-2 text-[14px] text-slate-700 outline-none focus:border-blue-400 focus:bg-white transition-all text-center font-medium",value:t.width||"",onChange:l=>i(o,"width",l.target.value)})]}),e.jsxs("div",{className:"w-28",children:[e.jsx("label",{className:"text-[11px] font-medium text-slate-400 mb-1 block uppercase tracking-tight text-center",children:"Height (ft)"}),e.jsx("input",{type:"number",className:"w-full bg-slate-50/50 border border-slate-200 rounded-lg px-3 py-2 text-[14px] text-slate-700 outline-none focus:border-blue-400 focus:bg-white transition-all text-center font-medium",value:t.height||"",onChange:l=>i(o,"height",l.target.value)})]}),e.jsxs("div",{className:"w-24 text-right px-2",children:[e.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest leading-none mb-2 text-center",children:"Area"}),e.jsx("p",{className:"text-[15px] font-medium text-blue-600 leading-none py-2 text-center bg-blue-50/30 rounded-lg",children:t.totalArea.toFixed(2)})]}),e.jsx("button",{onClick:()=>p(o),className:"w-9 h-9 flex items-center justify-center text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all mb-0.5",title:"Remove Section",children:e.jsx("i",{className:"fas fa-trash-alt text-xs"})})]},o))}),e.jsxs("footer",{className:"bg-slate-50 border-t border-slate-100 p-4 shrink-0 flex justify-between items-center",children:[e.jsxs(_,{variant:"secondary",onClick:u,className:"h-10 text-[13px] text-slate-600 border-slate-200  shadow-sm",children:[e.jsx("i",{className:"fas fa-plus mr-2 text-blue-500"}),"Add Area Section"]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-[13px] text-slate-500",children:"Total Area:"}),e.jsx("span",{className:"text-[18px] font-semibold text-slate-900",children:a.allSectionTotalArea.toFixed(2)})]})]})]}),e.jsxs("div",{className:`col-span-12 lg:col-span-5 flex flex-col border\r
             border-slate-200 rounded-xl overflow-y-auto  max-h-[800px] bg-white`,children:[e.jsx("header",{className:"bg-slate-800 px-6 py-4 border-b border-slate-700 shrink-0 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center border border-blue-500/30",children:e.jsx("i",{className:"fas fa-user-tie text-blue-400 text-sm"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[14px] font-bold text-white uppercase tracking-wider leading-none",children:"Vendor Details"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-medium uppercase mt-1 tracking-tighter",children:"Contractor & Commercials"})]})]})}),e.jsxs("div",{className:"p-8 flex-1 flex flex-col justify-between overflow-y-auto",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[13px] text-slate-600 ml-1",children:"Vendor Name"}),e.jsx("input",{className:"w-full border border-slate-200 rounded-xl px-4 py-3 text-[14px] text-slate-900 focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none transition-all placeholder:text-slate-300",value:a.vendorDetails.vendorName,placeholder:"Vendor / Contractor name",onChange:t=>g({...a,vendorDetails:{...a.vendorDetails,vendorName:t.target.value}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[13px] text-slate-600 ml-1",children:"Work Timeline"}),e.jsx("input",{type:"text",className:"w-full border border-slate-200 rounded-xl px-4 py-3 text-[14px] text-slate-900 focus:ring-2 focus:ring-blue-100 focus:border-blue-500 outline-none transition-all placeholder:text-slate-300",value:a.vendorDetails.worktimeline||"",placeholder:"Eg: 7 days from site handover",onChange:t=>g({...a,vendorDetails:{...a.vendorDetails,worktimeline:Number(t.target.value)}})})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-50",children:[e.jsx("label",{className:"text-[13px] text-blue-600 font-medium ml-1 mb-2 block tracking-tight",children:"Rate per sq.ft (₹)"}),e.jsx("input",{type:"number",className:"w-full bg-blue-50/30 border border-blue-100 rounded-xl px-4 py-4 text-[20px] font-medium text-blue-700 outline-none focus:ring-2 focus:ring-blue-200 transition-all shadow-inner placeholder:text-blue-200",value:a.vendorDetails.sqftRate||"",placeholder:"Eg: 120",onChange:t=>{const o=c({...a,vendorDetails:{...a.vendorDetails,sqftRate:t.target.value}});g(o)}})]})]}),e.jsxs("div",{className:"mt-3 pt-4 border-t border-slate-100 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-[14px]",children:[e.jsx("span",{className:"text-slate-500",children:"Total Area (sq.ft)"}),e.jsx("span",{className:"text-slate-900 font-medium",children:a.allSectionTotalArea.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between text-[14px]",children:[e.jsx("span",{className:"text-slate-500",children:"Rate (₹/sq.ft)"}),e.jsx("span",{className:"text-slate-900 font-medium",children:Number(a.vendorDetails.sqftRate).toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between items-center text-[16px] pt-1",children:[e.jsx("span",{className:"text-slate-900 font-semibold uppercase tracking-tight",children:"Final Quote (₹)"}),e.jsx("span",{className:"text-[24px] font-bold text-slate-900 tracking-tight leading-none",children:(r=a.vendorDetails.finalQuoteRate)==null?void 0:r.toLocaleString("en-IN",{minimumFractionDigits:2})})]})]}),e.jsxs(_,{onClick:d,disabled:h,isLoading:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white h-12 rounded-xl text-[15px] font-semibold shadow-md active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-save"}),"Save Sublet Quote"]})]})]})]})]})},we=({initialData:s,quoteId:m,quoteType:h})=>{var G,B,V,U,H;const f=ee();console.log("quoteType",h);const[a,g]=j.useState(null),[c,i]=j.useState(null),[u,p]=j.useState(!1),[d,r]=j.useState(""),[t,o]=j.useState(null),l=ae(),b=le(),{mutateAsync:v,isPending:T}=re(),{mutateAsync:E,isPending:O}=ne(),L=j.useMemo(()=>{var n,x;return(x=(n=s==null?void 0:s.mainQuote)==null?void 0:n.works)==null?void 0:x.find(w=>w._id===a)},[a,s]),y=j.useMemo(()=>{var w,k,N;if(!L)return null;const n=(w=L.workTemplates)==null?void 0:w.find(C=>C._id===c);if(n)return n;const x=(k=L.subLettingData)==null?void 0:k.find(C=>C._id===c);return x?{...x,templateName:"Subletting Quote",singleTotal:((N=x.vendorDetails)==null?void 0:N.finalQuoteRate)||0,isSublet:!0}:null},[c,L]);j.useEffect(()=>{var n;if(s&&(s!=null&&s.mainQuote)&&s.mainQuote.works.length&&!a){const x=(n=s==null?void 0:s.mainQuote)==null?void 0:n.works[0];if(x){g(x==null?void 0:x._id);const w=x==null?void 0:x.workTemplates[0],k=x==null?void 0:x.subLettingData[0];i(w?w==null?void 0:w._id:k?k==null?void 0:k._id:null)}}},[s]);const M=(n,x)=>{const w=n.currentTarget.getBoundingClientRect();o({workId:x,x:w.right+10,y:w.top,menuLevel:"choice"})},P=oe(),F=ie(),[Q,W]=j.useState(null),S=X(Q,500);j.useEffect(()=>{S&&m&&P.mutate({quoteId:m,workId:S.workId,templateId:S.tempId,payload:{templateData:S.data,singleTotal:S.total}})},[S,m]);const R=async n=>{if(!a||!c||!m)return A({title:"Error",description:"Missing Area or Spec ID",variant:"destructive"});try{await F.mutateAsync({quoteId:m,workId:a,subletId:c,subLettingData:n}),A({title:"Success",description:"Sublet quote saved successfully"})}catch(x){A({title:"Error",description:x.message,variant:"destructive"})}},$=async()=>{if(!d.trim())return A({title:"Success",description:"Work Name required"});try{await l.mutateAsync({quoteId:m,payload:{workName:d}}),p(!1),r("")}catch(n){A({title:"Error",description:n.message,variant:"destructive"})}},D=async()=>{if(t)try{await b.mutateAsync({quoteId:m,workId:t.workId,payload:{workType:"sublet",templateName:"Subletting Quote"}}),o(null)}catch(n){A({title:"Error",description:n.message,variant:"destructive"})}},q=async n=>{if(t)try{await b.mutateAsync({quoteId:m,workId:t.workId,payload:{workType:"template",templateName:n.work}}),o(null)}catch(x){A({title:"Error",description:x.message,variant:"destructive"})}},I=async({workId:n,templateId:x,type:w})=>{try{await v({quoteId:m,type:w,workId:n,templateId:x})}catch(k){A({title:"Error",description:k.message,variant:"destructive"})}},J=async({workId:n})=>{try{await E({quoteId:m,workId:n})}catch(x){A({title:"Error",description:x.message,variant:"destructive"})}};return e.jsxs("div",{className:"flex flex-col h-screen bg-[#F1F5F9] overflow-hidden font-sans",children:[e.jsxs("header",{className:"h-14 bg-white border-b border-slate-200 flex items-center justify-between  shrink-0 z-30 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>f(-1),className:"bg-white hover:bg-gray-100 shadow-sm flex items-center justify-center w-10 h-10 border border-gray-200 text-gray-600 rounded-lg transition-all",children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white shadow-md",children:e.jsx("i",{className:"fas fa-file-contract text-xs"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-black text-slate-800 uppercase tracking-tight leading-none",children:((G=s==null?void 0:s.mainQuote)==null?void 0:G.mainQuoteName)||"New Quote"}),e.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:[(B=s==null?void 0:s.mainQuote)==null?void 0:B.quoteCategory," Work"]})]})]}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:"text-right border-r pr-5 border-slate-100",children:[e.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Grand Total"}),e.jsxs("p",{className:"text-lg font-black text-slate-900 leading-none",children:["₹",(V=s==null?void 0:s.grandTotal)==null?void 0:V.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),e.jsx(_,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold text-[10px] uppercase h-9 px-4",children:"+ New Area"})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[e.jsx("aside",{className:"w-64 bg-white border-r border-slate-200 flex flex-col shrink-0",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-4 custom-scrollbar",children:(H=(U=s==null?void 0:s.mainQuote)==null?void 0:U.works)==null?void 0:H.map((n,x)=>{var w,k;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded-lg transition-all ${a===n._id?"bg-slate-900 border-slate-900 text-white shadow-md ":"bg-white border-transparent text-slate-600 hover:bg-slate-50 "}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`
            flex items-center justify-center 
            w-6 h-6 rounded-lg text-[10px] font-black 
            transition-colors duration-300
            ${a===n._id?"bg-white/20 text-white":"bg-slate-100 text-slate-400 group-hover:bg-slate-200 "}
        `,children:String(x+1).padStart(2,"0")}),e.jsx(be,{work:n,quoteId:m})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:N=>M(N,n._id),className:"w-5 h-5 rounded hover:bg-blue-50 text-blue-600 flex items-center justify-center transition-all border border-blue-100 bg-white",children:e.jsx("i",{className:"fas fa-plus text-[9px]"})}),e.jsx("button",{onClick:()=>J({workId:n._id}),className:"w-5 h-5 rounded cursor-pointer hover:bg-red-400 text-white flex items-center justify-center transition-all  bg-red-600",children:e.jsx("i",{className:`fas  ${O?"fa-spinner animate-spin":"fa-trash-alt"} text-[10px]`})})]})]}),e.jsxs("div",{className:"space-y-0.5",children:[(w=n.subLettingData)==null?void 0:w.map(N=>{var C,z;return e.jsx("div",{className:"group relative",children:e.jsxs("div",{onClick:()=>{g(n._id),i(N._id)},className:`w-full flex cursor-pointer items-center justify-between p-3 rounded-xl transition-all border ${c===N._id?"bg-blue-50/50 border-blue-200 shadow-sm":"bg-transparent border-transparent"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 truncate pr-2",children:[e.jsx("i",{className:`fas fa-handshake text-[8px] ${c===N._id?"text-emerald-400":"text-slate-300"}`}),e.jsx("span",{className:"text-[11px] font-bold capitalize truncate",children:"Sublet Quote"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`text-[9px] font-mono font-bold group-hover:opacity-0 ${c===N._id?"text-slate-400":"text-slate-800"}`,children:["₹",((z=(C=N.vendorDetails)==null?void 0:C.finalQuoteRate)==null?void 0:z.toLocaleString("en-IN",{minimumFractionDigits:2}))||0]}),e.jsx("button",{onClick:Y=>{Y.stopPropagation(),I({workId:n._id,templateId:N._id,type:"sublet"})},className:"absolute right-3 opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-600 p-1",children:e.jsx("i",{className:`fas  ${T?"fa-spinner animate-spin":"fa-trash-alt"} text-[10px]`})})]})]})},N._id)}),(k=n.workTemplates)==null?void 0:k.map(N=>{var C;return e.jsx("div",{className:"group relative",children:e.jsxs("button",{onClick:()=>{g(n._id),i(N._id)},className:`w-full flex cursor-pointer items-center justify-between p-3 rounded-xl transition-all border ${c===N._id?"bg-blue-50/60 border-blue-500 shadow-sm ring-1 ring-blue-100":"bg-white border-transparent hover:bg-slate-50 "}`,children:[e.jsxs("div",{className:"flex items-center gap-2 truncate pr-2",children:[e.jsx("i",{className:`fas fa-caret-right text-[8px] ${c===N._id?"text-blue-400":"text-slate-300"}`}),e.jsx("span",{className:"text-[11px] font-bold capitalize truncate",children:N.templateName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`text-[9px] font-mono font-bold transition-opacity ${c===N._id,"text-slate-800"} group-hover:opacity-0`,children:["₹",(C=N.singleTotal)==null?void 0:C.toLocaleString("en-IN",{minimumFractionDigits:2})]}),e.jsx("button",{onClick:z=>{z.stopPropagation(),I({workId:n._id,templateId:N._id,type:"template"})},className:"absolute right-3 opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-600 transition-all cursor-pointer p-1",children:e.jsx("i",{className:"fas fa-trash-alt text-[10px]"})})]})]})},N._id)})]})]},n._id)})})}),e.jsx("main",{className:"flex-1 overflow-y-auto p-2",children:L&&y?e.jsx("div",{className:"max-w-full mx-auto space-y-3",children:e.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:y.isSublet?e.jsx(he,{initialData:y,onAutoSave:R,isSubmitting:F.isPending},y._id):e.jsx(pe,{templateName:y.templateName,initialData:y.templateData,onAutoSave:(n,x)=>{W({workId:L._id,tempId:y._id,data:n,total:x})},isSubmitting:P.isPending},y._id)})}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-30",children:[e.jsx("div",{className:"w-16 h-16 bg-white border border-slate-200 rounded-2xl flex items-center justify-center mb-4 shadow-sm",children:e.jsx("i",{className:"fas fa-hand-pointer text-2xl text-slate-300"})}),e.jsx("h3",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Select a sheet from sidebar"})]})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[100]",onClick:()=>o(null)}),e.jsx("div",{style:{position:"fixed",top:t.y,left:t.x,zIndex:101},className:"w-52 bg-white border border-slate-200 shadow-2xl rounded-2xl p-2 animate-in fade-in zoom-in-95 duration-200",children:t.menuLevel==="choice"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest px-3 py-1 border-b border-slate-50 mb-1",children:"Select Work Category"}),e.jsxs("button",{onClick:D,className:"w-full text-left px-3 py-2.5 rounded-xl hover:bg-emerald-50 transition-all group flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 flex items-center justify-center text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:e.jsx("i",{className:"fas fa-handshake text-xs"})}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-bold text-slate-700 text-[11px] leading-none",children:"Sublet Work"}),e.jsx("span",{className:"text-[8px] text-slate-400 uppercase font-medium",children:"Vendor Quote"})]})]}),e.jsxs("button",{onClick:()=>o({...t,menuLevel:"templates"}),className:"w-full text-left px-3 py-2.5 rounded-xl hover:bg-blue-50 transition-all group flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:e.jsx("i",{className:"fas fa-layer-group text-xs"})}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-bold text-slate-700 text-[11px] leading-none",children:"Mat X Sqft (Template)"}),e.jsx("span",{className:"text-[8px] text-slate-400 uppercase font-medium",children:"Material Specs"})]})]}),e.jsx("i",{className:"fas fa-chevron-right text-[10px] text-slate-300"})]})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>o({...t,menuLevel:"choice"}),className:"flex items-center gap-2 px-3 py-1 text-blue-600 hover:text-blue-800 transition-colors mb-1",children:[e.jsx("i",{className:"fas fa-arrow-left text-[9px]"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Back"})]}),K.map(n=>e.jsxs("button",{onClick:()=>q(n),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors group flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-50 flex items-center justify-center border border-slate-100 group-hover:bg-blue-600 transition-colors",children:e.jsx("i",{className:`fas ${n.work==="glass"?"fa-window-restore":"fa-box"} text-[10px] text-blue-600 group-hover:text-white`})}),e.jsxs("span",{className:"font-bold text-slate-700 capitalize text-[10px] tracking-tight",children:[n.work," Spec"]})]},n.work))]})})]})]}),u&&e.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/20 backdrop-blur-sm",onClick:()=>p(!1)}),e.jsxs("div",{className:"relative bg-white w-full max-w-sm rounded-3xl shadow-2xl p-8 border border-slate-100",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest italic",children:"New Area Context"}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mt-1",children:"E.g. Ground Floor Lobby, Meeting Room A"})]}),e.jsx("input",{autoFocus:!0,className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3.5 text-xs font-bold text-slate-900 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all mb-6",placeholder:"NAME OF THE SPACE",value:d,onChange:n=>r(n.target.value.toUpperCase())}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{variant:"secondary",className:"flex-1 text-[10px] font-bold uppercase text-slate-400",onClick:()=>p(!1),children:"Cancel"}),e.jsx(_,{className:"flex-1 bg-bue-600 text-white rounded-xl py-5 font-black text-[10px] uppercase shadow-lg",onClick:$,children:"Confirm"})]})]})]})]})};export{we as I};
