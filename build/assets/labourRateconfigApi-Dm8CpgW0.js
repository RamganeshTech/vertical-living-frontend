import{f as n,b as u,h as i,s as c,i as s}from"./index-BAM0eJUz.js";const w=async({api:r,body:e})=>{const{data:t}=await r.post("/quote/labour/rateconfig/categories",e);if(!t.ok)throw new Error(t.message);return t.data},q=()=>{const r=["owner","CTO","staff"],{role:e}=n(),t=s(e);return i({mutationFn:async o=>{if(!e||!r.includes(e))throw new Error("Not allowed to make this API call");if(!t)throw new Error("API instance not found for role");return await w({api:t,body:o})},onSuccess:(o,{organizationId:a})=>{c.invalidateQueries({queryKey:["rateconfig","categories",a]})}})},f=async({api:r,organizationId:e})=>{const{data:t}=await r.get(`/quote/labour/rateconfig/categories/${e}`);if(!t.ok)throw new Error(t.message);return t.data},p=r=>{const e=["owner","CTO","staff"],{role:t}=n(),o=s(t);return u({queryKey:["rateconfig","categories",r],queryFn:async()=>{if(!t||!e.includes(t))throw new Error("Not allowed to fetch this data");if(!o)throw new Error("API instance not found for role");return await f({api:o,organizationId:r})},enabled:!!r})},d=async({api:r,categoryId:e})=>{const{data:t}=await r.delete(`/quote/labour/rateconfig/categories/${e}`);if(!t.ok)throw new Error(t.message);return t.data},L=()=>{const r=["owner","CTO","staff"],{role:e}=n(),t=s(e);return i({mutationFn:async({categoryId:o})=>{if(!e||!r.includes(e))throw new Error("Not allowed to make this API call");if(!t)throw new Error("API instance not found for role");return await d({api:t,categoryId:o})},onSuccess:(o,{organizationId:a})=>{c.invalidateQueries({queryKey:["rateconfig","categories",a]})}})},g=async({api:r,organizationId:e,categoryId:t})=>{const{data:o}=await r.get(`/quote/labour/rateconfig/categories/${e}/singlesalary/${t}`);if(!o.ok)throw new Error(o.message);return o.data},R=({organizationId:r,categoryId:e})=>{const t=["owner","CTO","staff"],{role:o}=n(),a=s(o);return u({queryKey:["labourcost",r,e],queryFn:async()=>{if(console.log("categoryId",e),!o||!t.includes(o))throw new Error("Not allowed to fetch this data");if(!a)throw new Error("API instance not found for role");return await g({api:a,organizationId:r,categoryId:e})},enabled:!!r&&!!e,retry:!1})},y=async({api:r,organizationId:e,categoryName:t})=>{const{data:o}=await r.get(`/quote/labour/rateconfig/categories/${e}/singlesalary`,{params:{categoryName:t}});if(!o.ok)throw new Error(o.message);return o.data},A=({organizationId:r,categoryName:e})=>{const t=["owner","CTO","staff"],{role:o}=n(),a=s(o);return u({queryKey:["labourcost-categoryName",r,e],queryFn:async()=>{if(!o||!t.includes(o))throw new Error("Not allowed to fetch this data");if(!a)throw new Error("API instance not found for role");return await y({api:a,organizationId:r,categoryName:e})},enabled:!!r&&!!e,retry:!1,staleTime:5*60*1e3})},h=async({api:r,organizationId:e,items:t,categoryId:o})=>{const{data:a}=await r.post(`/quote/labour/rateconfig/categories/${e}/${o}/items`,{items:t});if(!a.ok)throw new Error(a.message);return a.data},k=()=>{const r=["owner","CTO","staff"],{role:e}=n(),t=s(e);return i({mutationFn:async({categoryId:o,organizationId:a,items:l})=>{if(!e||!r.includes(e))throw new Error("Not allowed to make this API call");if(!t)throw new Error("API instance not found for role");return await h({api:t,items:l,categoryId:o,organizationId:a})},onSuccess:(o,{organizationId:a})=>{c.invalidateQueries({queryKey:["rateconfig","items",a]})}})},m=async({api:r,organizationId:e,categoryId:t})=>{const{data:o}=await r.get(`/quote/labour/rateconfig/categories/${e}/${t}/items`);if(!o.ok)throw new Error(o.message);return o.data},P=(r,e)=>{const t=["owner","CTO","staff"],{role:o}=n(),a=s(o);return u({queryKey:["rateconfig","items",r,e],queryFn:async()=>{if(!o||!t.includes(o))throw new Error("Not allowed to fetch this data");if(!a)throw new Error("API instance not found for role");return await m({api:a,organizationId:r,categoryId:e})},enabled:!!r})},b=async({api:r,itemId:e,body:t})=>{const{data:o}=await r.put(`/quote/labour/rateconfig/items/${e}`,t);if(!o.ok)throw new Error(o.message);return o.data},I=()=>{const r=["owner","CTO","staff"],{role:e}=n(),t=s(e);return i({mutationFn:async({itemId:o,body:a})=>{if(!e||!r.includes(e))throw new Error("Not allowed to make this API call");if(!t)throw new Error("API instance not found for role");return await b({api:t,itemId:o,body:a})},onSuccess:(o,{categoryId:a})=>{c.invalidateQueries({queryKey:["rateconfig","items",a]})}})},C=async({api:r,itemId:e})=>{const{data:t}=await r.delete(`/quote/labour/rateconfig/items/${e}`);if(!t.ok)throw new Error(t.message);return t.data},$=()=>{const r=["owner","CTO","staff"],{role:e}=n(),t=s(e);return i({mutationFn:async({itemId:o})=>{if(!e||!r.includes(e))throw new Error("Not allowed to make this API call");if(!t)throw new Error("API instance not found for role");return await C({api:t,itemId:o})},onSuccess:(o,{organizationId:a})=>{c.invalidateQueries({queryKey:["rateconfig","items",a]})}})};export{q as a,L as b,R as c,A as d,P as e,k as f,$ as g,I as h,p as u};
