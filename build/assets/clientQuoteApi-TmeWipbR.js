import{u as s,h as l,a as u,q as c,g as a}from"./index-DyM6T-eT.js";const i=async({api:r,organizationId:t,filters:o})=>{const{data:e}=await r.get(`quote/quotegenerate/getallquotevarients/${t}`,{params:o});if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},w=async({api:r,organizationId:t,id:o})=>{const{data:e}=await r.get(`quote/quotegenerate/getsingleclientquote/${t}/${o}`);if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},f=async({api:r,id:t})=>{const{data:o}=await r.delete(`quote/quotegenerate/delete/${t}`);if(!o.ok)throw new Error((o==null?void 0:o.message)||"Failed to delete");return o.data},d=async({api:r,organizationId:t,id:o})=>{const{data:e}=await r.put(`quote/quotegenerate/storetopaymentstage/${t}/${o}`);if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},y=(r,t)=>{const o=["owner","staff","CTO"],{role:e}=s(),n=a(e);return l({queryKey:["clientquote",r,t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to create quotes");if(!n)throw new Error("API instance for role not found");return await i({api:n,organizationId:r,filters:t})},enabled:!!r})},g=(r,t)=>{const o=["owner","staff","CTO"],{role:e}=s(),n=a(e);return l({queryKey:["clientquote-single",r,t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to create quotes");if(!n)throw new Error("API instance for role not found");return await w({api:n,organizationId:r,id:t})},enabled:!!r})},h=()=>{const r=["owner","staff","CTO"],{role:t}=s(),o=a(t);return u({mutationFn:async({id:e})=>{if(!t||!r.includes(t))throw new Error("Not allowed to create quotes");if(!o)throw new Error("API instance for role not found");return await f({api:o,id:e})},onSuccess:()=>{c.invalidateQueries({queryKey:["clientquote"]})}})},m=()=>{const r=["owner","staff","CTO"],{role:t}=s(),o=a(t);return u({mutationFn:async({organizationId:e,id:n})=>{if(!t||!r.includes(t))throw new Error("Not allowed to create quotes");if(!o)throw new Error("API instance for role not found");return await d({api:o,organizationId:e,id:n})}})};export{y as a,g as b,m as c,h as u};
