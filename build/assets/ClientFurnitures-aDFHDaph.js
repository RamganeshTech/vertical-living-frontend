import{r as f,j as e,ae as L}from"./index-BAM0eJUz.js";const F=f.forwardRef(({data:s,index:k,templateType:l,onImageClick:h,isBlurred:c},v)=>{var b,g;f.useImperativeHandle(v,()=>({getUpdatedFurniture:()=>({furnitureName:s.furnitureName,dimention:s.dimention,plywoodBrand:"",laminateBrand:"",coreMaterials:s==null?void 0:s.coreMaterials,fittingsAndAccessories:s==null?void 0:s.fittingsAndAccessories,glues:s==null?void 0:s.glues,nonBrandMaterials:s==null?void 0:s.nonBrandMaterials,coreMaterialsTotal:s.totals.core,fittingsAndAccessoriesTotal:s.totals.fittings,gluesTotal:s.totals.glues,nonBrandMaterialsTotal:s.totals.nbms,furnitureTotal:s.totals.furnitureTotal,totals:{core:s.totals.core,fittings:s.totals.fittings,glues:s.totals.glues,nbms:s.totals.nbms,furnitureTotal:s.totals.furnitureTotal}})}));const A=()=>{var i,x,r;return e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"font-semibold text-md text-gray-800 mb-2",children:["Core Materials (Total: ₹",(i=s==null?void 0:s.totals)==null?void 0:i.core.toLocaleString("en-IN"),")"]}),e.jsx("div",{className:"overflow-x-auto rounded-md",children:e.jsxs("table",{className:"min-w-full text-sm bg-white shadow-sm",children:[e.jsxs("thead",{className:"bg-blue-50 text-sm font-semibold text-gray-600",children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium  text-gray-500 uppercase tracking-wider",children:"Image"}),l!=="type 3"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),l!=="type 2"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{colSpan:2,className:"text-center px-6 py-1 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plywood"}),e.jsx("th",{colSpan:4,className:"text-center px-6 py-1 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Laminate"})]}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l!=="type 2"&&e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})]}),l!=="type 3"&&l!=="type 2"&&e.jsxs("tr",{className:"bg-blue-50/50",children:[e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r",children:"Qty"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r",children:"Thk"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r ",children:"Inner Qty"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r ",children:"Inner Thk"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r",children:"Outer Qty"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r",children:"Outer Thk"})]})]}),e.jsx("tbody",{children:((x=s==null?void 0:s.coreMaterials)==null?void 0:x.length)>0&&((r=s==null?void 0:s.coreMaterials)==null?void 0:r.map((t,o)=>{var n,m,a,d,p,N,j,y;return e.jsxs("tr",{className:"group border",children:[o===0&&e.jsx("td",{rowSpan:(n=s==null?void 0:s.coreMaterials)==null?void 0:n.length,className:"text-center border-r-1 p-2",children:t!=null&&t.imageUrl?e.jsx("img",{src:(t==null?void 0:t.imageUrl)||L,onClick:()=>h==null?void 0:h(t.imageUrl),className:"h-10 mx-auto cursor-pointer"}):e.jsx(e.Fragment,{children:"—"})}),l!=="type 3"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:c?"blur-sm select-none":"",children:(t==null?void 0:t.itemName)||"—"})}),l!=="type 2"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:c?"blur-sm select-none":"",children:((m=t==null?void 0:t.plywoodNos)==null?void 0:m.quantity)??0})}),e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:c?"blur-sm select-none":"",children:((a=t==null?void 0:t.plywoodNos)==null?void 0:a.thickness)??0})}),e.jsx("td",{className:`text-center border-r p-2 bg-blue-50/20 font-mono ${c?"blur-sm select-none":""}`,children:((d=t.innerLaminate)==null?void 0:d.quantity)||0}),e.jsx("td",{className:`text-center border-r p-2 bg-blue-50/20 font-mono ${c?"blur-sm select-none":""}`,children:((p=t.innerLaminate)==null?void 0:p.thickness)||0}),e.jsx("td",{className:`text-center border-r p-2 bg-orange-50/10 font-mono ${c?"blur-sm select-none":""}`,children:((N=t.outerLaminate)==null?void 0:N.quantity)||0}),e.jsx("td",{className:`text-center border-r p-2 bg-orange-50/10 font-mono ${c?"blur-sm select-none":""}`,children:((j=t.outerLaminate)==null?void 0:j.thickness)||0})]}),e.jsx("td",{className:"text-center border-r-1 p-2 text-green-700 font-bold",children:e.jsxs("span",{className:c?"blur-sm select-none":"",children:["₹",(y=t==null?void 0:t.rowTotal)==null?void 0:y.toLocaleString("en-IN")]})}),l!=="type 2"&&e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:c?"blur-sm select-none":"",children:"—"})})]})]},o)}))})]})})]})},S=i=>{var x,r,t;return i==="Fittings & Accessories"?Math.round((x=s==null?void 0:s.totals)==null?void 0:x.fittings):i==="Glues"?Math.round((r=s==null?void 0:s.totals)==null?void 0:r.glues):i==="Non-Branded Materials"?Math.round((t=s==null?void 0:s.totals)==null?void 0:t.nbms):0},u=(i,x)=>e.jsx(e.Fragment,{children:l!=="type 2"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h3",{className:"font-semibold text-md mb-2 flex items-center gap-2 text-gray-800",children:[i,e.jsxs("span",{children:["(Total: ₹",S(i).toLocaleString("en-IN"),")"]})]}),l!=="type 3"&&e.jsxs("table",{className:"min-w-full text-sm bg-white shadow-sm",children:[e.jsx("thead",{className:"bg-blue-50 text-sm font-semibold text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{children:x.length>0&&x.map((r,t)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:c?"blur-sm select-none":"",children:(r==null?void 0:r.itemName)||"—"})}),e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:c?"blur-sm select-none":"",children:(r==null?void 0:r.description)||"—"})}),e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:c?"blur-sm select-none":"",children:(r==null?void 0:r.quantity)||0})}),e.jsx("td",{className:"text-center border p-2 text-green-700 font-bold",children:e.jsxs("span",{className:c?"blur-sm select-none":"",children:["₹",(r.rowTotal||0).toLocaleString("en-IN")]})}),e.jsx("td",{className:"text-center border p-2",children:"—"})]},t))})]})]})}),M=()=>{var t,o;const i=Array.from(new Set((t=s.fittingsAndAccessories)==null?void 0:t.filter(n=>n.brandName).map(n=>n.brandName))).join(", "),x=Array.from(new Set((o=s.glues)==null?void 0:o.filter(n=>n.brandName).map(n=>n.brandName))).join(", "),r=[{category:"Plywood",brand:s.plywoodBrand,desc:""},{category:"Inner Laminate",brand:s.innerLaminateBrand,desc:""},{category:"Outer Laminate",brand:s.outerLaminateBrand,desc:""},{category:"Fittings & Accessories",brand:i,desc:""},{category:"Adhesives/Glues",brand:x,desc:""}].filter(n=>n.brand);return r.length===0?null:e.jsxs("div",{className:"mt-4 mb-8 overflow-hidden border border-gray-100 rounded-xl shadow-sm bg-white",children:[e.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100",children:e.jsx("h4",{className:"text-sm font-bold text-blue-800 uppercase tracking-widest",children:"Brand Specifications"})}),e.jsxs("table",{className:"w-full table-fixed divide-y divide-gray-100",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white",children:[e.jsx("th",{className:"w-1/3 px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-tighter",children:"Category"}),e.jsx("th",{className:"w-1/3 px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-tighter",children:"Brand Standard"}),e.jsx("th",{className:"w-1/3 px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-tighter",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map((n,m)=>{var a;return e.jsxs("tr",{className:"hover:bg-blue-50/20 transition-all duration-200",children:[e.jsx("td",{className:" px-6 py-4 text-sm font-semibold text-gray-700",children:n.category}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(a=n==null?void 0:n.brand)==null?void 0:a.split(", ").map((d,p)=>e.jsx("span",{className:`${c?"blur-sm select-none":""} inline-block px-3 py-1 rounded-md text-[11px] font-bold bg-blue-50 text-blue-700 border border-blue-100 uppercase`,children:d},p))})}),e.jsx("td",{className:`${c?"blur-sm select-none":""} px-6 py-4 text-sm text-gray-400`,children:n.desc||"---"})]},m)})})]})]})};return e.jsxs("div",{className:"shadow-md p-4 my-4 border rounded-lg bg-white",children:[e.jsxs("div",{className:" flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold  text-blue-600",children:["Product ",k+1,": ",s==null?void 0:s.furnitureName]}),e.jsx("div",{children:e.jsxs("div",{className:"text-right text-xl font-bold text-green-700",children:["Product Total: ₹",(g=((b=s==null?void 0:s.totals)==null?void 0:b.furnitureTotal)||0)==null?void 0:g.toLocaleString("en-IN")]})})]}),(l==="type 2"||l==="type 3")&&e.jsx("section",{children:M()}),A(),u("Fittings & Accessories",s.fittingsAndAccessories),u("Glues",s==null?void 0:s.glues),u("Non-Branded Materials",s==null?void 0:s.nonBrandMaterials)]})});export{F as C};
