import{r as d,t as y,j as e,u as re,a as xe,b as Ce,q as Re,g as ae,c as Ee,d as _e,e as $e,B as X,M as oe}from"./index-D5hl8ps7.js";import{d as Pe}from"./downloadFile-B0gVqarZ.js";import{S as Me,a as De}from"./SmartTagInput-Coxt0S8M.js";import{N as ce}from"./constants-FaVgBbKC.js";import{r as Fe}from"./index-CBIpmTnj.js";function de({images:a,onDelete:l,onDownload:n,isDeleting:o=!1,refetch:j,className:M="",minWidth:A=100,maxWidth:_=100,heightClass:L=0,showSelectButton:B,onToggleSelect:I,isSelected:p,onImageClick:$,portalId:Q,controlledType:v,activePopupType:J,setActivePopupType:q,selectedSiteImage:c,showSiteSelectButton:z,onSiteImageConfirm:U,onPopupOpenChange:R,selectedMicaImage:D=null,onDetectionComplete:E,applyMicaToDetectedAreas:O=!1,onAreasSelected:N,selectedAreas:b=[],enableManualSelection:P=!1}){const[w,F]=d.useState(null),[G,T]=d.useState(!1),[V,Z]=d.useState({}),[H,ee]=d.useState(null),[s,f]=d.useState(!1),[i,g]=d.useState(null),[C,ne]=d.useState(null),ie=d.useRef(null),Y=d.useRef(null),ue=(t,r,m)=>{const x=m/r,S=Math.max(150,Math.min(400,200*x));Z(h=>({...h,[t]:S}))},he=t=>{if(!P||v!=="site")return;const r=Y.current;if(!r)return;const m=r.getBoundingClientRect(),x=t.clientX-m.left,k=t.clientY-m.top;f(!0),ne({x,y:k}),g({class:"custom",score:1,bbox:{x,y:k,width:0,height:0},color:be()})},fe=t=>{if(!s||!C||!i)return;const r=Y.current;if(!r)return;const m=r.getBoundingClientRect(),x=t.clientX-m.left,k=t.clientY-m.top,S=x-C.x,h=k-C.y;g({...i,bbox:{x:S<0?x:C.x,y:h<0?k:C.y,width:Math.abs(S),height:Math.abs(h)}})},le=()=>{if(i&&i.bbox.width>10&&i.bbox.height>10){const t={...i,id:`area-${Date.now()}`},r=[...b,t];N==null||N(r),y({title:"Area Added",description:"New area selected successfully"})}f(!1),g(null),ne(null)},me=t=>{const r=b.filter(m=>m.id!==t);N==null||N(r)},ge=async()=>{if(b.length===0){alert("Please select areas first!");return}if(!D){alert("Please select a MICA material first!");return}if(!c){alert("Please select a site image first!");return}try{const t=ie.current;if(!t)throw new Error("Canvas not available");const r=t.getContext("2d");if(!r)throw new Error("Canvas context not available");const m=Y.current;if(!m)throw new Error("Site image not found");let x=null;const k=document.querySelector(`img[src="${D.url}"]`);k?x=k:(x=new Image,x.src=D.url),await new Promise((h,K)=>{x.complete?h(!0):(x.onload=()=>h(!0),x.onerror=()=>K(new Error("MICA image failed to load")))}),t.width=m.naturalWidth,t.height=m.naturalHeight,r.drawImage(m,0,0),b.forEach(h=>{r.save(),r.beginPath(),r.rect(h.bbox.x,h.bbox.y,h.bbox.width,h.bbox.height),r.clip();const K=r.createPattern(x,"repeat");K&&(r.fillStyle=K,r.fillRect(h.bbox.x,h.bbox.y,h.bbox.width,h.bbox.height)),r.strokeStyle="#00ff00",r.lineWidth=2,r.strokeRect(h.bbox.x,h.bbox.y,h.bbox.width,h.bbox.height),r.restore()});const S=t.toDataURL("image/jpeg");ee(S),console.log("MICA material applied to",b.length,"areas"),y({title:"Success",description:`MICA applied to ${b.length} areas`})}catch(t){console.error("Error applying MICA:",t),y({title:"Error",description:(t==null?void 0:t.message)||"Failed to apply MICA material",variant:"destructive"})}},pe=()=>{N==null||N([]),y({title:"Cleared",description:"All areas cleared"})},be=()=>{const t=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4"];return t[Math.floor(Math.random()*t.length)]};d.useEffect(()=>{v==="site"&&c&&O&&we(c.url)},[c,v,O]);const we=async t=>{try{const r=await fetch("https://houseofram.in/api/detection/detect-areas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:t})});if(!r.ok)throw new Error("Detection failed");const x=(await r.json()).detectedAreas||[];E==null||E(x),x.length===0?y({title:"Info",description:"No objects detected in this image"}):y({title:"Success",description:`Detected ${x.length} objects`})}catch(r){console.error("Detection error:",r),y({title:"Error",description:"Failed to detect objects",variant:"destructive"})}},je=t=>{F(t),T(!0),R==null||R(!0)},W=()=>{T(!1),F(null),R==null||R(!1)},te=()=>{w!==null&&F((w-1+a.length)%a.length)},se=()=>{w!==null&&F((w+1)%a.length)};d.useEffect(()=>{if(!G||v!==J)return;const t=r=>{r.key==="Escape"?W():r.key==="ArrowRight"?se():r.key==="ArrowLeft"&&te()};return G&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[G,se,te,W]);const ye=async t=>{if(l)try{await l(t),j&&await j(),a.length<=1?W():w!==null&&w>=a.length-1&&F(Math.max(0,a.length-2))}catch(r){console.error("Error deleting image:",r)}},ve=t=>{n==null||n({src:t==null?void 0:t.url,alt:(t==null?void 0:t.originalName)||"image"})},Ne=t=>{t.target===t.currentTarget&&W()},u=w!==null&&w>=0&&w<a.length?a[w]:null,ke=()=>v==="site"&&H&&(u==null?void 0:u._id)===(c==null?void 0:c._id)?H:(u==null?void 0:u.url)||ce;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`gap-1 flex flex-wrap ${M}`,children:a==null?void 0:a.map((t,r)=>{const m=V[t._id]||200;return e.jsxs("div",{className:`relative cursor-pointer bg-gray-100 mb-1 break-inside-avoid border-2 transition-all ${v==="site"&&(c==null?void 0:c._id)===t._id?"border-blue-500 border-2":"border-transparent"}`,style:{flex:`0 1 ${A}px`,minWidth:`${A}px`,maxWidth:`${_}px`,height:`${L||m}px`},onClick:()=>{je(r),$==null||$(t),q(v)},children:[e.jsx("img",{src:(t==null?void 0:t.url)||ce,alt:(t==null?void 0:t.originalName)||`Image ${r+1}`,className:"w-full cursor-pointer h-full object-cover",loading:"lazy",onLoad:x=>{const k=x.target;ue(t._id,k.naturalWidth,k.naturalHeight)}}),P&&v==="site"&&(c==null?void 0:c._id)===t._id&&b.length>0&&e.jsxs("div",{className:"absolute top-1 left-1 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:[b.length," areas"]})]},t._id)})}),G&&u&&Fe.createPortal(e.jsxs("div",{className:"absolute inset-0 bg-black/90 text-white p-4 z-50 flex items-center justify-center",onClick:Ne,style:{margin:0,padding:0,zIndex:1e3},children:[e.jsxs("div",{className:"absolute top-6 right-6 z-[10000] flex items-center gap-4",children:[P&&v==="site"&&e.jsxs("div",{className:"bg-black/70 rounded-full px-3 py-2",children:[e.jsx("span",{className:"text-sm mr-2",children:"🎯"}),e.jsxs("span",{className:"text-sm",children:[b.length," areas"]})]}),P&&v==="site"&&b.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),ge()},className:"bg-green-600 hover:bg-green-700 text-white rounded-full p-3 transition-all duration-200",title:"Apply MICA to selected areas",disabled:!D,children:e.jsx("i",{className:"fas fa-paint-roller text-lg"})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),pe()},className:"bg-orange-600 hover:bg-orange-700 text-white rounded-full p-3 transition-all duration-200",title:"Clear all selections",children:e.jsx("i",{className:"fas fa-broom text-lg"})})]}),e.jsx("button",{onClick:t=>{t.stopPropagation(),ve(u)},className:"bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-all duration-200",title:"Download",children:e.jsx("i",{className:"fas fa-download text-lg"})}),l&&e.jsx("button",{onClick:t=>{t.stopPropagation(),ye(u._id)},className:"bg-black/50 hover:bg-red-600/70 text-white rounded-full p-3 transition-all duration-200",title:"Delete",disabled:o,children:e.jsx("i",{className:`fas ${o?"fa-spinner fa-spin":"fa-trash-can"} text-lg`})}),B&&I&&u&&e.jsx("button",{onClick:t=>{t.stopPropagation();const r=(p==null?void 0:p(u))??!1;I(u,!r)},className:`${p!=null&&p(u)?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white rounded-full p-3 transition-all duration-200`,title:p!=null&&p(u)?"Unselect this image":"Select this image",children:e.jsx("i",{className:`fas ${p!=null&&p(u)?"fa-xmark":"fa-check"} text-lg`})}),z&&e.jsx("button",{onClick:t=>U==null?void 0:U(t,u),className:`${(c==null?void 0:c._id)===u._id?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white rounded-full p-3 transition-all duration-200`,title:(c==null?void 0:c._id)===u._id?"Unselect this site image":"Select this site image",children:e.jsx("i",{className:`fas ${(c==null?void 0:c._id)===u._id?"fa-xmark":"fa-check"} text-lg`})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),W()},className:"bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-all duration-200",title:"Close",children:e.jsx("i",{className:"fas fa-times text-xl"})})]}),e.jsx("button",{onClick:t=>{t.stopPropagation(),te()},className:"absolute left-6 top-1/2 transform -translate-y-1/2 z-[10000] bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-all duration-200",children:e.jsx("i",{className:"fas fa-chevron-left text-2xl"})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),se()},className:"absolute right-6 top-1/2 transform -translate-y-1/2 z-[10000] bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-all duration-200",children:e.jsx("i",{className:"fas fa-chevron-right text-2xl"})}),e.jsxs("div",{className:"relative flex items-center justify-center",style:{width:"70vw",height:"70vh",maxWidth:"70vw",maxHeight:"70vh"},children:[e.jsx("img",{ref:Y,src:ke(),alt:u.originalName||`Image ${w!==null?w+1:1}`,className:"max-w-full max-h-full object-contain cursor-crosshair",onMouseDown:he,onMouseMove:fe,onMouseUp:le,onMouseLeave:le}),i&&e.jsx("div",{className:"absolute border-2 border-dashed border-yellow-400 bg-yellow-400/20",style:{left:`${i.bbox.x}px`,top:`${i.bbox.y}px`,width:`${i.bbox.width}px`,height:`${i.bbox.height}px`},children:e.jsx("span",{className:"absolute -top-6 left-0 text-xs bg-yellow-400 text-black px-1 rounded",children:"New Area"})}),P&&v==="site"&&b.map((t,r)=>e.jsx("div",{className:"absolute border-2 border-dashed cursor-pointer group",style:{left:`${t.bbox.x}px`,top:`${t.bbox.y}px`,width:`${t.bbox.width}px`,height:`${t.bbox.height}px`,borderColor:t.color||"#3B82F6",backgroundColor:`${t.color||"#3B82F6"}20`},onClick:m=>{m.stopPropagation(),me(t.id)},children:e.jsxs("span",{className:"absolute -top-6 left-0 text-xs bg-black/70 text-white px-1 rounded group-hover:bg-red-500",children:[t.class," ×"]})},t.id||r)),P&&v==="site"&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm",children:"🖱️ Click & drag to select areas • Click areas to remove"})]}),e.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 text-white text-sm bg-black/50 px-4 py-2 rounded-full",children:[w!==null?w+1:1," of ",a.length]})]}),document.getElementById(Q)),e.jsx("canvas",{ref:ie,style:{display:"none"}})]})}const Ae=async({projectId:a,selections:l,api:n})=>{const{data:o}=await n.post(`/detection/upload/${a}`,{selections:l});if(!o.ok)throw new Error(o.message);return o.data},Le=async({projectId:a,api:l})=>{const{data:n}=await l.get(`/detection/getsiteimages/${a}`);if(!n.ok)throw new Error(n.message);return n.data},Be=async({organizationId:a,api:l,tags:n})=>{let o="";n&&n.length>0?o=`?${n.map(A=>`tags=${encodeURIComponent(A)}`).join("&")}`:o="?tags=all";const{data:j}=await l.get(`/detection/getreferencedesigns/${a}${o}`);if(!j.ok)throw new Error(j.message);return j.data},Ie=()=>{const a=["owner","staff","CTO"],{role:l}=re(),n=ae(l);return Ce({mutationFn:async({projectId:o,selections:j})=>{if(!l||!a.includes(l))throw new Error("Not authorized");if(!n)throw new Error("API instance missing");return await Ae({projectId:o,selections:j,api:n})},onSuccess:(o,{projectId:j})=>{Re.invalidateQueries({queryKey:["mica-shortlistedDesigns",j]})}})},Ue=a=>{const l=["owner","staff","CTO"],{role:n}=re(),o=ae(n);return xe({queryKey:["mica-siteImages",a],queryFn:async()=>{if(!n||!l.includes(n))throw new Error("Not authorized");if(!o)throw new Error("API instance missing");return await Le({projectId:a,api:o})},enabled:!!a&&!!n,retry:!1})},Ge=(a,l)=>{const n=["owner","staff","CTO"],{role:o}=re(),j=ae(o);return xe({queryKey:["mica-reference-shortlist",a,l],queryFn:async()=>{if(!o||!n.includes(o))throw new Error("Not authorized");if(!j)throw new Error("API instance missing");return await Be({organizationId:a,api:j,tags:l})},enabled:!!a&&!!o,retry:!1})},Se=a=>Ee.get(`https://houseofram.in/api/detection/getsuggestedtags?q=${encodeURIComponent(a)}`).then(l=>{var n;return Array.isArray((n=l==null?void 0:l.data)==null?void 0:n.tags)?l.data.tags:[]});function He(){const{projectId:a,organizationId:l}=_e(),[n,o]=d.useState(null),j=$e(),{data:M=[],isLoading:A}=Ue(a),[_,L]=d.useState(null),[B,I]=d.useState([]),[p,$]=d.useState(null),[Q,v]=d.useState([]),J=s=>{v(s)},[q,c]=d.useState(!1),[z,U]=d.useState(!1),[R,D]=d.useState([]),{data:E,isLoading:O}=Ge(l,R);d.useEffect(()=>{L(null),I([]),o(null),$(null),U(!1),c(!1)},[E]);const[N,b]=d.useState([]),{mutateAsync:P,isPending:w}=Ie();d.useEffect(()=>{const s=q||z;return document.body.style.overflow=s?"hidden":"unset",()=>{document.body.style.overflow="unset"}},[q,z]);const F=s=>{$(s),y({title:"Mica Selected",description:"Mica material applied to site image"})},G=s=>{console.log("Detection completed:",s)},T=(s,f)=>{s.stopPropagation(),L(i=>(i==null?void 0:i._id)===f._id?(y({title:"Success",description:"Unselected, You can now select another one."}),null):(y({title:"Success",description:"Site Image selected"}),f))},V=(s,f)=>{if(!_){y({title:"Error",description:"Please select a Site Image first",variant:"destructive"});return}I(i=>{const g=i.some(C=>C._id===s._id);return f&&!g?($(s),[...i,s]):f?i:((p==null?void 0:p._id)===s._id&&$(null),i.filter(C=>C._id!==s._id))})},Z=(s,f)=>{b(i=>i.map(g=>g.siteImage._id===s?{...g,referenceImages:g.referenceImages.filter(C=>C._id!==f)}:g).filter(g=>g.referenceImages.length>0))},H=s=>{b(f=>f.filter(i=>i.siteImage._id!==s))},ee=async()=>{if(N.length===0){y({title:"Error",description:"No selections to generate",variant:"destructive"});return}try{const s=await P({projectId:a,selections:N});Pe({src:s.url,alt:s.fileName}),y({title:"Sucess",description:"Designs Generated Successfully!"}),b([])}catch(s){y({title:"Error",description:s==null?void 0:s.message,variant:"destructive"})}};return e.jsxs("div",{className:"max-w-full overflow-y-auto max-h-full px-4 mx-auto py-2",children:[e.jsxs("header",{className:"flex gap-2 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{onClick:()=>j(-1),className:"flex bg-gray-200 h-fit rounded-full items-center gap-2 backdrop-blur-sm px-4 py-2 cursor-pointer",children:[e.jsx("i",{className:"fas fa-arrow-left text-sm"}),e.jsx("span",{className:"text-sm hidden sm:inline-block font-medium",children:"Back"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-900 mb-1",children:"Shortlisting Mica Designs"}),e.jsx("p",{className:"text-gray-600 hidden sm:inline-block text-sm md:text-md",children:"Select and organize your favorite design references for easy access"})]})]}),(_||B.length>0)&&e.jsx("button",{className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg cursor-pointer",onClick:()=>{if(!_||B.length===0){y({title:"Error",description:"Select site image & at least 1 reference",variant:"destructive"});return}b(s=>[...s.filter(i=>i.siteImage._id!==_._id),{siteImage:_,referenceImages:B}]),L(null),I([])},children:"Confirm Selection"})]}),e.jsx("hr",{className:"my-3 bg-gray-500"}),e.jsxs("div",{className:"mb-4 flex gap-4 w-full  items-end",children:[e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Categories"}),e.jsx(Me,{tags:R,setState:D,suggestionFetcher:Se})]}),e.jsx("div",{children:e.jsx(X,{variant:"outline",onClick:()=>D([]),className:"text-sm ml-2 flex",children:"Reset Filter"})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 border-gray-300 border-2 rounded-2xl p-2",children:[e.jsxs("div",{className:"border-r-1 border-gray-300 pr-8",children:[e.jsx("h2",{className:"font-semibold text-lg mb-2",children:"Reference Designs"}),e.jsx("div",{className:"my-3 w-full h-[1px] bg-gray-200"}),O?e.jsx("div",{children:e.jsx(oe,{})}):e.jsx("div",{className:"relative  h-[80vh]",id:"reference-popup-container",children:(E==null?void 0:E.length)>0?e.jsx(de,{images:E||[],portalId:"reference-popup-container",heightClass:190,minWidth:140,maxWidth:190,showSelectButton:!0,setActivePopupType:o,activePopupType:n,controlledType:"reference",onToggleSelect:(s,f)=>V(s,f),isSelected:s=>B.some(f=>f._id===s._id),onPopupOpenChange:U,className:"overflow-y-auto max-h-[550px]",onImageClick:F,applyMicaToDetectedAreas:!1}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] w-full bg-white   text-center p-6",children:[e.jsx("i",{className:"fas fa-box-open text-5xl text-blue-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-1",children:"No Reference Images Available"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Upload the Images in the ",e.jsx("span",{className:"cursor-pointer font-semibold text-blue-600",onClick:()=>j(`/organizations/${l}/projects/shortlistdesign`),children:"Reference Design"})," section",e.jsx("br",{}),"Select multiple Reference images",e.jsx("br",{}),"after selecting ",e.jsx("strong",{children:'"Confirm Selection"'})," to add images 🚀"]})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-lg mb-2",children:"Site Images"}),e.jsx("div",{className:"my-3 w-full h-[1px] bg-gray-200"}),A?e.jsx("div",{children:e.jsx(oe,{})}):e.jsx("div",{className:"relative  h-[80vh]",id:"site-popup-container",children:(M==null?void 0:M.length)>0?e.jsx(de,{portalId:"site-popup-container",images:M,heightClass:190,minWidth:140,maxWidth:190,setActivePopupType:o,activePopupType:n,controlledType:"site",showSiteSelectButton:!0,onSiteImageConfirm:T,selectedSiteImage:_,onImageClick:s=>{L(s),o("site")},onPopupOpenChange:c,className:"overflow-y-auto max-h-[550px]",applyMicaToDetectedAreas:!0,selectedMicaImage:p,onDetectionComplete:G,enableManualSelection:!0,onAreasSelected:J,selectedAreas:Q}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] w-full bg-white   text-center p-6",children:[e.jsx("i",{className:"fas fa-box-open text-5xl text-blue-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-1",children:"No Site Images Available"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Upload the Images in the Site Measurement Stage",e.jsx("br",{}),"Select multiple Reference images for single Site Image ",e.jsx("br",{}),"after selection ",e.jsx("strong",{children:'"Confirm Selection"'})," to add images 🚀"]})]})})]})]}),N.length>0?e.jsxs("div",{className:"mt-10 space-y-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"font-bold text-xl mb-4",children:"Selected Designs"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{isLoading:w,onClick:ee,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded shadow disabled:opacity-50",children:w?"Generating...":"Generate Pdf"}),e.jsx(X,{onClick:()=>{b([])},variant:"danger",className:"bg-red-600  text-white px-6 py-2 rounded shadow disabled:opacity-50",children:"Clear List"})]})]}),N.map(({siteImage:s,referenceImages:f},i)=>e.jsxs("div",{className:"p-4 py-6 border border-gray-300 rounded-lg bg-white shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"",children:[e.jsxs("h2",{className:"text-base font-semibold text-gray-700 min-w-[110px]",children:["Site Image ",i+1]}),e.jsx("br",{}),e.jsx("img",{src:s==null?void 0:s.url,alt:s.originalName||`Site ${i+1}`,className:"h-28 w-auto object-contain border rounded-md"})]}),e.jsxs(X,{variant:"danger",onClick:()=>H(s._id),className:"text-white bg-red-600 text-sm whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-trash !mr-2 "}),"Remove Site + References"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 flex-col",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-700 min-w-[110px]",children:"Referece Images"}),e.jsx("div",{className:"flex flex-wrap gap-4 ",children:f.map(g=>e.jsxs("div",{className:"relative  w-[120px] h-[120px] ",children:[e.jsx("img",{src:g.url,alt:g.originalName,className:"w-full h-full object-cover rounded  shadow-sm"}),e.jsx("button",{onClick:()=>Z(s._id,g._id),className:"absolute top-1 right-1 bg-red-600 text-white p-1 px-2 text-xs rounded-full",children:"✕"}),e.jsx("p",{className:"text-xs mt-1 text-center max-w-[120px] truncate",children:g.originalName})]},g._id))})]})]},s._id))]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-semibold text-black-800 my-3",children:"Youre Selections will appear below"}),e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] w-full bg-white rounded-xl shadow-xl border border-gray-100  text-center p-6",children:[e.jsx("i",{className:"fas fa-box-open text-5xl text-blue-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-1",children:"No Selections Created"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Your Selection will appear here.",e.jsx("br",{}),"Select multiple Reference images for single Site Image ",e.jsx("br",{}),"after selection ",e.jsx("strong",{children:'"Confirm Selection"'})," to add images 🚀"]})]})]}),e.jsx("section",{className:"mt-6",children:e.jsx(De,{projectId:a})})]})}export{He as default,Se as fetchSuggestions};
