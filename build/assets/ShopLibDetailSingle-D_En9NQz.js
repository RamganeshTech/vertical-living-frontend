import{u as v,a as w,r as p,k,j as e,B as I}from"./index-BAM0eJUz.js";import{c as E}from"./vendorAccApi-m3R96_-K.js";import{I as S}from"./ImageGalleryMain-B3g6b13d.js";import"./useInfiniteQuery-BGz0VllC.js";import"./downloadFile-BbGV_BaX.js";import"./index-C8BdbktQ.js";import"./ShortListMain-CkHPlJB3.js";import"./Card-CdxfjEr-.js";const z=()=>{var c,x,m,h;const{shopId:a}=v(),r=w(),[t,n]=p.useState(!1),{role:g,permission:o}=k(),u=g==="owner"||((c=o==null?void 0:o.ordermaterial)==null?void 0:c.edit),{data:s,isLoading:b,error:j}=E(a,!!a);p.useEffect(()=>{const f=N=>{N.key==="Escape"&&n(!1)};return t&&(window.addEventListener("keydown",f),document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",f),document.body.style.overflow="unset"}},[t]);const y=()=>r(-1);if(b)return e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx("i",{className:"fas fa-spinner fa-spin text-3xl text-blue-500"})});if(j||!s)return e.jsx("div",{className:"h-screen flex items-center justify-center text-red-500 font-bold",children:"Shop data not found."});const d=s.shopImages||[],l=s.mainImage?typeof s.mainImage=="string"?s.mainImage:(x=s==null?void 0:s.mainImage)!=null&&x.url?(m=s==null?void 0:s.mainImage)==null?void 0:m.url:URL.createObjectURL(s.mainImage):null;return e.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[e.jsxs("header",{className:"bg-white border-b px-6 py-3 flex justify-between items-center z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx("i",{className:"fas fa-arrow-left text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:s.shopDisplayName}),e.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-2 py-0.5 rounded font-bold uppercase tracking-widest",children:s.vendorCategory||"General Shop"})]})]}),u&&e.jsxs(I,{onClick:()=>r(`/vendors/edit/${a}`),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-4",children:[e.jsx("i",{className:"fas fa-edit mr-2"})," Edit Details"]})]}),e.jsxs("main",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 bg-white p-8 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>l&&n(!0),children:[e.jsx("div",{className:"w-40 h-40 rounded-full border-[6px] border-gray-50 shadow-xl overflow-hidden bg-gray-100 ring-1 ring-gray-200 transition-all group-hover:ring-blue-400 group-hover:scale-[1.02]",children:l?e.jsx("img",{src:l,alt:"Shop Main",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:e.jsx("i",{className:"fas fa-store text-5xl"})})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("i",{className:"fas fa-search-plus text-white text-xl"})})]}),e.jsx("p",{className:"mt-3 text-[10px] font-bold text-gray-400 uppercase tracking-widest italic",children:"Main Shop Image"})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-y-6 gap-x-10",children:[e.jsx(i,{icon:"user-tie",label:"Vendor / Owner Name",value:s.firstName}),e.jsx(i,{icon:"mobile-button",label:"Contact Number",value:(h=s.phone)==null?void 0:h.mobile}),e.jsx(i,{icon:"envelope-open-text",label:"Email Address",value:s.email}),e.jsx(i,{icon:"map-location-dot",label:"Shop Address",value:s.shopFullAddress})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-camera-retro text-purple-500"}),"Prominent Shop Gallery"]}),e.jsxs("span",{className:"text-xs font-medium text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[d.length," Photos Available"]})]}),e.jsx("div",{className:"min-h-[200px]",children:d.length>0?e.jsx(S,{imageFiles:d,height:220,minWidth:220,maxWidth:300,className:"!p-0 !gap-1"}):e.jsxs("div",{className:"h-40 flex flex-col items-center justify-center bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx("i",{className:"fas fa-images text-4xl text-gray-200 mb-2"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"No additional gallery photos uploaded"})]})})]})]}),t&&e.jsxs("div",{className:"fixed inset-0 bg-black/30 z-[999] flex items-center justify-center p-6 backdrop-blur-md",onClick:()=>n(!1),children:[e.jsx("button",{className:"absolute top-8 right-8 text-white text-3xl transition-transform hover:scale-125",children:e.jsx("i",{className:"fas fa-times"})}),e.jsx("img",{src:l,className:"max-w-full max-h-[85vh] rounded-lg shadow-2xl border-4 border-white/10 animate-in fade-in zoom-in duration-300",alt:"Shop Preview"})]})]})},i=({icon:a,label:r,value:t})=>e.jsxs("div",{className:"flex items-start gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center flex-shrink-0 border border-blue-100",children:e.jsx("i",{className:`fas fa-${a} text-blue-600 text-sm`})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-wider mb-0.5",children:r}),e.jsx("p",{className:"text-sm text-gray-800 font-bold break-words",children:t||e.jsx("span",{className:"text-gray-300 font-normal",children:"N/A"})})]})]});export{z as default};
