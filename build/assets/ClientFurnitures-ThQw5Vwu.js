import{r as b,j as e}from"./index-4xXsHyrq.js";import{N as S}from"./constants-FaVgBbKC.js";const I=b.forwardRef(({data:s,index:f,isBlurred:r},y)=>{var m,o;b.useImperativeHandle(y,()=>({getUpdatedFurniture:()=>({furnitureName:s.furnitureName,plywoodBrand:"",laminateBrand:"",coreMaterials:s==null?void 0:s.coreMaterials,fittingsAndAccessories:s==null?void 0:s.fittingsAndAccessories,glues:s==null?void 0:s.glues,nonBrandMaterials:s==null?void 0:s.nonBrandMaterials,coreMaterialsTotal:s.totals.core,fittingsAndAccessoriesTotal:s.totals.fittings,gluesTotal:s.totals.glues,nonBrandMaterialsTotal:s.totals.nbms,furnitureTotal:s.totals.furnitureTotal,totals:{core:s.totals.core,fittings:s.totals.fittings,glues:s.totals.glues,nbms:s.totals.nbms,furnitureTotal:s.totals.furnitureTotal}})}));const k=()=>{var c,l,n;return e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"font-semibold text-md text-gray-800 mb-2",children:["Core Materials (Total: ₹",(c=s==null?void 0:s.totals)==null?void 0:c.core.toLocaleString("en-IN"),")"]}),e.jsx("div",{className:"overflow-x-auto rounded-md",children:e.jsxs("table",{className:"min-w-full text-sm bg-white shadow-sm",children:[e.jsxs("thead",{className:"bg-blue-50 text-sm font-semibold text-gray-600",children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{colSpan:2,className:"text-center px-6 py-1 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plywood"}),e.jsx("th",{colSpan:2,className:"text-center px-6 py-1 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Laminate"}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No. of Carpenters / Day"}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No. of Days"}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"text-center px-6 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),e.jsx("th",{className:"text-center px-6 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thk"}),e.jsx("th",{className:"text-center px-6 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),e.jsx("th",{className:"text-center px-6 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thk"})]})]}),e.jsx("tbody",{children:((l=s==null?void 0:s.coreMaterials)==null?void 0:l.length)>0&&((n=s==null?void 0:s.coreMaterials)==null?void 0:n.map((t,i)=>{var a,p,h,u,d,N,g,j;return e.jsxs("tr",{className:"group border",children:[i===0&&e.jsx("td",{rowSpan:(a=s==null?void 0:s.coreMaterials)==null?void 0:a.length,className:"text-center border-r-1 p-2",children:t!=null&&t.imageUrl?e.jsx("img",{src:(t==null?void 0:t.imageUrl)||S,className:"h-10 mx-auto"}):e.jsx(e.Fragment,{children:"—"})}),e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:(t==null?void 0:t.itemName)||"—"})}),e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:((p=t==null?void 0:t.plywoodNos)==null?void 0:p.quantity)??0})}),e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:((h=t==null?void 0:t.plywoodNos)==null?void 0:h.thickness)??0})}),e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:((u=t==null?void 0:t.laminateNos)==null?void 0:u.quantity)??0})}),e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:((d=t==null?void 0:t.laminateNos)==null?void 0:d.thickness)??0})}),i===0&&e.jsxs(e.Fragment,{children:[e.jsx("td",{rowSpan:(N=s==null?void 0:s.coreMaterials)==null?void 0:N.length,className:"text-center border-r-1 p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:(t==null?void 0:t.carpenters)||0})}),e.jsx("td",{rowSpan:(g=s==null?void 0:s.coreMaterials)==null?void 0:g.length,className:"text-center border-r-1 p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:(t==null?void 0:t.days)||0})})]}),e.jsx("td",{className:"text-center border-r-1 p-2 text-green-700 font-bold",children:e.jsxs("span",{className:r?"blur-sm select-none":"",children:["₹",(j=t==null?void 0:t.rowTotal)==null?void 0:j.toLocaleString("en-IN")]})}),e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:"—"})})]},i)}))})]})})]})},M=c=>{var l,n,t;return c==="Fittings & Accessories"?Math.round((l=s==null?void 0:s.totals)==null?void 0:l.fittings):c==="Glues"?Math.round((n=s==null?void 0:s.totals)==null?void 0:n.glues):c==="Non-Branded Materials"?Math.round((t=s==null?void 0:s.totals)==null?void 0:t.nbms):0},x=(c,l)=>e.jsxs("div",{className:"mt-4",children:[e.jsxs("h3",{className:"font-semibold text-md mb-2 text-gray-800",children:[c,"(Total: ₹",M(c).toLocaleString("en-IN"),")"]}),e.jsxs("table",{className:"min-w-full text-sm bg-white shadow-sm",children:[e.jsx("thead",{className:"bg-blue-50 text-sm font-semibold text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Cost"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{children:l.length>0&&l.map((n,t)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:(n==null?void 0:n.itemName)||"—"})}),e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:(n==null?void 0:n.description)||"—"})}),e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:(n==null?void 0:n.quantity)||0})}),e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:r?"blur-sm select-none":"",children:(n==null?void 0:n.cost)||0})}),e.jsx("td",{className:"text-center border p-2 text-green-700 font-bold",children:e.jsxs("span",{className:r?"blur-sm select-none":"",children:["₹",(n.rowTotal||0).toLocaleString("en-IN")]})}),e.jsx("td",{className:"text-center border p-2",children:"—"})]},t))})]})]});return e.jsxs("div",{className:"shadow-md p-4 my-4 border rounded-lg bg-white",children:[e.jsxs("div",{className:" flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold  text-blue-600",children:["Product ",f+1,": ",s==null?void 0:s.furnitureName]}),e.jsx("div",{children:e.jsxs("div",{className:"text-right text-xl font-bold text-green-700",children:["Product Total: ₹",(o=((m=s==null?void 0:s.totals)==null?void 0:m.furnitureTotal)||0)==null?void 0:o.toLocaleString("en-IN")]})})]}),k(),x("Fittings & Accessories",s.fittingsAndAccessories),x("Glues",s==null?void 0:s.glues),x("Non-Branded Materials",s==null?void 0:s.nonBrandMaterials)]})});export{I as C};
