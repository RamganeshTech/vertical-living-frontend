import{u as w}from"./useQuery-CsoXJJPn.js";import{c as s,q as y,d as u}from"./index-DLaY3p7d.js";import{u as l}from"./useMutation-BqZ7KIEa.js";import{g as i}from"./roleCheck-BlurDUv2.js";const d=async(a,e,t,r)=>{const{data:o}=await r.post(`/qualitycheck/${a}/${e}/item/create`,t);if(!o.ok)throw new Error(o.message);return o.data},k=async(a,e,t,r,o)=>{const{data:n}=await o.put(`/qualitycheck/${a}/${e}/${t}/item/edit`,r);if(!n.ok)throw new Error(n.message);return n.data},m=async(a,e,t,r)=>{console.log("deleteimnga the itesm");const{data:o}=await r.delete(`/qualitycheck/${a}/${e}/${t}/item/delete`);if(!o.ok)throw new Error(o.message);return o},f=async(a,e)=>{const{data:t}=await e.get(`/qualitycheck/${a}`);if(!t.ok)throw new Error(t.message);return t.data},p=async(a,e,t)=>{const{data:r}=await t.get(`/qualitycheck/${a}/${e}`);if(!r.ok)throw new Error(r.message);return r.data},R=()=>{const a=["owner","CTO","staff"],{role:e}=s(),t=i(e),r=u();return l({mutationFn:async({projectId:o,roomName:n,formData:c})=>{if(!e||!a.includes(e))throw new Error("Not allowed.");if(!t)throw new Error("can't make the call");return await d(o,n,c,t)},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["quality-checkup",n]})}})},A=()=>{const a=["owner","CTO","staff"],{role:e}=s(),t=i(e),r=u();return l({mutationFn:async({projectId:o,roomName:n,itemId:c,formData:h})=>{if(!e||!a.includes(e))throw new Error("Not allowed.");if(!t)throw new Error("can't make the call");return await k(o,n,c,h,t)},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["quality-checkup",n]})}})},F=()=>{const a=["owner","CTO","staff"],{role:e}=s(),t=i(e),r=u();return l({mutationFn:async({projectId:o,roomName:n,itemId:c})=>{if(!e||!a.includes(e))throw new Error("Not allowed.");if(!t)throw new Error("can't make the call");return await m(o,n,c,t)},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["quality-checkup",n]})}})},O=a=>{const e=["owner","CTO","staff","worker"],{role:t}=s(),r=i(t);return w({queryKey:["quality-checkup",a],queryFn:async()=>{if(!t||!e.includes(t))throw new Error("Not allowed.");if(!r)throw new Error("can't make the call");return await f(a,r)},enabled:!!a,retry:!1,retryOnMount:!1})},K=(a,e)=>{const t=["owner","CTO","staff","worker"],{role:r}=s(),o=i(r);return w({queryKey:["quality-checkup-room",a,e],queryFn:async()=>{if(!r||!t.includes(r))throw new Error("Not allowed.");if(!o)throw new Error("can't make the call");return await p(a,e,o)},enabled:!!a&&!!e})},q=async({formId:a,deadLine:e,projectId:t,api:r})=>{const{data:o}=await r.put(`/qualitycheck/deadline/${t}/${a}`,{deadLine:e});if(!o.ok)throw new Error(o.message);return o.data},C=async({projectId:a,api:e})=>{const{data:t}=await e.put(`/qualitycheck/completionstatus/${a}`);if(!t.ok)throw new Error(t.message);return t.data},S=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=i(e);return l({mutationFn:async({formId:r,deadLine:o,projectId:n})=>{if(!e||!a.includes(e))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance missing");return await q({formId:r,projectId:n,deadLine:o,api:t})},onSuccess:()=>{y.invalidateQueries({queryKey:["quality-checkup"]})}})},T=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=i(e);return l({mutationFn:async({projectId:r})=>{if(!e||!a.includes(e))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance missing");return await C({projectId:r,api:t})},onSuccess:(r,{projectId:o})=>{y.invalidateQueries({queryKey:["quality-checkup",o]})}})};export{S as a,T as b,K as c,R as d,A as e,F as f,O as u};
