import{u as X,b as G,r as N,j as e}from"./index-C1DtYOG4.js";import{u as K,a as F,D as _,P as V,b as q,C as U}from"./core.esm-DoKRjpok.js";import{a as Z,b as Q,c as ee}from"./billNewAccountingApi-Cmr2pQXb.js";import{B as te}from"./Button-D6HVPia8.js";import"./index-BzRRwkiY.js";import"./useQuery-DD9aZBjN.js";import"./useMutation-BgVKkKtF.js";import"./useInfiniteQuery-4I03x6LQ.js";import"./roleCheck-vyRiFK58.js";function se(t){const[u,v]=N.useState([t]),[b,d]=N.useState(0),p=u[b],C=y=>{const k=typeof y=="function"?y(p):y;if(JSON.stringify(p)===JSON.stringify(k))return;const S=u.slice(0,b+1);S.push(k),v(S),d(S.length-1)},f=N.useCallback(()=>{d(y=>Math.max(y-1,0))},[]),x=N.useCallback(()=>{v(y=>(d(k=>Math.min(k+1,y.length-1)),y))},[]),j=y=>{v([y]),d(0)};return{state:p,setState:C,undo:f,redo:x,canUndo:b>0,canRedo:b<u.length-1,reset:j}}const J=()=>`blk_${Math.random().toString(36).substr(2,9)}`,I={fontSize:12,color:"#000000",backgroundColor:"transparent",fontWeight:"normal",textAlign:"left",width:200,height:"auto"},le=({onSelect:t})=>{const[u,v]=N.useState({rows:0,cols:0});return e.jsxs("div",{className:"absolute top-12 left-0 z-50 bg-white shadow-xl border border-gray-300 p-3 rounded w-48",children:[e.jsxs("div",{className:"text-xs font-bold mb-2 text-gray-500",children:["Table ",u.cols,"x",u.rows]}),e.jsx("div",{className:"grid grid-cols-10 gap-1",onMouseLeave:()=>v({rows:0,cols:0}),children:Array.from({length:50}).map((b,d)=>{const p=Math.floor(d/10)+1,C=d%10+1,f=p<=u.rows&&C<=u.cols;return e.jsx("div",{className:`w-3 h-3 border ${f?"bg-blue-500 border-blue-600":"bg-gray-100 border-gray-300"}`,onMouseEnter:()=>v({rows:p,cols:C}),onClick:()=>t(p,C)},d)})})]})},ae=({x:t,y:u,actions:v,onClose:b})=>(N.useEffect(()=>{const d=()=>b();return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[b]),e.jsx("div",{className:"fixed z-[9999] bg-white shadow-xl border border-gray-200 rounded py-1 min-w-[180px]",style:{top:u,left:t},children:v.map((d,p)=>e.jsx("button",{onClick:d.action,className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 block ${d.color||"text-gray-700"}`,children:d.label},p))})),re=({component:t,isSelected:u,onClick:v,onUpdateValue:b,onUpdateMeta:d,onResize:p,onDelete:C,activeCell:f,onCellSelect:x})=>{var H,B,O;const{attributes:j,listeners:y,setNodeRef:k,transform:S,isDragging:z}=q({id:t.id,data:{...t}}),[m,w]=N.useState(null),D={transform:U.Translate.toString(S),position:"absolute",left:`${t.x}px`,top:`${t.y}px`,width:t.style.width?`${t.style.width}px`:"auto",height:t.style.height?`${t.style.height}px`:"auto",zIndex:z?9999:u?100:1,fontSize:`${t.style.fontSize}px`,color:t.style.color,fontWeight:t.style.fontWeight,textAlign:t.style.textAlign,backgroundColor:t.style.backgroundColor},A=a=>{a.stopPropagation(),a.preventDefault();const n=a.clientX,i=a.clientY,g=t.style.width||100,h=t.style.height||100,s=r=>{const c=Math.max(50,g+(r.clientX-n)),o=Math.max(20,h+(r.clientY-i));p(c,o)},l=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)},L=(a,n)=>{a.stopPropagation();const i=a.clientX,g=t.columnWidths||[],h=t.style.width||300,s=r=>{const c=(r.clientX-i)/h*100,o=[...g];o[n+1]!==void 0&&(o[n]=Math.max(5,o[n]+c),o[n+1]=Math.max(5,o[n+1]-c),d("columnWidths",o))},l=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)},W=(a,n)=>{a.stopPropagation();const i=a.clientY,g=t.rowHeights||[],h=l=>{const r=[...g],c=l.clientY-i;r[n]=Math.max(20,(r[n]||30)+c),d("rowHeights",r)},s=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",s)},E=(a,n=-1,i=-1)=>{t.type==="table"&&(a.preventDefault(),a.stopPropagation(),w({x:a.clientX,y:a.clientY,targetR:n,targetC:i}))},P=()=>{if(!m)return;const{targetR:a}=m,n=a===-1?t.value.length:a+1,i=JSON.parse(JSON.stringify(t.value)),g=i[0]?i[0].length:1,h=Array.from({length:g},()=>({content:"",style:{}}));i.splice(n,0,h);const s=[...t.rowHeights||[]];s.splice(n,0,30),b(i),d("rowHeights",s),w(null)},T=()=>{var s;if(!m)return;const{targetC:a}=m,n=a===-1?((s=t.columnWidths)==null?void 0:s.length)||1:a+1,i=t.value.map(l=>{const r=[...l];return r.splice(n,0,{content:"",style:{}}),r});let g=[...t.columnWidths||[]];g.splice(n,0,15);const h=g.reduce((l,r)=>l+r,0);g=g.map(l=>l/h*100),b(i),d("columnWidths",g),w(null)},Y=()=>{if(!m||m.targetR===-1)return;const{targetR:a}=m,n=[...t.value];if(n.length<=1)return;n.splice(a,1);const i=[...t.rowHeights||[]];i.splice(a,1),b(n),d("rowHeights",i),w(null)},$=()=>{if(!m||m.targetC===-1)return;const{targetC:a}=m;if(t.value[0].length<=1)return;const n=t.value.map(h=>h.filter((s,l)=>l!==a));let i=[...t.columnWidths||[]];i.splice(a,1);const g=i.reduce((h,s)=>h+s,0);i=i.map(h=>h/g*100),b(n),d("columnWidths",i),w(null)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:k,style:D,onContextMenu:a=>E(a),onClick:a=>{a.stopPropagation(),v()},className:`group ${u?"ring-2 ring-blue-500":"hover:ring-1 hover:ring-gray-300"}`,children:[e.jsx("div",{...y,...j,className:`absolute -top-3 -left-3 w-6 h-6 bg-white shadow rounded-full flex items-center justify-center cursor-move z-50 
                    ${u?"flex":"hidden group-hover:flex"}`,children:e.jsx("i",{className:"fa-solid fa-arrows-up-down-left-right text-xs text-gray-600"})}),t.type==="text"&&e.jsx("textarea",{className:"w-full h-full p-1 bg-transparent border-transparent hover:border-dotted hover:border-gray-300 outline-none focus:bg-blue-50/20 cursor-text resize-none overflow-hidden",value:t.label,style:{fontSize:t.style.fontSize,fontWeight:t.style.fontWeight,textAlign:t.style.textAlign,color:t.style.color},onChange:a=>d("label",a.target.value),onPointerDown:a=>a.stopPropagation()}),t.type==="data-field"&&e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 border border-dashed border-gray-400 bg-gray-50 w-full h-full overflow-hidden",...y,...j,children:[e.jsxs("span",{className:"font-bold text-xs whitespace-nowrap",children:[t.label,":"]}),e.jsx("input",{className:"bg-transparent border-b border-gray-300 text-xs w-full outline-none",value:t.value,onChange:a=>b(a.target.value),placeholder:"Value...",onPointerDown:a=>a.stopPropagation()})]}),t.type==="image"&&e.jsx("div",{className:"w-full h-full bg-gray-100",children:Array.isArray(t.value)&&t.value.length>0?e.jsx("img",{src:typeof t.value[0]=="string"?t.value[0]:t.value[0].preview,className:"w-full h-full block pointer-events-none object-fill"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-400 border border-dashed",children:"No Img"})}),t.type==="table"&&Array.isArray(t.value)&&e.jsxs("div",{className:"w-full h-full flex flex-col relative",children:[u&&e.jsx("div",{className:"flex w-full h-2 absolute -top-2 left-0 pointer-events-none z-20",children:(H=t.columnWidths)==null?void 0:H.map((a,n)=>e.jsx("div",{style:{width:`${a}%`},className:"relative border-r border-blue-400 h-2 pointer-events-auto",children:e.jsx("div",{onMouseDown:i=>L(i,n),className:"absolute right-[-4px] top-0 w-2 h-4 cursor-col-resize bg-blue-400 hover:bg-blue-600 rounded-sm z-50"})},n))}),u&&e.jsx("div",{className:"absolute -left-2 top-0 w-2 h-full flex flex-col pointer-events-none z-20",children:(B=t.rowHeights)==null?void 0:B.map((a,n)=>e.jsx("div",{style:{height:`${a}px`},className:"relative border-b border-blue-400 w-2 pointer-events-auto",children:e.jsx("div",{onMouseDown:i=>W(i,n),className:"absolute bottom-[-4px] left-0 w-4 h-2 cursor-row-resize bg-blue-400 hover:bg-blue-600 rounded-sm z-50"})},n))}),e.jsxs("table",{className:"w-full table-fixed",style:{borderCollapse:"collapse",border:"1px solid #000"},children:[e.jsx("colgroup",{children:(O=t.columnWidths)==null?void 0:O.map((a,n)=>e.jsx("col",{style:{width:`${a}%`}},n))}),e.jsx("tbody",{children:t.value.map((a,n)=>e.jsx("tr",{style:{height:`${t.rowHeights&&t.rowHeights[n]||30}px`},children:a.map((i,g)=>{const h=i.style||{},s=(f==null?void 0:f.r)===n&&(f==null?void 0:f.c)===g;return e.jsx("td",{style:{border:"1px solid #000",padding:0,verticalAlign:"top",backgroundColor:h.backgroundColor||"transparent"},className:`relative ${s?"ring-2 ring-inset ring-blue-500 z-10":""}`,onContextMenu:l=>E(l,n,g),children:e.jsx("textarea",{className:"w-full h-full p-1 border-none outline-none bg-transparent cursor-text resize-none overflow-hidden whitespace-pre-wrap",style:{fontSize:`${h.fontSize||t.style.fontSize}px`,color:h.color||t.style.color,textAlign:h.textAlign||t.style.textAlign,fontWeight:h.fontWeight||t.style.fontWeight,fontFamily:"inherit",lineHeight:"1.2"},value:typeof i=="object"?i.content:i,onChange:l=>{const r=JSON.parse(JSON.stringify(t.value));typeof r[n][g]=="string"?r[n][g]={content:l.target.value,style:{}}:r[n][g].content=l.target.value,b(r)},onFocus:()=>x&&x(n,g),onPointerDown:l=>l.stopPropagation()})},g)})},n))})]})]}),u&&e.jsx("div",{onMouseDown:A,onPointerDown:a=>a.stopPropagation(),className:"absolute -bottom-1 -right-1 w-4 h-4 bg-blue-500 cursor-nwse-resize rounded-full z-50 border-2 border-white shadow"})]}),m&&e.jsx(ae,{x:m.x,y:m.y,onClose:()=>w(null),actions:[{label:"Insert Row Below",action:P,color:"text-blue-600"},{label:"Insert Column Right",action:T,color:"text-blue-600"},{label:"Delete This Row",action:Y,color:"text-gray-600"},{label:"Delete This Column",action:$,color:"text-gray-600"},{label:"Delete Entire Table",action:C,color:"text-red-600 font-bold border-t border-gray-200 mt-1 pt-1"}]})]})},ne=({component:t,activeCell:u,onUpdate:v,onUpdateCell:b,onDelete:d,onClose:p})=>{const C=(x,j,y,k,S,z,m="")=>e.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 rounded border border-gray-200",children:[e.jsxs("h4",{className:"text-[10px] font-bold text-gray-500 uppercase",children:[m," Styling"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:"Size"}),e.jsx("input",{type:"number",className:"w-full border p-1 text-xs rounded",value:x||12,onChange:w=>z("fontSize",Number(w.target.value))})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:"Text"}),e.jsx("div",{className:"flex items-center border p-1 rounded bg-white h-7",children:e.jsx("input",{type:"color",className:"w-full h-full border-none p-0 bg-transparent cursor-pointer",value:j||"#000000",onChange:w=>z("color",w.target.value)})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:"BG Color"}),e.jsx("div",{className:"flex items-center border p-1 rounded bg-white h-7",children:e.jsx("input",{type:"color",className:"w-full h-full border-none p-0 bg-transparent cursor-pointer",value:y||"#ffffff",onChange:w=>z("backgroundColor",w.target.value)})})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>z("fontWeight",k==="bold"?"normal":"bold"),className:`flex-1 border p-1 rounded text-xs ${k==="bold"?"bg-blue-100 text-blue-600":"bg-white"}`,children:e.jsx("i",{className:"fa-solid fa-bold"})}),e.jsx("button",{onClick:()=>z("textAlign","left"),className:`flex-1 border p-1 rounded text-xs ${S==="left"?"bg-blue-100 text-blue-600":"bg-white"}`,children:e.jsx("i",{className:"fa-solid fa-align-left"})}),e.jsx("button",{onClick:()=>z("textAlign","center"),className:`flex-1 border p-1 rounded text-xs ${S==="center"?"bg-blue-100 text-blue-600":"bg-white"}`,children:e.jsx("i",{className:"fa-solid fa-align-center"})}),e.jsx("button",{onClick:()=>z("textAlign","right"),className:`flex-1 border p-1 rounded text-xs ${S==="right"?"bg-blue-100 text-blue-600":"bg-white"}`,children:e.jsx("i",{className:"fa-solid fa-align-right"})})]})]});let f={};return t.type==="table"&&u&&t.value[u.r]&&t.value[u.r][u.c]&&(f=t.value[u.r][u.c].style||{}),e.jsxs("div",{className:"w-72 bg-white border-l border-gray-200 flex flex-col h-full shadow-xl z-50 fixed right-0 top-16 bottom-0",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-xs uppercase text-gray-600",children:"Properties"}),e.jsx("button",{onClick:p,children:e.jsx("i",{className:"fa-solid fa-xmark text-gray-400"})})]}),e.jsxs("div",{className:"p-4 space-y-6 overflow-y-auto flex-1",children:[t.type==="text"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 mb-1 block",children:"Text Content"}),e.jsx("textarea",{className:"w-full border p-2 text-sm rounded",rows:3,value:t.label,onChange:x=>v("label",x.target.value)})]}),t.type==="data-field"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 mb-1 block",children:"Config"}),e.jsx("input",{className:"w-full border p-2 text-sm rounded mb-2",placeholder:"Label",value:t.label,onChange:x=>v("label",x.target.value)}),e.jsx("input",{className:"w-full border p-2 text-sm rounded",placeholder:"Default Value",value:t.value,onChange:x=>v("value",x.target.value)})]}),t.type==="table"&&u&&e.jsxs("div",{className:"mb-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsxs("span",{className:"text-xs font-bold text-green-600",children:["Selected Cell (",u.r+1,", ",u.c+1,")"]})]}),C(f.fontSize||t.style.fontSize,f.color||t.style.color,f.backgroundColor||"transparent",f.fontWeight||t.style.fontWeight,f.textAlign||t.style.textAlign,(x,j)=>b(u.r,u.c,x,j),"Cell"),e.jsx("hr",{className:"my-4 border-gray-200"})]}),C(t.style.fontSize,t.style.color,t.style.backgroundColor,t.style.fontWeight,t.style.textAlign,(x,j)=>v(x,j,!0),"Global / Block"),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px]",children:"X"})," ",e.jsx("input",{type:"number",className:"w-full border p-1 text-sm",value:Math.round(t.x),readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px]",children:"Y"})," ",e.jsx("input",{type:"number",className:"w-full border p-1 text-sm",value:Math.round(t.y),readOnly:!0})]})]}),e.jsx("button",{onClick:()=>d(),className:"w-full mt-6 bg-red-50 text-red-600 py-2 rounded border border-red-200 text-sm",children:"Delete Block"})]})]})},be=({mode:t})=>{const u=X(),{id:v,organizationId:b}=G(),{data:d}=Z({id:v||"",organizationId:b}),p=Q(),C=ee(),{state:f=[],setState:x,undo:j,redo:y,canUndo:k,canRedo:S,reset:z}=se([]),[m,w]=N.useState(""),[D,A]=N.useState(null),[L,W]=N.useState(null),[E,P]=N.useState(!1),T=N.useRef(null),Y=K(F(V,{activationConstraint:{distance:5}}));N.useEffect(()=>{const s=l=>{(l.ctrlKey||l.metaKey)&&l.key==="z"&&(l.preventDefault(),l.shiftKey?y():j()),(l.ctrlKey||l.metaKey)&&l.key==="y"&&(l.preventDefault(),y())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[j,y]),N.useEffect(()=>{var s;if(t==="create")w(""),z([]);else if(d&&(w(d.templateName),d.layout&&((s=d.layout[0])!=null&&s.components))){const r=d.layout[0].components.map(c=>{var o;return c.type==="table"&&Array.isArray(c.value)&&typeof((o=c.value[0])==null?void 0:o[0])=="string"&&(c.value=c.value.map(M=>M.map(R=>({content:R,style:{}})))),c});z(r)}},[d,t]);const $=s=>{const l={id:J(),type:s,label:s==="text"?"Text":"Field",value:s==="text"?"":"Val",x:50,y:50+f.length*20,style:{...I,width:150,height:"auto"}};x(r=>[...r,l]),A(l.id),W(null)},H=(s,l)=>{const r=Array.from({length:s},()=>Array(l).fill({content:"",style:{}})),c=Array(l).fill(100/l),o=Array(s).fill(30),M={id:J(),type:"table",label:"Table",value:r,x:50,y:100,columnWidths:c,rowHeights:o,style:{...I,width:400,height:s*30}};x(R=>[...R,M]),P(!1),A(M.id),W(null)},B=s=>{if(s.target.files&&s.target.files[0]){const l=s.target.files[0],r=Object.assign(l,{preview:URL.createObjectURL(l)}),c={id:J(),type:"image",label:"Img",value:[r],x:50,y:50,style:{...I,width:200,height:200}};x(o=>[...o,c])}},O=s=>{const{active:l,delta:r}=s;x(c=>c.map(o=>o.id===l.id?{...o,x:o.x+r.x,y:o.y+r.y}:o))},a=(s,l,r)=>{x(c=>c.map(o=>o.id===s?{...o,style:{...o.style,width:l,height:r}}:o))},n=(s,l,r=!1)=>{D&&x(c=>c.map(o=>o.id!==D?o:r?{...o,style:{...o.style,[s]:l}}:{...o,[s]:l}))},i=(s,l,r,c)=>{D&&x(o=>o.map(M=>{if(M.id!==D||M.type!=="table")return M;const R=JSON.parse(JSON.stringify(M.value));return R[s]&&R[s][l]&&(R[s][l].style={...R[s][l].style,[r]:c}),{...M,value:R}}))},g=()=>{if(!m.trim())return alert("Name required");const l={organizationId:b,templateName:m,layout:[{id:"main_canvas",name:"Canvas",order:0,style:I,components:f}]};t==="create"?p.mutate(l):C.mutate({...l,id:v})},h=f.find(s=>s.id===D);return e.jsxs("div",{className:"h-screen flex flex-col bg-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"h-14 bg-white border-b flex items-center justify-between px-4 shadow-sm z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>u(-1),children:e.jsx("i",{className:"fa-solid fa-arrow-left text-gray-500"})}),e.jsx("input",{className:"font-bold text-gray-700 outline-none",value:m,onChange:s=>w(s.target.value),placeholder:"Template Name"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:j,disabled:!k,className:`btn-tool ${k?"":"opacity-50 cursor-not-allowed"}`,title:"Undo (Ctrl+Z)",children:e.jsx("i",{className:"fa-solid fa-rotate-left"})}),e.jsx("button",{onClick:y,disabled:!S,className:`btn-tool ${S?"":"opacity-50 cursor-not-allowed"}`,title:"Redo (Ctrl+Y)",children:e.jsx("i",{className:"fa-solid fa-rotate-right"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),e.jsxs("button",{onClick:()=>$("text"),className:"btn-tool",children:[e.jsx("i",{className:"fa-solid fa-font"})," Text"]}),e.jsxs("button",{onClick:()=>$("data-field"),className:"btn-tool",children:[e.jsx("i",{className:"fa-solid fa-database"})," Field"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>P(!E),className:"btn-tool",children:[e.jsx("i",{className:"fa-solid fa-table"})," Table"]}),E&&e.jsx(le,{onSelect:H})]}),e.jsxs("button",{onClick:()=>{var s;return(s=T.current)==null?void 0:s.click()},className:"btn-tool",children:[e.jsx("i",{className:"fa-regular fa-image"})," Image"]}),e.jsx("input",{type:"file",ref:T,className:"hidden",onChange:B})]}),e.jsx(te,{onClick:g,isLoading:p.isPending||C.isPending,children:"Save Template"})]}),e.jsx("div",{className:"flex-1 bg-gray-200 overflow-auto p-8 relative",onClick:()=>{A(null),W(null)},children:e.jsx(_,{sensors:Y,onDragEnd:O,children:e.jsx("div",{className:"mx-auto bg-white shadow-2xl relative",style:{width:794,minHeight:1123,height:"auto"},children:f.map(s=>e.jsx(re,{component:s,isSelected:s.id===D,activeCell:s.id===D?L:null,onClick:()=>A(s.id),onCellSelect:(l,r)=>{A(s.id),W({r:l,c:r})},onUpdateValue:l=>x(r=>r.map(c=>c.id===s.id?{...c,value:l}:c)),onUpdateMeta:(l,r)=>x(c=>c.map(o=>o.id===s.id?{...o,[l]:r}:o)),onResize:(l,r)=>a(s.id,l,r),onDelete:()=>{x(l=>l.filter(r=>r.id!==s.id)),A(null),W(null)}},s.id))})})}),D&&h&&e.jsx(ne,{component:h,activeCell:h.type==="table"?L:null,onUpdate:n,onUpdateCell:i,onDelete:()=>{x(s=>s.filter(l=>l.id!==D)),A(null)},onClose:()=>A(null)})]})};export{be as TemplateBillSingle,be as default};
