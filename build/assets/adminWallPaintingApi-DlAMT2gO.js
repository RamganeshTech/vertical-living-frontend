import{q as a,E as u,F as c,H as s}from"./index-CKvTvGhg.js";const d=async(n,t)=>{var e;const r=await t.get(`/adminwall/${n}`);return(e=r==null?void 0:r.data)==null?void 0:e.data},w=async(n,t,r)=>(await r.get(`/adminwall/${n}/step/${t}`)).data,l=async(n,t,r,e)=>(await e.post(`/adminwall/${n}/step/${t}/correction`,r,{headers:{"Content-Type":"multipart/form-data"}})).data,p=async(n,t,r,e)=>(await e.patch(`/adminwall/${n}/step/${t}/approve`,r)).data,m=n=>{const{role:t}=a(),r=s(t),e=["owner","staff","CTO"];return u({queryKey:["adminSOP",n],queryFn:()=>{if(!t||!e.includes(t))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return d(n,r)}})},A=(n,t)=>{const{role:r}=a(),e=s(r),o=["owner","staff","CTO"];return u({queryKey:["adminStep",n,t],queryFn:()=>{if(!r||!o.includes(r))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return w(n,t,e)}})},h=()=>{const{role:n}=a(),t=s(n),r=["owner","staff","CTO"];return c({mutationFn:async({projectId:e,stepNumber:o,formData:i})=>{if(!n||!r.includes(n))throw new Error("Unauthorized");if(!t)throw new Error("API not found");return l(e,o,i,t)}})},y=()=>{const{role:n}=a(),t=s(n),r=["owner","staff","CTO"];return c({mutationFn:async({projectId:e,stepId:o,payload:i})=>{if(!n||!r.includes(n))throw new Error("Unauthorized");if(!t)throw new Error("API not found");return p(e,o,i,t)}})};export{y as a,h as b,A as c,m as u};
