import{d as w,q as g}from"./index-CDrefmTi.js";import{g as m}from"./roleCheck-CvMnicJf.js";import{u as P}from"./useQuery-Dbv1d8R2.js";import{u as y}from"./useMutation-DXlA4CUQ.js";import{u as h}from"./useInfiniteQuery-CfZbtSpd.js";const E=async({organizationId:t,vendorId:n,page:e,limit:r,paymentFromDate:i,paymentToDate:l,createdFromDate:c,createdToDate:u,search:d,sortBy:p,sortOrder:f,api:s})=>{const a=new URLSearchParams;t&&a.append("organizationId",t),n&&a.append("vendorId",n),e&&a.append("page",e.toString()),r&&a.append("limit",r.toString()),i&&a.append("paymentFromDate",i),l&&a.append("paymentToDate",l),c&&a.append("createdFromDate",c),u&&a.append("createdToDate",u),p&&a.append("sortBy",p),f&&a.append("sortOrder",f),d&&a.append("search",d);const{data:o}=await s.get(`/department/accounting/vendorpayment/getall?${a.toString()}`);if(!o.ok)throw new Error(o.message);return o},A=async({vendorpaymentsData:t,api:n})=>{const{data:e}=await n.post("/department/accounting/vendorpayment/create",t);if(!e.ok)throw new Error(e.message);return e.data},v=async({vendorpaymentsId:t,api:n})=>{const{data:e}=await n.delete(`/department/accounting/vendorpayment/delete/${t}`);if(!e.ok)throw new Error(e.message);return e.data},k=async({vendorpaymentsId:t,api:n})=>{const{data:e}=await n.get(`/department/accounting/vendorpayment/getsingle/${t}`);if(!e.ok)throw new Error(e.message);return e.data},N=({organizationId:t,vendorId:n,limit:e=10,search:r,paymentFromDate:i,paymentToDate:l,createdFromDate:c,createdToDate:u,sortBy:d,sortOrder:p})=>{const f=["owner","staff","CTO"],{role:s}=w(),a=m(s);return h({queryKey:["VendorPayment",t,n,e,i,l,c,u,r,d,p],queryFn:async({pageParam:o=1})=>{if(!s||!f.includes(s))throw new Error("Not allowed to make this API call");if(!a)throw new Error("API instance not found for role");return await E({organizationId:t,vendorId:n,page:o,limit:e,paymentFromDate:i,paymentToDate:l,createdFromDate:c,createdToDate:u,search:r,sortBy:d,sortOrder:p,api:a})},getNextPageParam:o=>{if(o.pagination.page<o.pagination.totalPages)return o.pagination.page+1},getPreviousPageParam:o=>{if(o.pagination.page>1)return o.pagination.page-1},initialPageParam:1,enabled:!!s&&f.includes(s)&&!!t})},I=()=>{const t=["owner","staff","CTO"],{role:n}=w(),e=m(n);return y({mutationFn:async({vendorpaymentsData:r})=>{if(!n||!t.includes(n))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await A({vendorpaymentsData:r,api:e})},onSuccess:()=>{g.invalidateQueries({queryKey:["VendorPayment"]})}})},K=()=>{const t=["owner","staff","CTO"],{role:n}=w(),e=m(n);return y({mutationFn:async({vendorpaymentsId:r})=>{if(!n||!t.includes(n))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await v({vendorpaymentsId:r,api:e})},onSuccess:()=>{g.invalidateQueries({queryKey:["VendorPayment"]})}})},Q=t=>{const n=["owner","staff","CTO"],{role:e}=w(),r=m(e);return P({queryKey:["vendorpayments",t],queryFn:async()=>{if(!e||!n.includes(e))throw new Error("Not allowed to make this API call");if(!r)throw new Error("API instance not found for role");return await k({vendorpaymentsId:t,api:r})},enabled:!!t&&!!e&&n.includes(e)})};export{K as a,Q as b,I as c,N as u};
