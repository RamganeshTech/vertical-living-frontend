import{u as c,q as y}from"./index-By5P0A7l.js";import{g as u}from"./roleCheck-YGaMnK_P.js";import{u as P}from"./useQuery-Cc7pLKfK.js";import{u as g}from"./useMutation-7YLqc7VE.js";import{u as h}from"./useInfiniteQuery-DQF0m-E9.js";const E=async({organizationId:t,vendorId:n,page:e,limit:a,vendorPaymentFromDate:s,vendorPaymentToDate:d,createdFromDate:l,createdToDate:p,search:w,sortBy:f,sortOrder:m,api:i})=>{const o=new URLSearchParams;t&&o.append("organizationId",t),n&&o.append("vendorId",n),e&&o.append("page",e.toString()),a&&o.append("limit",a.toString()),s&&o.append("vendorPaymentFromDate",s),d&&o.append("vendorPaymentToDate",d),l&&o.append("createdFromDate",l),p&&o.append("createdToDate",p),f&&o.append("sortBy",f),m&&o.append("sortOrder",m),w&&o.append("search",w);const{data:r}=await i.get(`/department/accounting/vendorpayment/getall?${o.toString()}`);if(!r.ok)throw new Error(r.message);return r},A=async({vendorpaymentsData:t,api:n})=>{const{data:e}=await n.post("/department/accounting/vendorpayment/create",t);if(!e.ok)throw new Error(e.message);return e.data},v=async({vendorpaymentsData:t,id:n,api:e})=>{const{data:a}=await e.put(`/department/accounting/vendorpayment/update/${n}`,t);if(!a.ok)throw new Error(a.message);return a.data},V=async({id:t,api:n})=>{const{data:e}=await n.post(`/department/accounting/vendorpayment/sendtopayment/${t}`);if(!e.ok)throw new Error(e.message);return e.data},S=async({vendorpaymentsId:t,api:n})=>{const{data:e}=await n.delete(`/department/accounting/vendorpayment/delete/${t}`);if(!e.ok)throw new Error(e.message);return e.data},k=async({vendorpaymentsId:t,api:n})=>{const{data:e}=await n.get(`/department/accounting/vendorpayment/getsingle/${t}`);if(!e.ok)throw new Error(e.message);return e.data},N=({organizationId:t,vendorId:n,limit:e=10,search:a,vendorPaymentFromDate:s,vendorPaymentToDate:d,createdFromDate:l,createdToDate:p,sortBy:w,sortOrder:f})=>{const m=["owner","staff","CTO"],{role:i}=c(),o=u(i);return h({queryKey:["VendorPayment",t,n,e,s,d,l,p,a,w,f],queryFn:async({pageParam:r=1})=>{if(!i||!m.includes(i))throw new Error("Not allowed to make this API call");if(!o)throw new Error("API instance not found for role");return await E({organizationId:t,vendorId:n,page:r,limit:e,vendorPaymentFromDate:s,vendorPaymentToDate:d,createdFromDate:l,createdToDate:p,search:a,sortBy:w,sortOrder:f,api:o})},getNextPageParam:r=>{if(r.pagination.page<r.pagination.totalPages)return r.pagination.page+1},getPreviousPageParam:r=>{if(r.pagination.page>1)return r.pagination.page-1},initialPageParam:1,enabled:!!i&&m.includes(i)&&!!t})},Q=()=>{const t=["owner","staff","CTO"],{role:n}=c(),e=u(n);return g({mutationFn:async({vendorpaymentsData:a})=>{if(!n||!t.includes(n))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await A({vendorpaymentsData:a,api:e})},onSuccess:()=>{y.invalidateQueries({queryKey:["VendorPayment"]})}})},T=()=>{const t=["owner","staff","CTO"],{role:n}=c(),e=u(n);return g({mutationFn:async({vendorpaymentsData:a,id:s})=>{if(!n||!t.includes(n))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await v({vendorpaymentsData:a,id:s,api:e})},onSuccess:()=>{y.invalidateQueries({queryKey:["VendorPayment"]})}})},F=()=>{const t=["owner","staff","CTO"],{role:n}=c(),e=u(n);return g({mutationFn:async({vendorpaymentsId:a})=>{if(!n||!t.includes(n))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await S({vendorpaymentsId:a,api:e})},onSuccess:()=>{y.invalidateQueries({queryKey:["VendorPayment"]})}})},O=t=>{const n=["owner","staff","CTO"],{role:e}=c(),a=u(e);return P({queryKey:["vendorpayments",t],queryFn:async()=>{if(!e||!n.includes(e))throw new Error("Not allowed to make this API call");if(!a)throw new Error("API instance not found for role");return await k({vendorpaymentsId:t,api:a})},enabled:!!t&&!!e&&n.includes(e)})},$=()=>{const t=["owner","staff","CTO"],{role:n}=c(),e=u(n);return g({mutationFn:async({id:a})=>{if(!n||!t.includes(n))throw new Error("Unauthorized");if(!e)throw new Error("API instance not found for role");return await V({id:a,api:e})},onSuccess:()=>{y.invalidateQueries({queryKey:["VendorPayment"]})}})};export{F as a,O as b,T as c,Q as d,$ as e,N as u};
