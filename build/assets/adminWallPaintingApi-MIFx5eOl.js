import{m as a,n as u,o as c,v as s}from"./index-JxDlpqED.js";const d=async(n,t)=>{var o;const r=await t.get(`/adminwall/${n}`);return(o=r==null?void 0:r.data)==null?void 0:o.data},w=async(n,t,r)=>(await r.get(`/adminwall/${n}/step/${t}`)).data,l=async(n,t,r,o)=>(await o.post(`/adminwall/${n}/step/${t}/correction`,r,{headers:{"Content-Type":"multipart/form-data"}})).data,p=async(n,t,r,o)=>(await o.patch(`/adminwall/${n}/step/${t}/approve`,r)).data,m=n=>{const{role:t}=a(),r=s(t),o=["owner","staff","CTO"];return u({queryKey:["adminSOP",n],queryFn:()=>{if(!t||!o.includes(t))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return d(n,r)}})},A=(n,t)=>{const{role:r}=a(),o=s(r),e=["owner","staff","CTO"];return u({queryKey:["adminStep",n,t],queryFn:()=>{if(!r||!e.includes(r))throw new Error("Unauthorized");if(!o)throw new Error("API not found");return w(n,t,o)}})},h=()=>{const{role:n}=a(),t=s(n),r=["owner","staff","CTO"];return c({mutationFn:async({projectId:o,stepNumber:e,formData:i})=>{if(!n||!r.includes(n))throw new Error("Unauthorized");if(!t)throw new Error("API not found");return l(o,e,i,t)}})},y=()=>{const{role:n}=a(),t=s(n),r=["owner","staff","CTO"];return c({mutationFn:async({projectId:o,stepId:e,payload:i})=>{if(!n||!r.includes(n))throw new Error("Unauthorized");if(!t)throw new Error("API not found");return p(o,e,i,t)}})};export{y as a,h as b,A as c,m as u};
