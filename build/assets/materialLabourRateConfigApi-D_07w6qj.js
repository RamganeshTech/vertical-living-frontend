import{c as s,k as i,d as l,q as u,g as n}from"./index-CUvv9ev0.js";const w=async({api:a,organizationId:t})=>{const{data:e}=await a.get(`/quote/materialwithlabour/rateconfig/categories/${t}`);if(!e.ok)throw new Error(e.message);return e.data},g=a=>{const t=["owner","CTO","staff"],{role:e}=s(),r=n(e);return i({queryKey:["labourwithmaterial","rateconfig","categories",a],queryFn:async()=>{if(!e||!t.includes(e))throw new Error("Not allowed to fetch this data");if(!r)throw new Error("API instance not found for role");return await w({api:r,organizationId:a})},enabled:!!a})},f=async({api:a,organizationId:t,items:e,categoryId:r})=>{const{data:o}=await a.post(`/quote/materialwithlabour/rateconfig/categories/${t}/${r}/items`,{items:e});if(!o.ok)throw new Error(o.message);return o.data},y=()=>{const a=["owner","CTO","staff"],{role:t}=s(),e=n(t);return l({mutationFn:async({categoryId:r,organizationId:o,items:c})=>{if(!t||!a.includes(t))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await f({api:e,items:c,categoryId:r,organizationId:o})},onSuccess:(r,{organizationId:o})=>{u.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","items",o]})}})},h=async({api:a,organizationId:t,categoryId:e})=>{const{data:r}=await a.get(`/quote/materialwithlabour/rateconfig/categories/${t}/${e}/items`);if(!r.ok)throw new Error(r.message);return r.data},b=(a,t)=>{const e=["owner","CTO","staff"],{role:r}=s(),o=n(r);return i({queryKey:["labourwithmaterial","rateconfig","items",a,t],queryFn:async()=>{if(!r||!e.includes(r))throw new Error("Not allowed to fetch this data");if(!o)throw new Error("API instance not found for role");return await h({api:o,organizationId:a,categoryId:t})},enabled:!!a&&!!t})},m=async({api:a,itemId:t})=>{const{data:e}=await a.delete(`/quote/materialwithlabour/rateconfig/items/${t}`);if(!e.ok)throw new Error(e.message);return e.data},C=()=>{const a=["owner","CTO","staff"],{role:t}=s(),e=n(t);return l({mutationFn:async({itemId:r})=>{if(!t||!a.includes(t))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await m({api:e,itemId:r})},onSuccess:(r,{organizationId:o})=>{u.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","items",o]})}})};export{b as a,y as b,C as c,g as u};
