import{f as y,c as N,r as k,j as e,h as E,I as C,B as L,L as S,t as r}from"./index-CbQCFZwb.js";import{u as A}from"./staffApi-ZWrUZ0mC.js";import{u as F}from"./userApi-FKgdYcj4.js";import{u as I}from"./workerApi-3okWWiKk.js";import{u as U}from"./clientApi-CM82k_Wx.js";import{u as B}from"./CTOApi-3uNVyFmK.js";const $=()=>{let n=y();const{role:d}=N(),{mutateAsync:c,isPending:m}=A(),{mutateAsync:u,isPending:f}=B(),{mutateAsync:x,isPending:b}=U(),{mutateAsync:g,isPending:p}=I(),{mutateAsync:h,isPending:w}=F(),[a,v]=k.useState(""),j=()=>m||f||b||p||w,P=async i=>{var o,l;if(i.preventDefault(),!a.trim()){r({title:"Error",variant:"destructive",description:"Please enter your email address."});return}try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){r({title:"Error",variant:"destructive",description:"Please enter a valid email address."});return}const t={email:a};switch(d){case"staff":await c(t);break;case"CTO":await u(t);break;case"client":await x(t);break;case"worker":await g(t);break;case"owner":await h(t);break;default:throw new Error("Invalid user role.")}r({title:"Success",description:"email notification sent succesffuly"})}catch(s){r({title:"Error",description:((l=(o=s==null?void 0:s.response)==null?void 0:o.data)==null?void 0:l.message)||(s==null?void 0:s.message)||"please try again later",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-white to-blue-200 px-4 py-10 relative",children:[e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("button",{onClick:()=>n(-1),className:"p-2 rounded-md border border-gray-300 bg-white/70 backdrop-blur-md hover:bg-white",title:"Back",children:e.jsx("i",{className:"fas fa-arrow-left text-gray-600"})})}),e.jsx("div",{className:"relative w-full max-w-md",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg shadow-2xl rounded-2xl border-0 overflow-hidden",children:[e.jsxs("div",{className:"text-center p-8 pb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("i",{className:"fas fa-unlock-alt text-white text-2xl"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-900 to-blue-600 bg-clip-text text-transparent",children:"Forgot Password"}),e.jsx("p",{className:"text-blue-600 text-sm mt-2",children:"We'll send you a link to reset your password"})]}),e.jsxs("div",{className:"px-8 pb-8 space-y-6",children:[e.jsxs("form",{onSubmit:P,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",className:"text-blue-800 font-medium",children:"Your Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-envelope text-blue-400"})}),e.jsx(C,{id:"email",type:"email",value:a,onChange:i=>v(i.target.value),placeholder:"arun@gmail.com",className:"pl-10 border-2 border-blue-200 focus:border-blue-500 transition-all duration-200 bg-white/70 backdrop-blur-sm"})]})]}),e.jsx(L,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",isLoading:j(),children:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Send Reset Link"]})})]}),e.jsx("div",{className:"text-center pt-4 border-t border-blue-100",children:e.jsxs(S,{to:"/login",className:"text-sm text-blue-600 font-medium hover:underline",children:[e.jsx("i",{className:"fas fa-arrow-left mr-1"}),"Back to Login"]})})]})]})})]})};export{$ as default};
