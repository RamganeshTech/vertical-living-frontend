import{g as s}from"./roleCheck-CZ0YkMwP.js";import{u as d}from"./useQuery-D3U2IXUF.js";import{u as l}from"./useMutation-Br_DKCOJ.js";import{u as i,q as u,n as w}from"./index-Di9fivK2.js";const y=async(t,e)=>(await e.get(`/worktasks/getworktaksmain/${t}`)).data.data,h=async(t,e)=>(await e.get(`/worktasks/getdailyschedule/${t}`)).data.data,k=async(t,e,r)=>(await r.post(`/worktasks/create/${t}`,e)).data.data,p=async(t,e,r,o)=>(console.log("im gettng called update workd api "),(await o.put(`/worktasks/update/${t}/${e}`,r)).data.data),g=async(t,e,r)=>(await r.delete(`/worktasks/${t}/${e}`)).data.data,E=async(t,e,r,o)=>{const a=new FormData;return a.append("date",r),o.forEach(c=>{a.append("files",c)}),(await w.post(`https://houseofram.in/api/worktasks/${t}/task/${e}/upload`,a,{headers:{"Content-Type":"multipart/form-data"}})).data.data},S=async({scheduleId:t,taskId:e,date:r,imageId:o})=>{const{data:a}=await w.delete(`https://houseofram.in/api/worktasks/${t}/deleteworkimage/${e}/date/${r}/image/${o}`);return a.data},$=async({projectId:t,formData:e,scheduleId:r=null,api:o})=>{const{data:a}=await o.post(`/worktasks/generatePdf/work/${t}/${r}`,e);if(!a.ok)throw new Error(a.message);return a.data},A=async(t,e)=>(await e.get(`/worktasks/getprojectassigne/${t}`)).data.data,C=async({scheduleId:t,formData:e,api:r})=>{const{data:o}=await r.post(`/worktasks/createcorrection/${t}`,e);if(!o.ok)throw new Error(o.message);return o.data},I=async({scheduleId:t,comparisonId:e,formData:r,api:o})=>{const{data:a}=await o.put(`/worktasks/uploadselectimagemanually/${t}/${e}`,r);if(!a.ok)throw new Error(a.message);return a.data},q=async({scheduleId:t,comparisonId:e,formData:r,api:o})=>{const{data:a}=await o.put(`/worktasks/uploadcorrectedimage/${t}/${e}`,r);if(!a.ok)throw new Error(a.message);return a.data},P=async({scheduleId:t,comparisonId:e,selectedImageId:r,formData:o,api:a})=>{const{data:n}=await a.put(`/worktasks/updateSelectimagecomment/${t}/${e}/${r}`,o);if(!n.ok)throw new Error(n.message);return n.data},F=async({scheduleId:t,comparisonId:e,selectId:r,api:o})=>{const{data:a}=await o.delete(`/worktasks/deleteselectimages/${t}/${e}/${r}`);if(!a.ok)throw new Error(a.message);return a.data},D=async({scheduleId:t,comparisonId:e,imageId:r,api:o})=>{const{data:a}=await o.delete(`/worktasks/deletecorrectedimages/${t}/${e}/${r}`);if(!a.ok)throw new Error(a.message);return a.data},W=t=>{const{role:e}=i(),r=s(e),o=["owner","staff","CTO","worker","client"];return d({queryKey:["work-main-stage",t],queryFn:()=>{if(!e||!o.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return y(t,r)},enabled:!!t,retry:!1,refetchOnMount:!1})},_=t=>{const{role:e}=i(),r=s(e),o=["owner","staff","CTO","worker","client"];return d({queryKey:["daily-schedule",t],queryFn:()=>{if(!e||!o.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return h(t,r)},enabled:!!t,retry:!1,refetchOnMount:!1})},f=["owner","staff","CTO"],U=()=>{const{role:t}=i(),e=s(t);return l({mutationFn:async({projectId:r,formData:o})=>{if(!t||!f.includes(t))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return k(r,o,e)},onSuccess:(r,{projectId:o})=>{u.invalidateQueries({queryKey:["daily-schedule",o]})}})},M=()=>{const{role:t}=i(),e=s(t);return l({mutationFn:async({projectId:r,scheduleId:o,formData:a})=>{if(!t||!f.includes(t))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return p(r,o,a,e)},onSuccess:(r,{projectId:o})=>{u.invalidateQueries({queryKey:["daily-schedule",o]})}})},z=()=>{const{role:t}=i(),e=s(t);return l({mutationFn:async({scheduleId:r,taskId:o})=>{if(!t||!f.includes(t))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return g(r,o,e)},onSuccess:(r,{projectId:o})=>{o&&u.invalidateQueries({queryKey:["work-schedule",o]})}})},G=()=>{const{role:t}=i(),e=s(t),r=["owner","staff","CTO","worker","client"];return l({mutationFn:async({scheduleId:o,taskId:a,date:n,files:c})=>{if(!t||!r.includes(t))throw new Error("not allowed to make this api call");if(!e)throw new Error("API instance missing");return await E(o,a,n,c)},onSuccess:(o,{projectId:a})=>{a&&u.invalidateQueries({queryKey:["work-schedule",a]})}})},b=()=>{const{role:t}=i(),e=s(t),r=["owner","staff","CTO","worker","client"];return l({mutationFn:async({scheduleId:o,taskId:a,date:n,imageId:c})=>{if(!t||!r.includes(t))throw new Error("not allowed to make this api call");if(!e)throw new Error("API instance missing");return await S({scheduleId:o,taskId:a,date:n,imageId:c})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},j=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,formData:a,scheduleId:n=null})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await $({projectId:o,formData:a,scheduleId:n,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},x=t=>{const{role:e}=i(),r=s(e),o=["owner","staff","CTO","worker","client"];return d({queryKey:["projectassigne",t],queryFn:()=>{if(!e||!o.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return A(t,r)},enabled:!!t,retry:!1,refetchOnMount:!1})},L=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({scheduleId:o,formData:a})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await C({scheduleId:o,formData:a,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},B=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,formData:c})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await I({scheduleId:a,comparisonId:n,formData:c,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},H=()=>{const t=["owner","staff","CTO","worker"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,formData:c})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await q({scheduleId:a,comparisonId:n,formData:c,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},J=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,selectedImageId:c,data:m})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await P({scheduleId:a,comparisonId:n,selectedImageId:c,formData:m,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},N=()=>{const t=["owner","staff","CTO","worker"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,imageId:c})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await D({scheduleId:a,comparisonId:n,imageId:c,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},V=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,selectId:c})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await F({scheduleId:a,comparisonId:n,selectId:c,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},K=async({formId:t,projectId:e,deadLine:r,api:o})=>{const{data:a}=await o.put(`/worktasks/deadline/${e}/${t}`,{deadLine:r});if(!a.ok)throw new Error(a.message);return a.data},O=async({projectId:t})=>{console.log("im gettng called complete workd api ");const{data:e}=await w.put(`https://houseofram.in/api/worktasks/completionstatus/${t}`);if(!e.ok)throw new Error(e.message);return e.data},X=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({formId:o,projectId:a,deadLine:n})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await K({formId:o,projectId:a,deadLine:n,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["work-main-stage",a]})}})},Y=()=>l({mutationFn:async({projectId:t})=>await O({projectId:t}),onSuccess:(t,{projectId:e})=>{u.invalidateQueries({queryKey:["work-main-stage",e]})}});export{X as a,Y as b,x as c,U as d,M as e,j as f,L as g,B as h,J as i,V as j,H as k,N as l,_ as m,z as n,G as o,b as p,W as u};
