import{d as s}from"./index-DcYk0AxP.js";import{g as i}from"./roleCheck-D-Yu12LV.js";import{u}from"./useInfiniteQuery-67LtPPky.js";const g=async({pageParam:a=1,search:r="",api:n})=>{const e=await n.get(`/externalunits/getwardrobe?page=${a}&search=${r}`),{data:t,pagination:o}=e.data;return console.log("data form api",t),{items:t,currentPage:o.page,totalPages:o.totalPages}},p=a=>{const{role:r}=s(),n=i(r);return u({queryKey:["wardrobe-units",a],enabled:!!r,initialPageParam:1,queryFn:async({pageParam:e=1})=>{if(!n)throw new Error("Only authenticated users can see products");return await g({pageParam:e,search:a,api:n})},getNextPageParam:e=>{const{currentPage:t,totalPages:o}=e;return t<o?t+1:void 0}})};export{p as u};
