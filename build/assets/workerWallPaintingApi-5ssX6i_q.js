import{m as s,n as u,o as l,p as i}from"./index-BO7-A9Kz.js";const c=async(r,e)=>{var t;return(t=(await e.get(`/workerwall/${r}`)).data)==null?void 0:t.data},d=async(r,e,o)=>(await o.get(`/workerwall/${r}/step/${e}`)).data,p=async(r,e,o,t)=>(await t.post(`/workerwall/${r}/step/${e}/initial`,o,{headers:{"Content-Type":"multipart/form-data"}})).data,f=async(r,e,o,t,n)=>(await n.post(`/workerwall/${r}/step/${e}/correction/${o}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data,y=r=>{const{role:e}=s(),o=i(e),t=["worker","staff","owner","CTO"];return u({queryKey:["workerSOP",r],queryFn:()=>{if(!e||!t.includes(e))throw new Error("Unauthorized");if(!o)throw new Error("API not found");return c(r,o)}})},h=(r,e)=>{const{role:o}=s(),t=i(o),n=["worker","staff","owner","CTO"];return u({queryKey:["workerStep",r,e],queryFn:()=>{if(!o||!n.includes(o))throw new Error("Unauthorized");if(!t)throw new Error("API not found");return d(r,e,t)}})},m=()=>{const{role:r}=s(),e=i(r),o=["worker","staff"];return l({mutationFn:async({projectId:t,stepNumber:n,formData:a})=>{if(!r||!o.includes(r))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return p(t,n,a,e)}})},A=()=>{const{role:r}=s(),e=i(r),o=["worker","staff"];return l({mutationFn:async({projectId:t,stepNumber:n,correctionRound:a,formData:w})=>{if(!r||!o.includes(r))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return f(t,n,a,w,e)}})};export{h as a,m as b,A as c,y as u};
