import{u as n,a as c,b as i,q as u,g as s}from"./index-D5hl8ps7.js";const l=async({api:t,body:o})=>{const{data:e}=await t.post("/quote/labour/rateconfig/categories",o);if(!e.ok)throw new Error(e.message);return e.data},m=()=>{const t=["owner","CTO","staff"],{role:o}=n(),e=s(o);return i({mutationFn:async r=>{if(!o||!t.includes(o))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await l({api:e,body:r})},onSuccess:(r,{organizationId:a})=>{u.invalidateQueries({queryKey:["rateconfig","categories",a]})}})},w=async({api:t,organizationId:o})=>{const{data:e}=await t.get(`/quote/labour/rateconfig/categories/${o}`);if(!e.ok)throw new Error(e.message);return e.data},b=t=>{const o=["owner","CTO","staff"],{role:e}=n(),r=s(e);return c({queryKey:["rateconfig","categories",t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to fetch this data");if(!r)throw new Error("API instance not found for role");return await w({api:r,organizationId:t})},enabled:!!t})},f=async({api:t,organizationId:o})=>{const{data:e}=await t.get(`/quote/labour/rateconfig/categories/${o}/singlesalary`);if(!e.ok)throw new Error(e.message);return e.data},C=t=>{const o=["owner","CTO","staff"],{role:e}=n(),r=s(e);return c({queryKey:["labourcost",t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to fetch this data");if(!r)throw new Error("API instance not found for role");return await f({api:r,organizationId:t})},enabled:!!t,retry:!1})},d=async({api:t,organizationId:o,items:e})=>{const{data:r}=await t.post(`/quote/labour/rateconfig/categories/${o}/items`,{items:e});if(!r.ok)throw new Error(r.message);return r.data},E=()=>{const t=["owner","CTO","staff"],{role:o}=n(),e=s(o);return i({mutationFn:async({organizationId:r,items:a})=>{if(!o||!t.includes(o))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await d({api:e,items:a,organizationId:r})},onSuccess:(r,{organizationId:a})=>{u.invalidateQueries({queryKey:["rateconfig","items",a]})}})},g=async({api:t,organizationId:o})=>{const{data:e}=await t.get(`/quote/labour/rateconfig/categories/${o}/items`);if(!e.ok)throw new Error(e.message);return e.data},q=t=>{const o=["owner","CTO","staff"],{role:e}=n(),r=s(e);return c({queryKey:["rateconfig","items",t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to fetch this data");if(!r)throw new Error("API instance not found for role");return await g({api:r,organizationId:t})},enabled:!!t})},y=async({api:t,itemId:o})=>{const{data:e}=await t.delete(`/quote/labour/rateconfig/items/${o}`);if(!e.ok)throw new Error(e.message);return e.data},R=()=>{const t=["owner","CTO","staff"],{role:o}=n(),e=s(o);return i({mutationFn:async({itemId:r})=>{if(!o||!t.includes(o))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await y({api:e,itemId:r})},onSuccess:(r,{organizationId:a})=>{u.invalidateQueries({queryKey:["rateconfig","items",a]})}})};export{q as a,E as b,R as c,m as d,C as e,b as u};
