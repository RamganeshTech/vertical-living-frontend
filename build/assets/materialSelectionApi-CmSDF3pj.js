import{e as s,g as w,n as c,f as u,h as l}from"./index-D6hrtJW1.js";const m=async({projectId:a,api:e})=>{const{data:t}=await e.get(`/materialconfirmation/${a}`);if(!t.ok)throw new Error(t.message);return t.data},f=async({projectId:a,roomId:e,api:t})=>{const{data:o}=await t.get(`/materialconfirmation/${a}/singleroom/${e}`);if(!o.ok)throw new Error(o.message);return o.data},d=async({projectId:a,roomId:e,api:t})=>{const{data:o}=await t.patch(`/materialconfirmation/${a}/${e}/deleteroom`);if(!o.ok)throw new Error(o.message);return o.data},y=async({projectId:a,roomId:e,formData:t,api:o})=>{const{data:r}=await o.post(`/materialconfirmation/${a}/uploads/${e}`,t);if(!r.ok)throw new Error(r.message);return r.data},h=async({projectId:a,roomId:e,fileId:t,api:o})=>{const{data:r}=await o.patch(`/materialconfirmation/${a}/deleteuploadedfile/${e}/${t}`);if(!r.ok)throw new Error(r.message);return r.data},p=async({formId:a,projectId:e,deadLine:t,api:o})=>{const{data:r}=await o.put(`/materialconfirmation/deadline/${e}/${a}`,{deadLine:t});if(!r.ok)throw new Error(r.message);return r.data},g=async({projectId:a,api:e})=>{const{data:t}=await e.put(`/materialconfirmation/completionstatus/${a}`);if(!t.ok)throw new Error(t.message);return t.data},R=a=>{const e=["owner","staff","CTO","client","worker"],{role:t}=s(),o=l(t);return w({queryKey:["material-confirmation",a],queryFn:async()=>{if(!t||!e.includes(t))throw new Error("Not authorized");if(!o)throw new Error("API instance not available");return await m({projectId:a,api:o})},enabled:!!a,refetchOnWindowFocus:!1,retry:!1})},C=({projectId:a,roomId:e})=>{const t=["owner","staff","CTO","client","worker"],{role:o}=s(),r=l(o);return w({queryKey:["material-room",a,e],queryFn:async()=>{if(!o||!t.includes(o))throw new Error("Not authorized");if(!r)throw new Error("API instance unavailable");return await f({projectId:a,roomId:e,api:r})},enabled:!!a&&!!e,retry:!1,refetchOnWindowFocus:!1})},F=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=l(e),o=c();return u({mutationFn:async({projectId:r,roomId:n})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance not available");return await d({projectId:r,roomId:n,api:t})},onSuccess:(r,{projectId:n})=>{o.invalidateQueries({queryKey:["material-confirmation",n]})}})},q=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=l(e),o=c();return u({mutationFn:async({projectId:r,roomId:n,formData:i})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await y({projectId:r,roomId:n,formData:i,api:t})},onSuccess:(r,{projectId:n,roomId:i})=>{o.invalidateQueries({queryKey:["material-room",n,i]})}})},A=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=l(e),o=c();return u({mutationFn:async({projectId:r,roomId:n,fileId:i})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await h({projectId:r,roomId:n,fileId:i,api:t})},onSuccess:(r,{projectId:n,roomId:i})=>{o.invalidateQueries({queryKey:["material-room",n,i]})}})},S=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=l(e),o=c();return u({mutationFn:async({formId:r,projectId:n,deadLine:i})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await p({formId:r,projectId:n,deadLine:i,api:t})},onSuccess:()=>{o.invalidateQueries({queryKey:["material-rooms"]})}})},$=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=l(e),o=c();return u({mutationFn:async({projectId:r})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await g({projectId:r,api:t})},onSuccess:(r,{projectId:n})=>{o.invalidateQueries({queryKey:["material-confirmation",n]})}})};export{A as a,C as b,F as c,R as d,S as e,$ as f,q as u};
