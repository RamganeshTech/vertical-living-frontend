import{j as i,B as x,t as v}from"./index-Wihfhca_.js";import{u as $,a as C}from"./documentationApi-Cj4EeU1z.js";import{e as W}from"./requirementFormApi-BbjJACpW.js";const A=({projectId:t,stageNumber:l,isStageCompleted:n,className:m=""})=>{var a;const{data:e,isLoading:d}=$(t),{data:s,isLoading:u}=C({projectId:t,stageNumber:l}),{data:o}=W({projectId:t});let c=`Hello *${(e==null?void 0:e.clientName)||((a=o==null?void 0:o.clientData)==null?void 0:a.clientName)||"Client"}*,

${s==null?void 0:s.message}`;const f=()=>e!=null&&e.phoneNo?n!=="completed"?"complete the stage":"":"client's phone number not provided",g=()=>{var p,h;const N=(p=e==null?void 0:e.phoneNo)!=null&&p.startsWith("+91")?e==null?void 0:e.phoneNo:e!=null&&e.phoneNo?`+91${e==null?void 0:e.phoneNo}`:null,b=((h=o==null?void 0:o.clientData)==null?void 0:h.whatsapp)||null,r=N||b;if(!r){v({title:"Error",description:"Client WhatsApp number not provided",variant:"destructive"});return}const w=`https://wa.me/${r.replace("+","")}?text=${encodeURIComponent(c)}`;window.open(w,"_blank")};return i.jsxs(x,{variant:"outline",disabled:d||u||n!=="completed",title:f(),onClick:g,className:`bg-green-600 hover:bg-green-700 text-white px-4 py-2 min-w-30 rounded items-center ${m}`,children:[i.jsx("i",{className:"fab fa-whatsapp mr-1 "}),"Share Doc"]})};export{A as S};
