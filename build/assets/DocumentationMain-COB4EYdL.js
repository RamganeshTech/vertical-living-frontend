import{a as u,d as f,g as N,j as e,O as p,L as v}from"./index-By5P0A7l.js";import{b as w}from"./documentationApi-yPw3eUgu.js";import{B as t}from"./Button-DLUK8O0t.js";import{S as r}from"./Skeleton-FCBR4RgB.js";import"./useQuery-Cc7pLKfK.js";import"./useMutation-7YLqc7VE.js";import"./roleCheck-YGaMnK_P.js";const z=()=>{var o;const{projectId:d}=u(),c=f(),{isMobile:l,openMobileSidebar:i}=N(),{data:s,isLoading:m,isError:x,refetch:h,isFetching:g}=w(d),n=c.pathname.split("/"),b=n.indexOf("document")!==n.length-1;return m?e.jsxs("div",{className:"mx-auto p-4 space-y-6 overflow-y-auto max-h-full custom-scrollbar",children:[l&&e.jsxs(t,{variant:"outline",size:"sm",onClick:i,className:"mb-4 bg-transparent border-slate-300 text-slate-700 hover:bg-slate-100",children:[e.jsx("i",{className:"fa-solid fa-bars mr-2"}),"Menu"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((a,j)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:[e.jsx(r,{className:"h-6 w-24 bg-slate-200 mb-2"}),e.jsx(r,{className:"h-4 w-full bg-slate-200"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx(r,{className:"h-16 w-full mb-4 bg-slate-200"}),e.jsx(r,{className:"h-9 w-28 bg-slate-200"})]})]},j))})]}):x?e.jsxs("div",{className:"container mx-auto",children:[l&&e.jsxs(t,{variant:"outline",size:"sm",onClick:i,className:"mb-4 bg-transparent border-slate-300 text-slate-700 hover:bg-slate-100",children:[e.jsx("i",{className:"fa-solid fa-bars mr-2"}),"Menu"]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-red-500 text-xl"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800",children:"Error Loading Documentation"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Failed to load documentation. Please try again later."})]})]})})})]}):s===null?e.jsxs("div",{className:"container mx-auto",children:[l&&e.jsxs(t,{variant:"outline",size:"sm",onClick:i,className:"mb-4 bg-transparent border-slate-300 text-slate-700 hover:bg-slate-100",children:[e.jsx("i",{className:"fa-solid fa-bars mr-2"}),"Menu"]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-blue-600 text-xl"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-800",children:"No Documentation created Yet"}),e.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"Failed to load documentation. Please try again later."})]})]})})})]}):e.jsx("div",{className:"mx-auto space-y-6 h-full overflow-y-auto custom-scrollbar",children:b?e.jsx(p,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[l&&e.jsx(t,{variant:"outline",size:"sm",onClick:i,className:"bg-transparent border-slate-300 text-slate-700 hover:bg-slate-100",children:e.jsx("i",{className:"fa-solid fa-bars "})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-indigo-600",children:"Project Documentation"})]}),e.jsx("p",{className:"text-slate-600 text-sm sm:text-xl",children:"Track and manage documentation across all project stages"})]}),(o=s==null?void 0:s.stages)!=null&&o.length?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center gap-2 text-sm text-slate-500",children:[e.jsxs("div",{children:[e.jsx("i",{className:"fa-solid fa-file-text text-indigo-500"}),e.jsxs("span",{children:[s.stages.length," stages available"]})]}),e.jsx("div",{children:e.jsxs(t,{isLoading:g,onClick:()=>h(),children:[e.jsx("i",{className:"fas fa-refresh mr-1"})," Sync"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.stages.map(a=>e.jsxs("div",{className:"group relative bg-white rounded-lg border-l-4  shadow-sm border-indigo-600 overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-slate-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold text-sm",children:a.stageNumber}),e.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:["Stage ",a.stageNumber]})]})})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 min-h-[3rem] leading-relaxed",children:a.description||"No description provided for this stage."}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx("i",{className:"fa-solid fa-check-circle text-emerald-500"}),e.jsx("span",{children:"Ready to view"})]}),e.jsx(v,{to:`${a.stageNumber}`,children:e.jsx(t,{size:"sm",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:"View Details"})})]})]})]},a.stageNumber))})]}):e.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-sm border border-slate-200 p-12 text-center",children:[e.jsx("i",{className:"fa-solid fa-file-text text-5xl text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2 text-slate-800",children:"No Documentation Available"}),e.jsx("p",{className:"text-slate-600",children:"Documentation stages will appear here once they are created for this project."})]})]})})})};export{z as default};
