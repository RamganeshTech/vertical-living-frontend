import{c as s,k as w,d as l,q as y,x as u,g as c}from"./index-CUvv9ev0.js";const d=async(a,e,t,r)=>{const{data:o}=await r.post(`/qualitycheck/${a}/${e}/item/create`,t);if(!o.ok)throw new Error(o.message);return o.data},k=async(a,e,t,r,o)=>{const{data:n}=await o.put(`/qualitycheck/${a}/${e}/${t}/item/edit`,r);if(!n.ok)throw new Error(n.message);return n.data},f=async(a,e,t,r)=>{console.log("deleteimnga the itesm");const{data:o}=await r.delete(`/qualitycheck/${a}/${e}/${t}/item/delete`);if(!o.ok)throw new Error(o.message);return o},m=async(a,e)=>{const{data:t}=await e.get(`/qualitycheck/${a}`);if(!t.ok)throw new Error(t.message);return t.data},p=async(a,e,t)=>{const{data:r}=await t.get(`/qualitycheck/${a}/${e}`);if(!r.ok)throw new Error(r.message);return r.data},Q=()=>{const a=["owner","CTO","staff","worker"],{role:e}=s(),t=c(e),r=u();return l({mutationFn:async({projectId:o,roomName:n,formData:i})=>{if(!e||!a.includes(e))throw new Error("Not allowed.");if(!t)throw new Error("can't make the call");return await d(o,n,i,t)},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["quality-checkup",n]})}})},g=()=>{const a=["owner","CTO","staff","worker"],{role:e}=s(),t=c(e),r=u();return l({mutationFn:async({projectId:o,roomName:n,itemId:i,formData:h})=>{if(!e||!a.includes(e))throw new Error("Not allowed.");if(!t)throw new Error("can't make the call");return await k(o,n,i,h,t)},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["quality-checkup",n]})}})},$=()=>{const a=["owner","CTO","staff","worker"],{role:e}=s(),t=c(e),r=u();return l({mutationFn:async({projectId:o,roomName:n,itemId:i})=>{if(!e||!a.includes(e))throw new Error("Not allowed.");if(!t)throw new Error("can't make the call");return await f(o,n,i,t)},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["quality-checkup",n]})}})},R=a=>{const e=["owner","CTO","staff","worker"],{role:t}=s(),r=c(t);return w({queryKey:["quality-checkup",a],queryFn:async()=>{if(!t||!e.includes(t))throw new Error("Not allowed.");if(!r)throw new Error("can't make the call");return await m(a,r)},enabled:!!a,retry:!1,retryOnMount:!1})},A=(a,e)=>{const t=["owner","CTO","staff","worker"],{role:r}=s(),o=c(r);return w({queryKey:["quality-checkup-room",a,e],queryFn:async()=>{if(!r||!t.includes(r))throw new Error("Not allowed.");if(!o)throw new Error("can't make the call");return await p(a,e,o)},enabled:!!a&&!!e})},q=async({formId:a,deadLine:e,projectId:t,api:r})=>{const{data:o}=await r.put(`/qualitycheck/deadline/${t}/${a}`,{deadLine:e});if(!o.ok)throw new Error(o.message);return o.data},C=async({projectId:a,api:e})=>{const{data:t}=await e.put(`/qualitycheck/completionstatus/${a}`);if(!t.ok)throw new Error(t.message);return t.data},F=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e);return l({mutationFn:async({formId:r,deadLine:o,projectId:n})=>{if(!e||!a.includes(e))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance missing");return await q({formId:r,projectId:n,deadLine:o,api:t})},onSuccess:()=>{y.invalidateQueries({queryKey:["quality-checkup"]})}})},O=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e);return l({mutationFn:async({projectId:r})=>{if(!e||!a.includes(e))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance missing");return await C({projectId:r,api:t})},onSuccess:(r,{projectId:o})=>{y.invalidateQueries({queryKey:["quality-checkup",o]})}})};export{F as a,O as b,A as c,Q as d,g as e,$ as f,R as u};
