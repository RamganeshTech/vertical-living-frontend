import{u,j as n,t as m}from"./index-BAM0eJUz.js";import{f as d}from"./toolMasterApi-DZ9UD44t.js";import{T as f}from"./ToolMasterForm-Db4f7stu.js";import"./useInfiniteQuery-BGz0VllC.js";import"./Label-C8i6KaZe.js";import"./ImageGalleryMain-B3g6b13d.js";import"./downloadFile-BbGV_BaX.js";import"./index-C8BdbktQ.js";import"./ShortListMain-CkHPlJB3.js";import"./Card-CdxfjEr-.js";import"./SearchSelectNew-IGAHiELy.js";import"./toolOtpApi-CWL7ydhf.js";const I=()=>{const{organizationId:s}=u(),e=d(),p=async(a,c,l)=>{var i,r;try{const t=new FormData;Object.keys(a).forEach(o=>{a[o]!==null&&a[o]!==void 0&&t.append(o,a[o])}),t.append("organizationId",s),c.forEach(o=>t.append("toolImages",o)),l.forEach(o=>t.append("warrantyFiles",o)),await e.mutateAsync(t),m({title:"Success",description:"Tool registered successfully"})}catch(t){m({title:"Registration Failed",description:((r=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:r.message)||(t==null?void 0:t.message),variant:"destructive"})}};return n.jsx("main",{className:"max-h-full overflow-y-auto p-2",children:n.jsx(f,{mode:"create",organizationId:s,onSubmit:p,isSubmitting:e.isPending})})};export{I as default};
