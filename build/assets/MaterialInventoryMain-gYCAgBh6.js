import{j as a,r as s,g as Jt,b as ea,a as ta,O as aa}from"./index-CZlH018n.js";import{C as ra,a as na,b as la,c as sa,d as oa}from"./Card-CuaQED1d.js";import{I as We}from"./Input-gxwZm0L9.js";import{B as $e}from"./Button-CuklGkXN.js";import{B as kt}from"./Badge-B-A_U1Rw.js";import{t as me}from"./toast-BSC5QTk1.js";import{u as ia,a as ca,b as ua,c as da}from"./materialInventoryApi-BtWY3ATn.js";import{t as it}from"./dateFormator-BGKi5rfZ.js";import fa from"./MaterialOverviewLoading-BStlmrQG.js";import{u as va}from"./projectApi-KaJvP2vv.js";import{u as ma,a as ga,b as ha,c as ba}from"./MaterialInventoryCartApi-BmMcgrjT.js";import{r as xa}from"./index-Dd1dFjt7.js";import{S as ya}from"./SearchSelectNew-DHsujq-S.js";import{L as Sa}from"./Label-CZnr4a80.js";import"./roleCheck-CWG0FluA.js";import"./useQuery-IUUplwQg.js";import"./useBaseQuery-B18wTrwv.js";import"./useMutation-CuPLhNle.js";import"./useInfiniteQuery-CMUqhhOA.js";import"./Skeleton-Bn0S57L0.js";const Pt={primary:"text-blue-400",danger:"text-red-400",success:"text-green-400",warning:"text-yellow-400",gray:"text-gray-400"},Dt={envelope:"fas fa-envelope",box:"fas fa-box-open",message:"fas fa-comment-dots",chat:"fas fa-comments",warning:"fas fa-exclamation-triangle"},pa=({message:e,icon:t="box",customIconClass:n,color:l="gray"})=>{const i=`${t==="custom"?n||"fas fa-question-circle":Dt[t]||Dt.box} text-7xl mb-4 ${Pt[l]||Pt.gray}`;return a.jsxs("div",{className:"w-full flex flex-col justify-center items-center py-12 px-4 text-center",children:[a.jsx("i",{className:i}),a.jsx("p",{className:"text-lg text-gray-600",children:e})]})},xt=(e,t)=>{const[n,l]=s.useState(e);return s.useEffect(()=>{const o=setTimeout(()=>{l(e)},t);return()=>{clearTimeout(o)}}),n},ct={brand:[{value:"",label:"All Brand"},{value:"jaquar",label:"Jaquar"}],categories:[{value:"",label:"All Categories"},{value:"light",label:"Light"},{value:"socket",label:"Socket"},{value:"switches",label:"Switch"},{value:"regulator",label:"Regulators"}],subcategories:[{value:"",label:"All Subcategories"},{value:"Downlights",label:"Downlights"},{value:"COB Downlights",label:"COB Downlights"},{value:"Designer Lights",label:"Designer Lights"},{value:"Panels",label:"Panels"},{value:"Battens-Tubes",label:"Battens-Tubes"},{value:"Magnetic Lights",label:"Magnetic Lights"},{value:"Retail Lights",label:"Retail Lights"},{value:"Industrial Lights",label:"Industrial Lights"}],types:[{value:"",label:"All Types"},{value:"socket",label:"socket"},{value:"card-switch",label:"card-switch"},{value:"computer-socket",label:"computer-socket"},{value:"dimmer-switch",label:"dimmer-switch"},{value:"doorbell",label:"doorbell"},{value:"motion-sensor-switch",label:"motion-sensor-switch"},{value:"notify-switch",label:"notify-switch"},{value:"regulator",label:"regulator"},{value:"switch",label:"switch"},{value:"telephone-socket",label:"telephone-socket"},{value:"television-computer-socket",label:"television-computer-socket"},{value:"television-socket",label:"television-socket"},{value:"television-telephone-socket",label:"television-telephone-socket"}],models:[{value:"",label:"All Models"},{value:"ENSAVE PLUS",label:"ENSAVE PLUS"},{value:"AREVA PRIME",label:"AREVA PRIME"},{value:"NERO SURFACE",label:"NERO SURFACE"},{value:"LUCENT",label:"LUCENT"},{value:"LUCENT SQUARE",label:"LUCENT SQUARE"},{value:"2 IN 1 STANDALONE",label:"2 IN 1 STANDALONE"},{value:"ERIS FIXED (LOW BORDER DEEP RECESSED)",label:"ERIS FIXED (LOW BORDER DEEP RECESSED)"},{value:"ESTUS SWIVEL",label:"ESTUS SWIVEL"},{value:"ERIS SWIVEL",label:"ERIS SWIVEL"},{value:"ERIS REFLECTO",label:"ERIS REFLECTO"},{value:"ERIS FIXED",label:"ERIS FIXED"},{value:"EMINA",label:"EMINA"},{value:"EMINA TILTABLE",label:"EMINA TILTABLE"},{value:"DIMAS",label:"DIMAS"},{value:"GLIDE",label:"GLIDE"},{value:"ERIS SURFACE ROUND",label:"ERIS SURFACE ROUND"},{value:"EPITO",label:"EPITO"},{value:"EMPHA",label:"EMPHA"},{value:"RENE",label:"RENE"},{value:"CYNO",label:"CYNO"},{value:"ULTIMA SLIM",label:"ULTIMA SLIM"},{value:"ACCESSORIES FOR ULTIMA SLIM",label:"ACCESSORIES FOR ULTIMA SLIM"},{value:"ULTIMA ULTRA SLIM 1x4",label:"ULTIMA ULTRA SLIM 1x4"},{value:"ULTIMA ULTRA SLIM 1x1",label:"ULTIMA ULTRA SLIM 1x1"},{value:"ULTIMA ULTRA PRO (2x2)",label:"ULTIMA ULTRA PRO (2x2)"},{value:"ULTIMA MULTI-COLOUR",label:"ULTIMA MULTI-COLOUR"},{value:"GLAZE",label:"GLAZE"},{value:"GLAZE ULTRA ALUMINIUM",label:"GLAZE ULTRA ALUMINIUM"},{value:"KUBIK SMART",label:"KUBIK SMART"},{value:"KUBIK ULTRA",label:"KUBIK ULTRA"},{value:"T8 RETRO",label:"T8 RETRO"},{value:"T8 RETRO ACCESSSORIES",label:"T8 RETRO ACCESSSORIES"},{value:"PRIDE",label:"PRIDE"},{value:"ORELLI SLIM",label:"ORELLI SLIM"},{value:"ORELLI SLIM HANGING",label:"ORELLI SLIM HANGING"},{value:"INSTARAY SLIM LINEAR WITH LENS",label:"INSTARAY SLIM LINEAR WITH LENS"},{value:"INSTARAY SLIM LINEAR",label:"INSTARAY SLIM LINEAR"},{value:"INSTARAY ROUND SLIM",label:"INSTARAY ROUND SLIM"},{value:"INSTARAY SLIM LINEAR DIFFUSED",label:"INSTARAY SLIM LINEAR DIFFUSED"},{value:"INSTARAY SLIM TILTABLE & DIFFUSED",label:"INSTARAY SLIM TILTABLE & DIFFUSED"},{value:"MAGNETIC TRACK LIGHT ACCESSORIES",label:"MAGNETIC TRACK LIGHT ACCESSORIES"},{value:"MULTIBLE ZOOM LIGHT",label:"MULTIBLE ZOOM LIGHT"},{value:"TRACK LIGHT WHITE",label:"TRACK LIGHT WHITE"},{value:"TRACK LIGHT BLACK",label:"TRACK LIGHT BLACK"},{value:"TRACK LIGHT ACCESSORIES",label:"TRACK LIGHT ACCESSORIES"},{value:"IP20 STRIP LIGHT (24V DC)",label:"IP20 STRIP LIGHT (24V DC)"},{value:"IP65 STRIP LIGHT (24V DC)",label:"IP65 STRIP LIGHT (24V DC)"},{value:"COB STRIP LIGHT",label:"COB STRIP LIGHT"},{value:"POWER SUPPLY FOR IP20 STRIP LIGHT",label:"POWER SUPPLY FOR IP20 STRIP LIGHT"},{value:"POWER SUPPLY FOR IP65 STRIP LIGHT",label:"POWER SUPPLY FOR IP65 STRIP LIGHT"},{value:"BULK HEAD",label:"BULK HEAD"},{value:"PIT LIGHT",label:"PIT LIGHT"},{value:"WELL GLASS",label:"WELL GLASS"},{value:"HIGHBAY (>100 Lm/W)",label:"HIGHBAY (>100 Lm/W)"},{value:"ULTRALITE HIGHBAY (>130 Lm/W)",label:"ULTRALITE HIGHBAY (>130 Lm/W)"}]};function Ye(e){"@babel/helpers - typeof";return Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(e)}function Ca(e,t){if(Ye(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var l=n.call(e,t);if(Ye(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(e){var t=Ca(e,"string");return Ye(t)=="symbol"?t:t+""}function ye(e,t,n){return(t=Ea(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,l)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ut(Object(n),!0).forEach(function(l){ye(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function pt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}function Ia(e){if(Array.isArray(e))return pt(e)}function Na(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yt(e,t){if(e){if(typeof e=="string")return pt(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}function ja(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(e){return Ia(e)||Na(e)||Yt(e)||ja()}function Ra(e){if(Array.isArray(e))return e}function La(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var l,o,i,u,f=[],x=!0,m=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;x=!1}else for(;!(x=(l=i.call(n)).done)&&(f.push(l.value),f.length!==t);x=!0);}catch(h){m=!0,o=h}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw o}}return f}}function Ma(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function te(e,t){return Ra(e)||La(e,t)||Yt(e,t)||Ma()}var yt={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ft;function Aa(){return Ft||(Ft=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(i=o(i,l(f)))}return i}function l(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var u="";for(var f in i)t.call(i,f)&&i[f]&&(u=o(u,f));return u}function o(i,u){return u?i?i+" "+u:i+u:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(yt)),yt.exports}var Ta=Aa();const Xe=Jt(Ta);function tt(e){var t=s.useRef();t.current=e;var n=s.useCallback(function(){for(var l,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(l=t.current)===null||l===void 0?void 0:l.call.apply(l,[t].concat(i))},[]);return n}function wa(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ht=wa()?s.useLayoutEffect:s.useEffect,Kt=function(t,n){var l=s.useRef(!0);Ht(function(){return t(l.current)},n),Ht(function(){return l.current=!1,function(){l.current=!0}},[])},_t=function(t,n){Kt(function(l){if(!l)return t()},n)};function Gt(e){var t=s.useRef(!1),n=s.useState(e),l=te(n,2),o=l[0],i=l[1];s.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function u(f,x){x&&t.current||i(f)}return[o,u]}function St(e){return e!==void 0}function Oa(e,t){var n=t||{},l=n.defaultValue,o=n.value,i=n.onChange,u=n.postState,f=Gt(function(){return St(o)?o:St(l)?typeof l=="function"?l():l:typeof e=="function"?e():e}),x=te(f,2),m=x[0],h=x[1],N=o!==void 0?o:m,j=u?u(N):N,y=tt(i),E=Gt([N]),b=te(E,2),v=b[0],g=b[1];_t(function(){var S=v[0];m!==S&&y(m,S)},[v]),_t(function(){St(o)||h(o)},[o]);var d=tt(function(S,L){h(S,L),g([N],L)});return[j,d]}var Ct={},ka=function(t){};function Pa(e,t){}function Da(e,t){}function Ua(){Ct={}}function Vt(e,t,n){!t&&!Ct[n]&&(e(!1,n),Ct[n]=!0)}function at(e,t){Vt(Pa,e,t)}function Fa(e,t){Vt(Da,e,t)}at.preMessage=ka;at.resetWarned=Ua;at.noteOnce=Fa;function Ha(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=new Set;function o(i,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=l.has(i);if(at(!x,"Warning: There may be circular references"),x)return!1;if(i===u)return!0;if(n&&f>1)return!1;l.add(i);var m=f+1;if(Array.isArray(i)){if(!Array.isArray(u)||i.length!==u.length)return!1;for(var h=0;h<i.length;h++)if(!o(i[h],u[h],m))return!1;return!0}if(i&&u&&Ye(i)==="object"&&Ye(u)==="object"){var N=Object.keys(i);return N.length!==Object.keys(u).length?!1:N.every(function(j){return o(i[j],u[j],m)})}return!1}return o(e,t)}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ut.apply(null,arguments)}function _a(e,t){if(e==null)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.indexOf(l)!==-1)continue;n[l]=e[l]}return n}function qt(e,t){if(e==null)return{};var n,l,o=_a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Et(e,t,n){return(e-t)/(n-t)}function It(e,t,n,l){var o=Et(t,n,l),i={};switch(e){case"rtl":i.right="".concat(o*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(o*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(o*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(o*100,"%"),i.transform="translateX(-50%)";break}return i}function qe(e,t){return Array.isArray(e)?e[t]:e}var J={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ze=s.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Ga=s.createContext({}),Ba=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Bt=s.forwardRef(function(e,t){var n=e.prefixCls,l=e.value,o=e.valueIndex,i=e.onStartMove,u=e.onDelete,f=e.style,x=e.render,m=e.dragging,h=e.draggingDelete,N=e.onOffsetChange,j=e.onChangeComplete,y=e.onFocus,E=e.onMouseEnter,b=qt(e,Ba),v=s.useContext(ze),g=v.min,d=v.max,S=v.direction,L=v.disabled,w=v.keyboard,F=v.range,z=v.tabIndex,B=v.ariaLabelForHandle,O=v.ariaLabelledByForHandle,A=v.ariaRequired,I=v.ariaValueTextFormatterForHandle,R=v.styles,$=v.classNames,Y="".concat(n,"-handle"),_=function(P){L||i(P,o)},Q=function(P){y==null||y(P,o)},U=function(P){E(P,o)},ue=function(P){if(!L&&w){var T=null;switch(P.which||P.keyCode){case J.LEFT:T=S==="ltr"||S==="btt"?-1:1;break;case J.RIGHT:T=S==="ltr"||S==="btt"?1:-1;break;case J.UP:T=S!=="ttb"?1:-1;break;case J.DOWN:T=S!=="ttb"?-1:1;break;case J.HOME:T="min";break;case J.END:T="max";break;case J.PAGE_UP:T=2;break;case J.PAGE_DOWN:T=-2;break;case J.BACKSPACE:case J.DELETE:u==null||u(o);break}T!==null&&(P.preventDefault(),N(T,o))}},Se=function(P){switch(P.which||P.keyCode){case J.LEFT:case J.RIGHT:case J.UP:case J.DOWN:case J.HOME:case J.END:case J.PAGE_UP:case J.PAGE_DOWN:j==null||j();break}},K=It(S,l,g,d),ge={};if(o!==null){var je;ge={tabIndex:L?null:qe(z,o),role:"slider","aria-valuemin":g,"aria-valuemax":d,"aria-valuenow":l,"aria-disabled":L,"aria-label":qe(B,o),"aria-labelledby":qe(O,o),"aria-required":qe(A,o),"aria-valuetext":(je=qe(I,o))===null||je===void 0?void 0:je(l),"aria-orientation":S==="ltr"||S==="rtl"?"horizontal":"vertical",onMouseDown:_,onTouchStart:_,onFocus:Q,onMouseEnter:U,onKeyDown:ue,onKeyUp:Se}}var Re=s.createElement("div",ut({ref:t,className:Xe(Y,ye(ye(ye({},"".concat(Y,"-").concat(o+1),o!==null&&F),"".concat(Y,"-dragging"),m),"".concat(Y,"-dragging-delete"),h),$.handle),style:re(re(re({},K),f),R.handle)},ge,b));return x&&(Re=x(Re,{index:o,prefixCls:n,value:l,dragging:m,draggingDelete:h})),Re}),$a=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Wa=s.forwardRef(function(e,t){var n=e.prefixCls,l=e.style,o=e.onStartMove,i=e.onOffsetChange,u=e.values,f=e.handleRender,x=e.activeHandleRender,m=e.draggingIndex,h=e.draggingDelete,N=e.onFocus,j=qt(e,$a),y=s.useRef({}),E=s.useState(!1),b=te(E,2),v=b[0],g=b[1],d=s.useState(-1),S=te(d,2),L=S[0],w=S[1],F=function(I){w(I),g(!0)},z=function(I,R){F(R),N==null||N(I)},B=function(I,R){F(R)};s.useImperativeHandle(t,function(){return{focus:function(I){var R;(R=y.current[I])===null||R===void 0||R.focus()},hideHelp:function(){xa.flushSync(function(){g(!1)})}}});var O=re({prefixCls:n,onStartMove:o,onOffsetChange:i,render:f,onFocus:z,onMouseEnter:B},j);return s.createElement(s.Fragment,null,u.map(function(A,I){var R=m===I;return s.createElement(Bt,ut({ref:function(Y){Y?y.current[I]=Y:delete y.current[I]},dragging:R,draggingDelete:R&&h,style:qe(l,I),key:I,value:A,valueIndex:I},O))}),x&&v&&s.createElement(Bt,ut({key:"a11y"},O,{value:u[L],valueIndex:null,dragging:m!==-1,draggingDelete:h,render:x,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Ya=function(t){var n=t.prefixCls,l=t.style,o=t.children,i=t.value,u=t.onClick,f=s.useContext(ze),x=f.min,m=f.max,h=f.direction,N=f.includedStart,j=f.includedEnd,y=f.included,E="".concat(n,"-text"),b=It(h,i,x,m);return s.createElement("span",{className:Xe(E,ye({},"".concat(E,"-active"),y&&N<=i&&i<=j)),style:re(re({},b),l),onMouseDown:function(g){g.stopPropagation()},onClick:function(){u(i)}},o)},Ka=function(t){var n=t.prefixCls,l=t.marks,o=t.onClick,i="".concat(n,"-mark");return l.length?s.createElement("div",{className:i},l.map(function(u){var f=u.value,x=u.style,m=u.label;return s.createElement(Ya,{key:f,prefixCls:i,style:x,value:f,onClick:o},m)})):null},Va=function(t){var n=t.prefixCls,l=t.value,o=t.style,i=t.activeStyle,u=s.useContext(ze),f=u.min,x=u.max,m=u.direction,h=u.included,N=u.includedStart,j=u.includedEnd,y="".concat(n,"-dot"),E=h&&N<=l&&l<=j,b=re(re({},It(m,l,f,x)),typeof o=="function"?o(l):o);return E&&(b=re(re({},b),typeof i=="function"?i(l):i)),s.createElement("span",{className:Xe(y,ye({},"".concat(y,"-active"),E)),style:b})},qa=function(t){var n=t.prefixCls,l=t.marks,o=t.dots,i=t.style,u=t.activeStyle,f=s.useContext(ze),x=f.min,m=f.max,h=f.step,N=s.useMemo(function(){var j=new Set;if(l.forEach(function(E){j.add(E.value)}),o&&h!==null)for(var y=x;y<=m;)j.add(y),y+=h;return Array.from(j)},[x,m,h,o,l]);return s.createElement("div",{className:"".concat(n,"-step")},N.map(function(j){return s.createElement(Va,{prefixCls:n,key:j,value:j,style:i,activeStyle:u})}))},$t=function(t){var n=t.prefixCls,l=t.style,o=t.start,i=t.end,u=t.index,f=t.onStartMove,x=t.replaceCls,m=s.useContext(ze),h=m.direction,N=m.min,j=m.max,y=m.disabled,E=m.range,b=m.classNames,v="".concat(n,"-track"),g=Et(o,N,j),d=Et(i,N,j),S=function(z){!y&&f&&f(z,-1)},L={};switch(h){case"rtl":L.right="".concat(g*100,"%"),L.width="".concat(d*100-g*100,"%");break;case"btt":L.bottom="".concat(g*100,"%"),L.height="".concat(d*100-g*100,"%");break;case"ttb":L.top="".concat(g*100,"%"),L.height="".concat(d*100-g*100,"%");break;default:L.left="".concat(g*100,"%"),L.width="".concat(d*100-g*100,"%")}var w=x||Xe(v,ye(ye({},"".concat(v,"-").concat(u+1),u!==null&&E),"".concat(n,"-track-draggable"),f),b.track);return s.createElement("div",{className:w,style:re(re({},L),l),onMouseDown:S,onTouchStart:S})},Xa=function(t){var n=t.prefixCls,l=t.style,o=t.values,i=t.startPoint,u=t.onStartMove,f=s.useContext(ze),x=f.included,m=f.range,h=f.min,N=f.styles,j=f.classNames,y=s.useMemo(function(){if(!m){if(o.length===0)return[];var b=i??h,v=o[0];return[{start:Math.min(b,v),end:Math.max(b,v)}]}for(var g=[],d=0;d<o.length-1;d+=1)g.push({start:o[d],end:o[d+1]});return g},[o,m,i,h]);if(!x)return null;var E=y!=null&&y.length&&(j.tracks||N.tracks)?s.createElement($t,{index:null,prefixCls:n,start:y[0].start,end:y[y.length-1].end,replaceCls:Xe(j.tracks,"".concat(n,"-tracks")),style:N.tracks}):null;return s.createElement(s.Fragment,null,E,y.map(function(b,v){var g=b.start,d=b.end;return s.createElement($t,{index:v,prefixCls:n,style:re(re({},qe(l,v)),N.track),start:g,end:d,key:v,onStartMove:u})}))},za=130;function Wt(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Qa(e,t,n,l,o,i,u,f,x,m,h){var N=s.useState(null),j=te(N,2),y=j[0],E=j[1],b=s.useState(-1),v=te(b,2),g=v[0],d=v[1],S=s.useState(!1),L=te(S,2),w=L[0],F=L[1],z=s.useState(n),B=te(z,2),O=B[0],A=B[1],I=s.useState(n),R=te(I,2),$=R[0],Y=R[1],_=s.useRef(null),Q=s.useRef(null),U=s.useRef(null),ue=s.useContext(Ga),Se=ue.onDragStart,K=ue.onDragChange;Kt(function(){g===-1&&A(n)},[n,g]),s.useEffect(function(){return function(){document.removeEventListener("mousemove",_.current),document.removeEventListener("mouseup",Q.current),U.current&&(U.current.removeEventListener("touchmove",_.current),U.current.removeEventListener("touchend",Q.current))}},[]);var ge=function(T,G,q){G!==void 0&&E(G),A(T);var ne=T;q&&(ne=T.filter(function(W,ae){return ae!==g})),u(ne),K&&K({rawValues:T,deleteIndex:q?g:-1,draggingIndex:g,draggingValue:G})},je=tt(function(P,T,G){if(P===-1){var q=$[0],ne=$[$.length-1],W=l-q,ae=o-ne,ee=T*(o-l);ee=Math.max(ee,W),ee=Math.min(ee,ae);var Fe=i(q+ee);ee=Fe-q;var Ce=$.map(function(fe){return fe+ee});ge(Ce)}else{var de=(o-l)*T,he=Ue(O);he[P]=$[P];var be=x(he,de,P,"dist");ge(be.values,be.value,G)}}),Re=function(T,G,q){T.stopPropagation();var ne=q||n,W=ne[G];d(G),E(W),Y(ne),A(ne),F(!1);var ae=Wt(T),ee=ae.pageX,Fe=ae.pageY,Ce=!1;Se&&Se({rawValues:ne,draggingIndex:G,draggingValue:W});var de=function(fe){fe.preventDefault();var oe=Wt(fe),Me=oe.pageX,Ae=oe.pageY,Te=Me-ee,xe=Ae-Fe,ve=e.current.getBoundingClientRect(),we=ve.width,He=ve.height,Le,Ee;switch(t){case"btt":Le=-xe/He,Ee=Te;break;case"ttb":Le=xe/He,Ee=Te;break;case"rtl":Le=-Te/we,Ee=xe;break;default:Le=Te/we,Ee=xe}Ce=m?Math.abs(Ee)>za&&h<O.length:!1,F(Ce),je(G,Le,Ce)},he=function be(fe){fe.preventDefault(),document.removeEventListener("mouseup",be),document.removeEventListener("mousemove",de),U.current&&(U.current.removeEventListener("touchmove",_.current),U.current.removeEventListener("touchend",Q.current)),_.current=null,Q.current=null,U.current=null,f(Ce),d(-1),F(!1)};document.addEventListener("mouseup",he),document.addEventListener("mousemove",de),T.currentTarget.addEventListener("touchend",he),T.currentTarget.addEventListener("touchmove",de),_.current=de,Q.current=he,U.current=T.currentTarget},pe=s.useMemo(function(){var P=Ue(n).sort(function(W,ae){return W-ae}),T=Ue(O).sort(function(W,ae){return W-ae}),G={};T.forEach(function(W){G[W]=(G[W]||0)+1}),P.forEach(function(W){G[W]=(G[W]||0)-1});var q=m?1:0,ne=Object.values(G).reduce(function(W,ae){return W+Math.abs(ae)},0);return ne<=q?O:n},[n,O,m]);return[g,y,w,pe,Re]}function Za(e,t,n,l,o,i){var u=s.useCallback(function(y){return Math.max(e,Math.min(t,y))},[e,t]),f=s.useCallback(function(y){if(n!==null){var E=e+Math.round((u(y)-e)/n)*n,b=function(S){return(String(S).split(".")[1]||"").length},v=Math.max(b(n),b(t),b(e)),g=Number(E.toFixed(v));return e<=g&&g<=t?g:null}return null},[n,e,t,u]),x=s.useCallback(function(y){var E=u(y),b=l.map(function(d){return d.value});n!==null&&b.push(f(y)),b.push(e,t);var v=b[0],g=t-e;return b.forEach(function(d){var S=Math.abs(E-d);S<=g&&(v=d,g=S)}),v},[e,t,l,n,u,f]),m=function y(E,b,v){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof b=="number"){var d,S=E[v],L=S+b,w=[];l.forEach(function(A){w.push(A.value)}),w.push(e,t),w.push(f(S));var F=b>0?1:-1;g==="unit"?w.push(f(S+F*n)):w.push(f(L)),w=w.filter(function(A){return A!==null}).filter(function(A){return b<0?A<=S:A>=S}),g==="unit"&&(w=w.filter(function(A){return A!==S}));var z=g==="unit"?S:L;d=w[0];var B=Math.abs(d-z);if(w.forEach(function(A){var I=Math.abs(A-z);I<B&&(d=A,B=I)}),d===void 0)return b<0?e:t;if(g==="dist")return d;if(Math.abs(b)>1){var O=Ue(E);return O[v]=d,y(O,b-F,v,g)}return d}else{if(b==="min")return e;if(b==="max")return t}},h=function(E,b,v){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",d=E[v],S=m(E,b,v,g);return{value:S,changed:S!==d}},N=function(E){return i===null&&E===0||typeof i=="number"&&E<i},j=function(E,b,v){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",d=E.map(x),S=d[v],L=m(d,b,v,g);if(d[v]=L,o===!1){var w=i||0;v>0&&d[v-1]!==S&&(d[v]=Math.max(d[v],d[v-1]+w)),v<d.length-1&&d[v+1]!==S&&(d[v]=Math.min(d[v],d[v+1]-w))}else if(typeof i=="number"||i===null){for(var F=v+1;F<d.length;F+=1)for(var z=!0;N(d[F]-d[F-1])&&z;){var B=h(d,1,F);d[F]=B.value,z=B.changed}for(var O=v;O>0;O-=1)for(var A=!0;N(d[O]-d[O-1])&&A;){var I=h(d,-1,O-1);d[O-1]=I.value,A=I.changed}for(var R=d.length-1;R>0;R-=1)for(var $=!0;N(d[R]-d[R-1])&&$;){var Y=h(d,-1,R-1);d[R-1]=Y.value,$=Y.changed}for(var _=0;_<d.length-1;_+=1)for(var Q=!0;N(d[_+1]-d[_])&&Q;){var U=h(d,1,_+1);d[_+1]=U.value,Q=U.changed}}return{value:d[v],values:d}};return[x,j]}function Ja(e){return s.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,l=e.minCount,o=e.maxCount;return[!0,t,!t&&n,l||0,o]},[e])}var er=s.forwardRef(function(e,t){var n=e.prefixCls,l=n===void 0?"rc-slider":n,o=e.className,i=e.style,u=e.classNames,f=e.styles,x=e.id,m=e.disabled,h=m===void 0?!1:m,N=e.keyboard,j=N===void 0?!0:N,y=e.autoFocus,E=e.onFocus,b=e.onBlur,v=e.min,g=v===void 0?0:v,d=e.max,S=d===void 0?100:d,L=e.step,w=L===void 0?1:L,F=e.value,z=e.defaultValue,B=e.range,O=e.count,A=e.onChange,I=e.onBeforeChange,R=e.onAfterChange,$=e.onChangeComplete,Y=e.allowCross,_=Y===void 0?!0:Y,Q=e.pushable,U=Q===void 0?!1:Q,ue=e.reverse,Se=e.vertical,K=e.included,ge=K===void 0?!0:K,je=e.startPoint,Re=e.trackStyle,pe=e.handleStyle,P=e.railStyle,T=e.dotStyle,G=e.activeDotStyle,q=e.marks,ne=e.dots,W=e.handleRender,ae=e.activeHandleRender,ee=e.track,Fe=e.tabIndex,Ce=Fe===void 0?0:Fe,de=e.ariaLabelForHandle,he=e.ariaLabelledByForHandle,be=e.ariaRequired,fe=e.ariaValueTextFormatterForHandle,oe=s.useRef(null),Me=s.useRef(null),Ae=s.useMemo(function(){return Se?ue?"ttb":"btt":ue?"rtl":"ltr"},[ue,Se]),Te=Ja(B),xe=te(Te,5),ve=xe[0],we=xe[1],He=xe[2],Le=xe[3],Ee=xe[4],ie=s.useMemo(function(){return isFinite(g)?g:0},[g]),_e=s.useMemo(function(){return isFinite(S)?S:100},[S]),Oe=s.useMemo(function(){return w!==null&&w<=0?1:w},[w]),Qe=s.useMemo(function(){return typeof U=="boolean"?U?Oe:!1:U>=0?U:!1},[U,Oe]),Ze=s.useMemo(function(){return Object.keys(q||{}).map(function(k){var p=q[k],D={value:Number(k)};return p&&Ye(p)==="object"&&!s.isValidElement(p)&&("label"in p||"style"in p)?(D.style=p.style,D.label=p.label):D.label=p,D}).filter(function(k){var p=k.label;return p||typeof p=="number"}).sort(function(k,p){return k.value-p.value})},[q]),Nt=Za(ie,_e,Oe,Ze,_,Qe),dt=te(Nt,2),Ke=dt[0],rt=dt[1],ft=Oa(z,{value:F}),nt=te(ft,2),Ie=nt[0],r=nt[1],c=s.useMemo(function(){var k=Ie==null?[]:Array.isArray(Ie)?Ie:[Ie],p=te(k,1),D=p[0],H=D===void 0?ie:D,Z=Ie===null?[]:[H];if(ve){if(Z=Ue(k),O||Ie===void 0){var Ge=O>=0?O+1:2;for(Z=Z.slice(0,Ge);Z.length<Ge;){var ke;Z.push((ke=Z[Z.length-1])!==null&&ke!==void 0?ke:ie)}}Z.sort(function(Pe,De){return Pe-De})}return Z.forEach(function(Pe,De){Z[De]=Ke(Pe)}),Z},[Ie,ve,ie,O,Ke]),C=function(p){return ve?p:p[0]},M=tt(function(k){var p=Ue(k).sort(function(D,H){return D-H});A&&!Ha(p,c,!0)&&A(C(p)),r(p)}),X=tt(function(k){k&&oe.current.hideHelp();var p=C(c);R==null||R(p),at(!R,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),$==null||$(p)}),le=function(p){if(!(h||!we||c.length<=Le)){var D=Ue(c);D.splice(p,1),I==null||I(C(D)),M(D);var H=Math.max(0,p-1);oe.current.hideHelp(),oe.current.focus(H)}},V=Qa(Me,Ae,c,ie,_e,Ke,M,X,rt,we,Le),se=te(V,5),Ne=se[0],vt=se[1],mt=se[2],Je=se[3],lt=se[4],st=function(p,D){if(!h){var H=Ue(c),Z=0,Ge=0,ke=_e-ie;c.forEach(function(Be,ht){var Ot=Math.abs(p-Be);Ot<=ke&&(ke=Ot,Z=ht),Be<p&&(Ge=ht)});var Pe=Z;we&&ke!==0&&(!Ee||c.length<Ee)?(H.splice(Ge+1,0,p),Pe=Ge+1):H[Z]=p,ve&&!c.length&&O===void 0&&H.push(p);var De=C(H);if(I==null||I(De),M(H),D){var Ve,et;(Ve=document.activeElement)===null||Ve===void 0||(et=Ve.blur)===null||et===void 0||et.call(Ve),oe.current.focus(Pe),lt(D,Pe,H)}else R==null||R(De),at(!R,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),$==null||$(De)}},gt=function(p){p.preventDefault();var D=Me.current.getBoundingClientRect(),H=D.width,Z=D.height,Ge=D.left,ke=D.top,Pe=D.bottom,De=D.right,Ve=p.clientX,et=p.clientY,Be;switch(Ae){case"btt":Be=(Pe-et)/Z;break;case"ttb":Be=(et-ke)/Z;break;case"rtl":Be=(De-Ve)/H;break;default:Be=(Ve-Ge)/H}var ht=ie+Be*(_e-ie);st(Ke(ht),p)},ce=s.useState(null),jt=te(ce,2),bt=jt[0],Rt=jt[1],Xt=function(p,D){if(!h){var H=rt(c,p,D);I==null||I(C(c)),M(H.values),Rt(H.value)}};s.useEffect(function(){if(bt!==null){var k=c.indexOf(bt);k>=0&&oe.current.focus(k)}Rt(null)},[bt]);var zt=s.useMemo(function(){return He&&Oe===null?!1:He},[He,Oe]),Lt=tt(function(k,p){lt(k,p),I==null||I(C(c))}),Mt=Ne!==-1;s.useEffect(function(){if(!Mt){var k=c.lastIndexOf(vt);oe.current.focus(k)}},[Mt]);var ot=s.useMemo(function(){return Ue(Je).sort(function(k,p){return k-p})},[Je]),Qt=s.useMemo(function(){return ve?[ot[0],ot[ot.length-1]]:[ie,ot[0]]},[ot,ve,ie]),At=te(Qt,2),Tt=At[0],wt=At[1];s.useImperativeHandle(t,function(){return{focus:function(){oe.current.focus(0)},blur:function(){var p,D=document,H=D.activeElement;(p=Me.current)!==null&&p!==void 0&&p.contains(H)&&(H==null||H.blur())}}}),s.useEffect(function(){y&&oe.current.focus(0)},[]);var Zt=s.useMemo(function(){return{min:ie,max:_e,direction:Ae,disabled:h,keyboard:j,step:Oe,included:ge,includedStart:Tt,includedEnd:wt,range:ve,tabIndex:Ce,ariaLabelForHandle:de,ariaLabelledByForHandle:he,ariaRequired:be,ariaValueTextFormatterForHandle:fe,styles:f||{},classNames:u||{}}},[ie,_e,Ae,h,j,Oe,ge,Tt,wt,ve,Ce,de,he,be,fe,f,u]);return s.createElement(ze.Provider,{value:Zt},s.createElement("div",{ref:Me,className:Xe(l,o,ye(ye(ye(ye({},"".concat(l,"-disabled"),h),"".concat(l,"-vertical"),Se),"".concat(l,"-horizontal"),!Se),"".concat(l,"-with-marks"),Ze.length)),style:i,onMouseDown:gt,id:x},s.createElement("div",{className:Xe("".concat(l,"-rail"),u==null?void 0:u.rail),style:re(re({},P),f==null?void 0:f.rail)}),ee!==!1&&s.createElement(Xa,{prefixCls:l,style:Re,values:c,startPoint:je,onStartMove:zt?Lt:void 0}),s.createElement(qa,{prefixCls:l,marks:Ze,dots:ne,style:T,activeStyle:G}),s.createElement(Wa,{ref:oe,prefixCls:l,style:pe,values:Je,draggingIndex:Ne,draggingDelete:mt,onStartMove:Lt,onOffsetChange:Xt,onFocus:E,onBlur:b,handleRender:W,activeHandleRender:ae,onChangeComplete:X,onDelete:we?le:void 0}),s.createElement(Ka,{prefixCls:l,marks:Ze,onClick:st})))});const Cr=()=>{var Ke,rt,ft,nt,Ie;const{organizationId:e}=ea(),t=ta(),[n,l]=s.useState(""),[o,i]=s.useState(""),[u,f]=s.useState(""),[x,m]=s.useState(""),[h,N]=s.useState(""),[j,y]=s.useState(""),[E,b]=s.useState(""),[v,g]=s.useState(""),[d,S]=s.useState("0"),[L,w]=s.useState("100000"),[F,z]=s.useState(!1),[B,O]=s.useState(null),[A,I]=s.useState(null),[R,$]=s.useState(""),Y=xt(n,500),_=xt(d,800),Q=xt(L,800),{data:U}=va(e),ue=U==null?void 0:U.map(r=>({_id:r._id,projectName:r.projectName})),Se=s.useMemo(()=>{var r;return(r=U||[])==null?void 0:r.map(c=>({value:c._id,label:c.projectName}))},[U]);s.useEffect(()=>{ue&&ue.length>0&&!R&&$(ue[0]._id)},[ue,R]);const{data:K,refetch:ge}=ma({organizationId:e,projectId:R}),je=ga(),Re=ha(),pe=ba();s.useEffect(()=>{f(""),m("")},[o]);const P=o&&o.toLowerCase()==="light",T=o&&["switches","socket"].includes(o.toLowerCase()),G=o&&o.toLowerCase()==="regulator",q=!o||o==="",ne=T,W=P||q;s.useEffect(()=>{P?m(""):T?(f(""),y("")):G?(m(""),f(""),y("")):q&&m("")},[o]);const ae=s.useMemo(()=>{const r={search:Y,category:o,minMrp:_?Number(_):void 0,maxMrp:Q?Number(Q):void 0,brand:h,watt:E,itemCode:v};return P||q?{...r,subcategory:u,model:j}:T?{...r,type:x}:r},[Y,o,u,x,j,E,v,_,Q,h,P,T,G,q]),{data:ee,isLoading:Fe,isError:Ce,error:de,fetchNextPage:he,hasNextPage:be,isFetchingNextPage:fe,refetch:oe}=ia(e,ae),Me=ca(),Ae=ua(),Te=da(),xe=r=>{var C;const c=(r==null?void 0:r.specification)||{};if(c!=null&&c.variants&&Array.isArray(c==null?void 0:c.variants)&&((C=c==null?void 0:c.variants)==null?void 0:C.length)>0){const M=c==null?void 0:c.variants[0];return{image:(M==null?void 0:M.image)||null,mrp:(M==null?void 0:M.mrp)||0,itemCode:(M==null?void 0:M.itemCode)||"",color:M.color||"",hasVariants:!0,variants:c==null?void 0:c.variants}}return{image:c.imageUrl||c.image||null,mrp:c.mrp||0,itemCode:c.itemCode||"",color:null,hasVariants:!1,variants:[]}},ve=r=>{var c,C,M,X,le,V,se,Ne,vt,mt,Je,lt,st,gt;if((c=r==null?void 0:r.specification)!=null&&c.variants&&((M=(C=r==null?void 0:r.specification)==null?void 0:C.variants)==null?void 0:M.length)>0){const ce=(X=r==null?void 0:r.specification)==null?void 0:X.variants[0];return{itemCode:ce==null?void 0:ce.itemCode,mrp:ce==null?void 0:ce.mrp,color:ce==null?void 0:ce.color,image:((le=ce.images)==null?void 0:le[0])||ce.image,...ce,hsn:((V=r==null?void 0:r.specification)==null?void 0:V.HSN)||"",brand:((se=r==null?void 0:r.specification)==null?void 0:se.brand)||"",description:((Ne=r==null?void 0:r.specification)==null?void 0:Ne.description)||"",styleType:((vt=r==null?void 0:r.specification)==null?void 0:vt.styleType)||"",type:((mt=r==null?void 0:r.specification)==null?void 0:mt.type)||"",materialType:((Je=r==null?void 0:r.specification)==null?void 0:Je.materialType)||"",category:((lt=r==null?void 0:r.specification)==null?void 0:lt.category)||(r==null?void 0:r.category)||"",subcategory:((st=r==null?void 0:r.specification)==null?void 0:st.subcategory)||(r==null?void 0:r.subcategory)||"",model:((gt=r==null?void 0:r.specification)==null?void 0:gt.model)||r.model||""}}return r.specification},we=r=>{var c,C,M,X,le,V;return(c=r==null?void 0:r.specification)!=null&&c.variants&&((M=(C=r==null?void 0:r.specification)==null?void 0:C.variants)==null?void 0:M.length)>0?(le=(X=r==null?void 0:r.specification)==null?void 0:X.variants[0])==null?void 0:le.itemCode:((V=r==null?void 0:r.specification)==null?void 0:V.itemCode)||(r==null?void 0:r.itemCode)},He=r=>{if(!(K!=null&&K.items))return 0;const c=K.items.find(C=>C.productId===r);return c?c.quantity:0},Le=async r=>{var c,C;if(!R){me({title:"Error",description:"Please select a project first",variant:"destructive"});return}try{const M=ve(r);await je.mutateAsync({organizationId:e,projectId:R,productId:r._id,quantity:1,specification:M}),me({title:"Success",description:"Item added to cart successfully"}),ge()}catch(M){me({title:"Error",description:((C=(c=M==null?void 0:M.response)==null?void 0:c.data)==null?void 0:C.message)||"Failed to add item to cart",variant:"destructive"})}},Ee=async(r,c)=>{var C,M,X,le;if(K!=null&&K._id){if(c===0){try{await pe.mutateAsync({cartId:K._id,itemCode:r}),me({title:"Success",description:"Item removed from cart"}),ge()}catch(V){me({title:"Error",description:((M=(C=V==null?void 0:V.response)==null?void 0:C.data)==null?void 0:M.message)||"Failed to remove item from cart",variant:"destructive"})}return}try{await Re.mutateAsync({cartId:K._id,itemCode:r,quantity:c}),me({title:"Success",description:"Cart updated successfully"}),ge()}catch(V){me({title:"Error",description:((le=(X=V==null?void 0:V.response)==null?void 0:X.data)==null?void 0:le.message)||"Failed to update cart",variant:"destructive"})}}},ie=async r=>{try{await Me.mutateAsync({organizationId:e,specification:r}),me({title:"Added",description:"Material inventory added successfully"}),z(!1)}catch(c){I(c.message),me({title:"Error",description:c.message,variant:"destructive"})}},_e=async(r,c)=>{try{await Ae.mutateAsync({id:r,specification:c}),me({title:"Updated",description:"Material inventory updated successfully"}),O(null)}catch(C){I(C.message),me({title:"Error",description:C.message,variant:"destructive"})}},Oe=async r=>{try{await Te.mutateAsync({id:r}),me({title:"Deleted",description:"Material inventory deleted"})}catch(c){I(c.message),me({title:"Error",description:c.message,variant:"destructive"})}},Qe=s.useRef(null);s.useEffect(()=>{const r=()=>{if(console.log("has next page",be),!Qe.current||fe||!be)return;const C=Qe.current,{scrollTop:M,scrollHeight:X,clientHeight:le}=C;X>le+50&&M+le>=X-300&&(console.log("Fetching next page..."),he())},c=Qe.current;if(c)return c.addEventListener("scroll",r),()=>c.removeEventListener("scroll",r)},[he,fe,be]);const Ze=n!==Y||d!==_||L!==Q;if(location.pathname.includes("single")||location.pathname.includes("cart"))return a.jsx(aa,{});const dt=r=>{const c=r.specification||{},C=xe(r),M=we(r),X=He(r._id),le=X>0,V=je.isPending||Re.isPending||pe.isPending;return a.jsxs(ra,{className:"mb-4 shadow-xl border border-gray-100",children:[a.jsx(na,{className:"flex flex-row items-center justify-between pb-2",children:a.jsxs("div",{className:"flex items-center gap-4",children:[C.image&&a.jsx("img",{src:C==null?void 0:C.image,alt:"img",className:"w-16 h-16 object-cover rounded-lg border border-gray-400"}),a.jsxs("div",{children:[a.jsx(la,{className:"text-lg font-bold text-blue-900",children:it((c==null?void 0:c.subcategory)||c.name||c.model||(c==null?void 0:c.category)||"Unnamed",22)}),a.jsxs(sa,{className:"text-xs text-gray-500 mt-1",children:[(c==null?void 0:c.category)&&a.jsx("span",{className:"mr-2",children:a.jsx(kt,{children:c.category})}),(c==null?void 0:c.model)&&a.jsxs("span",{className:"mr-2",children:["Model: ",a.jsx("span",{className:"font-semibold",children:it(c.model,14)})]}),C.hasVariants&&C.color&&a.jsx("span",{className:"mr-2",children:a.jsx(kt,{variant:"secondary",children:C.color})}),(C==null?void 0:C.itemCode)&&a.jsxs("span",{className:"mr-2",children:["Code: ",a.jsx("span",{className:"font-semibold",children:C.itemCode})]}),(c==null?void 0:c.itemCode)&&a.jsxs("span",{className:"mr-2",children:["Code: ",a.jsx("span",{className:"font-semibold",children:c.itemCode})]})]})]})]})}),a.jsxs(oa,{children:[a.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-700",children:[Object.entries(c).map(([se,Ne])=>["image","imageUrl","_id","organizationId","series","cct","mrp","itemCode","variants"].includes(se)||typeof Ne=="object"||Ne===void 0||Ne===null?null:se==="description"?a.jsxs("div",{className:"bg-gray-50 rounded px-2 py-1 border border-gray-100",children:[a.jsxs("span",{className:"font-semibold capitalize",children:[it(se,12),":"]}),Ne]},se):a.jsxs("div",{className:"bg-gray-50 rounded px-2 py-1 border border-gray-100",children:[a.jsxs("span",{className:"font-semibold capitalize",children:[it(se,12),":"]})," ",it(String(Ne),18)]},se)),C.hasVariants&&C.variants.length>1&&a.jsxs("div",{className:"bg-blue-50 rounded px-2 py-1 border border-blue-200",children:[a.jsx("span",{className:"font-semibold",children:"Variants:"})," ",C.variants.length," colors available"]}),C.mrp&&a.jsxs("div",{className:"text-blue-700 font-bold ml-auto text-[16px]",children:["₹",C.mrp]})]}),a.jsxs("section",{className:"flex justify-between items-center mt-4",children:[a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs($e,{size:"sm",variant:"primary",onClick:()=>t(`single/${r._id}`),children:[a.jsx("i",{className:"fas fa-eye mr-1"}),"View"]}),a.jsxs($e,{size:"sm",isLoading:Te.isPending,variant:"danger",onClick:()=>Oe(r._id),className:"text-white bg-red-600",children:[a.jsx("i",{className:"fas fa-trash mr-1"}),"Delete"]})]}),a.jsx("div",{className:"flex gap-2 items-center",children:le?a.jsxs("div",{className:"flex items-center gap-2 bg-green-50 rounded-lg p-1 border border-green-200",children:[a.jsx($e,{size:"sm",onClick:()=>Ee(M,X-1),disabled:V,variant:"danger",className:"w-8 h-8 p-0 bg-red-600 text-white rounded-md shadow-sm",children:a.jsx("i",{className:"fas fa-minus text-sm"})}),a.jsx("span",{className:"w-10 text-center font-bold text-green-700",children:X}),a.jsx($e,{size:"sm",variant:"primary",onClick:()=>Ee(M,X+1),disabled:V,className:"w-8 h-8 p-0  rounded-md shadow-sm",children:a.jsx("i",{className:"fas fa-plus text-sm"})})]}):a.jsxs($e,{size:"sm",variant:"primary",onClick:()=>Le(r),isLoading:V,disabled:!R||V,className:"bg-green-600 hover:bg-green-700 text-white w-full sm:w-auto",children:[a.jsx("i",{className:"fas fa-cart-plus mr-1"}),"Add to Cart"]})})]})]})]},r._id)};return a.jsxs("div",{className:"max-h-full overflow-y-auto bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-2",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[a.jsx("i",{className:"fas fa-list mr-3 text-blue-600"}),"Product Inventory List"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Discover the product that you want for you work here"})]}),a.jsxs("div",{className:"flex gap-2",children:[Ze&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx("i",{className:"fas fa-clock animate-pulse"}),a.jsx("span",{children:"Updating results..."})]}),a.jsxs("div",{className:"w-full sm:w-64",children:[a.jsx(Sa,{children:"Select project for the displaying the cart items"}),a.jsx(ya,{options:Se,placeholder:"Select project",searchPlaceholder:"Search projects...",value:R||void 0,onValueChange:r=>$(r||""),searchBy:"name",displayFormat:"simple",className:"w-full"})]}),a.jsxs($e,{onClick:()=>t("cart"),variant:"primary",className:"relative w-full sm:w-auto",children:[a.jsx("i",{className:"fas fa-shopping-cart text-xl"}),K&&((Ke=K.items)==null?void 0:Ke.length)>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:K.items.length})]})]})]})})}),a.jsx("div",{className:"px-2 sm:px-4 lg:px-8 py-6",children:a.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[a.jsx("div",{className:"xl:w-80 w-full flex-shrink-0",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx("i",{className:"fas fa-filter mr-2 text-blue-600"}),"Filters"]}),(o||u||j||E||v||d||L||n||x)&&a.jsx("button",{onClick:()=>{i(""),m(""),f(""),y(""),b(""),g(""),w("100000"),S("0"),l("")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear All"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Search",n!==Y&&a.jsx("span",{className:"ml-2 text-xs text-amber-600",children:a.jsx("i",{className:"fas fa-circle animate-pulse"})})]}),a.jsx(We,{placeholder:"Search by Brand, Subcategory, Model, ItemCode...",value:n,onChange:r=>l(r.target.value.trim())})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsx("select",{value:o,onChange:r=>i(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ct.categories.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),a.jsx("select",{value:h,onChange:r=>N(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ct.brand.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),W&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),a.jsx("select",{value:u,onChange:r=>f(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ct.subcategories.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),a.jsx("select",{value:j,onChange:r=>y(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ct.models.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))})]})]}),ne&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),a.jsxs("select",{value:x,onChange:r=>m(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Types"}),(rt=ct.types)==null?void 0:rt.map(r=>a.jsx("option",{value:r.value,children:r.label},r.value))]})]}),a.jsxs("div",{className:"",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),a.jsx("div",{className:"px-2 mb-3",children:a.jsx(er,{range:!0,min:0,max:1e5,step:500,value:[Number(d),Number(L)],onChange:r=>{const[c,C]=r;S(String(c)),w(String(C))},trackStyle:[{backgroundColor:"#3b82f6",height:6}],handleStyle:[{borderColor:"#3b82f6",backgroundColor:"#fff",boxShadow:"0 2px 6px rgba(59, 130, 246, 0.4)",width:18,height:18,marginTop:-6},{borderColor:"#3b82f6",backgroundColor:"#fff",boxShadow:"0 2px 6px rgba(59, 130, 246, 0.4)",width:18,height:18,marginTop:-6}],railStyle:{backgroundColor:"#e5e7eb",height:6}})}),a.jsxs("div",{className:"flex justify-between items-center gap-2 text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Min"}),a.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg font-semibold text-blue-700 text-center",children:["₹",Number(d).toLocaleString("en-IN")]})]}),a.jsx("div",{className:"text-gray-400 mt-5",children:"—"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Max"}),a.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg font-semibold text-blue-700 text-center",children:["₹",Number(L).toLocaleString("en-IN")]})]})]}),a.jsxs("div",{className:"flex flex-col gap-3 items-center mt-2",children:[a.jsx(We,{className:"",type:"number",value:d,onChange:r=>S(r.target.value)}),a.jsx(We,{className:"",type:"number",value:L,onChange:r=>w(r.target.value)})]})]})]})]})}),a.jsx("div",{className:"flex-1 !max-h-[95vh] overflow-y-auto custom-scrollbar",children:a.jsxs("div",{ref:Qe,className:"h-full overflow-y-auto custom-scrollbar pr-2",children:[!R&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 rounded-lg p-4 mb-4 flex items-center",children:[a.jsx("i",{className:"fas fa-exclamation-triangle mr-3 text-xl"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Select a project to add items to cart"}),a.jsx("p",{className:"text-sm",children:"Choose a project from the dropdown above to enable cart functionality"})]})]}),A&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),A]}),a.jsx("button",{onClick:()=>I(null),className:"ml-4 text-red-400 hover:text-red-700",children:a.jsx("i",{className:"fas fa-times"})})]}),Ce&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),(de==null?void 0:de.message)||"Failed to load data"]}),a.jsx("button",{onClick:()=>oe(),className:"ml-4 text-red-400 hover:text-red-700",children:a.jsx("i",{className:"fas fa-redo"})})]}),a.jsxs("div",{className:"max-h-[110%]  pr-2",children:[Fe?a.jsx(fa,{}):!((ft=ee==null?void 0:ee.pages)!=null&&ft.length)||!((Ie=(nt=ee.pages[0])==null?void 0:nt.data)!=null&&Ie.length)?a.jsx(pa,{message:"No material inventory found.",icon:"box",color:"gray"}):ee.pages.map(r=>r.data.map(dt)),fe&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx("i",{className:"fas fa-spinner fa-spin text-lg text-blue-400"})})]})]})})]})}),(F||B)&&a.jsx(tr,{initialData:B==null?void 0:B.specification,onClose:()=>{z(!1),O(null)},onSubmit:async r=>{B?await _e(B._id,r):await ie(r)},isLoading:Me.status==="pending"||Ae.status==="pending"})]})},tr=({initialData:e={},onClose:t,onSubmit:n,isLoading:l})=>{const[o,i]=s.useState({name:e.name||"",type:e.type||"",quantity:e.quantity||"",unit:e.unit||"",location:e.location||""}),[u,f]=s.useState(null),x=h=>{i(N=>({...N,[h.target.name]:h.target.value}))},m=async h=>{if(h.preventDefault(),!o.name)return f("Name is required");f(null),await n(o)};return a.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center",children:a.jsxs("form",{onSubmit:m,className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md space-y-4 relative",children:[a.jsx("button",{type:"button",className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700",onClick:t,children:a.jsx("i",{className:"fas fa-times"})}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:e!=null&&e.name?"Edit Material":"Add Material"}),a.jsx(We,{name:"name",placeholder:"Name",value:o.name,onChange:x}),a.jsx(We,{name:"type",placeholder:"Type",value:o.type,onChange:x}),a.jsx(We,{name:"quantity",placeholder:"Quantity",value:o.quantity,onChange:x,type:"number"}),a.jsx(We,{name:"unit",placeholder:"Unit",value:o.unit,onChange:x}),a.jsx(We,{name:"location",placeholder:"Location",value:o.location,onChange:x}),u&&a.jsx("div",{className:"text-red-500 text-sm",children:u}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx($e,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),a.jsx($e,{type:"submit",variant:"primary",isLoading:l,children:"Save"})]})]})})};export{Cr as default};
