import{f as a,h as u,s as i,b as c,i as n}from"./index-BAM0eJUz.js";import{u as l}from"./useInfiniteQuery-BGz0VllC.js";const w=async(e,r)=>{const{data:t}=await r.post("/toolmaster/create",e);if(!t.ok)throw new Error(t.message);return t.data},d=async({id:e,updateData:r,api:t})=>{const{data:o}=await t.patch(`/toolmaster/updatecontent/${e}`,r);if(!o.ok)throw new Error(o.message);return o.data},f=async({id:e,formData:r,api:t})=>{const{data:o}=await t.patch(`/toolmaster/updateimages/${e}`,r);if(!o.ok)throw new Error(o.message);return o.data},y=async({params:e,api:r})=>{const{data:t}=await r.get("/toolmaster/getall",{params:e});if(!t.ok)throw new Error(t.message);return t},m=async(e,r)=>{const{data:t}=await r.get(`/toolmaster/get/${e}`);if(!t.ok)throw new Error(t.message);return t.data},h=async(e,r)=>{const{data:t}=await r.delete(`/toolmaster/delete/${e}`);if(!t.ok)throw new Error(t.message);return t},p=async(e,r,t)=>{const{data:o}=await t.patch(`/toolmaster/updatewarrantyfiles/${e}`,r);if(!o.ok)throw new Error(o.message);return o.data},g=async(e,r,t)=>{const{data:o}=await t.delete(`/toolmaster/tools/${e}/tool-image/${r}`);if(!o.ok)throw new Error(o.message);return o.data},E=async(e,r,t)=>{const{data:o}=await t.delete(`/toolmaster/tools/${e}/warranty-file/${r}`);if(!o.ok)throw new Error(o.message);return o.data},s=["owner","staff","CTO"],T=()=>{const{role:e}=a(),r=n(e);return u({mutationFn:async t=>{if(!e||!s.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API instance not found for role");return await w(t,r)},onSuccess:()=>{i.invalidateQueries({queryKey:["toolmaster"]})}})},P=()=>{const{role:e}=a(),r=n(e);return u({mutationFn:async({id:t,updateData:o})=>{if(!e||!s.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API instance not found for role");return await d({id:t,updateData:o,api:r})},onSuccess:(t,{id:o})=>{i.invalidateQueries({queryKey:["toolmaster"]}),i.invalidateQueries({queryKey:["toolmaster",o]})}})},q=()=>{const{role:e}=a(),r=n(e);return u({mutationFn:async({id:t,formData:o})=>{if(!e||!s.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API instance not found for role");return await f({id:t,formData:o,api:r})},onSuccess:(t,{id:o})=>{i.invalidateQueries({queryKey:["toolmaster",o]})}})},F=e=>{const{role:r}=a(),t=n(r);return l({queryKey:["toolmaster","all",e],queryFn:async({pageParam:o=1})=>{if(!r||!s.includes(r))throw new Error("Unauthorized");if(!t)throw new Error("API instance not found for role");return await y({params:{...e,page:o,limit:10},api:t})},getNextPageParam:o=>{if(o.currentPage<o.totalPages)return o.currentPage+1},initialPageParam:1,enabled:!!r&&!!t})},U=e=>{const{role:r}=a(),t=n(r);return c({queryKey:["toolmaster",e],queryFn:async()=>{if(!r||!s.includes(r))throw new Error("Unauthorized");if(!t)throw new Error("API instance not found for role");return await m(e,t)},enabled:!!e&&!!r&&!!t})},K=()=>{const{role:e}=a(),r=n(e);return u({mutationFn:async t=>{if(!e||!s.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API instance not found for role");return await h(t,r)},onSuccess:(t,o)=>{i.invalidateQueries({queryKey:["toolmaster",o]})}})},Q=()=>{const{role:e}=a(),r=n(e);return u({mutationFn:async({id:t,formData:o})=>{if(!e||!s.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API instance not found for role");return await p(t,o,r)},onSuccess:(t,{id:o})=>{i.invalidateQueries({queryKey:["toolmaster",o]})}})},k=()=>{const{role:e}=a(),r=n(e);return u({mutationFn:async({toolId:t,fileId:o})=>{if(!e||!s.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API instance not found for role");return await g(t,o,r)},onSuccess:()=>{i.invalidateQueries({queryKey:["toolmaster"]})}})},v=()=>{const{role:e}=a(),r=n(e);return u({mutationFn:async({toolId:t,fileId:o})=>{if(!e||!s.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API instance not found for role");return await E(t,o,r)},onSuccess:()=>{i.invalidateQueries({queryKey:["toolmaster"]})}})};export{K as a,U as b,P as c,q as d,Q as e,T as f,k as g,v as h,F as u};
