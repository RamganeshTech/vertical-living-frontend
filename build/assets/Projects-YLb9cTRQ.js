import{u as I,r as T,q as N,j as s,O as f}from"./index-CKvTvGhg.js";import{M as m,S as j}from"./MobileSidebar-PHbdu05y.js";import{S as n,a as A}from"./constants-CP15s2Qq.js";import"./CTOApi-Bth-s1Uw.js";import"./clientApi-BBS7GTS3.js";import"./staffApi-DLtR5s2d.js";import"./userApi-CfejnohI.js";import"./workerApi-IZksYTQJ.js";import"./stageSelectionApi-BBVgbl7v.js";const w=({projectId:d,setProjectId:p})=>{const{organizationId:e}=I(),[l,S]=T.useState(!1),[F,E]=T.useState(window.innerWidth<470),{role:t}=N(),r={PROJECTS:`/organizations/${e}/projects`,ORGANIZATION:`/organizations/${e}/invitecto`,SHORTLIST:`/organizations/${e}/projects/shortlistdesign`,COMMONORDER:`/organizations/${e}/projects/commonorder`,HR:`/organizations/${e}/projects/hr`,LOGISTICS:`/organizations/${e}/projects/logistics`,PROCUREMENT:`/organizations/${e}/projects/procurement`,ACCOUNTING:`/organizations/${e}/projects/accounting`,RATECONIG:`/organizations/${e}/projects/rateconfig`,INTERNALQUOTE:`/organizations/${e}/projects/internalquote`,QUOTEVARIENT:`/organizations/${e}/projects/quotevariant`,STAFFTASK:`/organizations/${e}/projects/stafftask`,SINGLESTAFFTASK:`/organizations/${e}/projects/associatedstafftask`};let o={...n},i={...A},a={...r};return delete o.STAFFTASK,delete i.STAFFTASK,delete a.STAFFTASK,delete o.SINGLESTAFFTASK,delete i.SINGLESTAFFTASK,delete a.SINGLESTAFFTASK,(t==null?void 0:t.toLowerCase())==="owner"||(t==null?void 0:t.toLowerCase())==="cto"?(o.STAFFTASK=n.STAFFTASK,i.STAFFTASK=A.STAFFTASK,a.STAFFTASK=r.STAFFTASK):(t==null?void 0:t.toLowerCase())==="staff"&&(o.SINGLESTAFFTASK=n.SINGLESTAFFTASK,i.SINGLESTAFFTASK=A.SINGLESTAFFTASK,a.SINGLESTAFFTASK=r.SINGLESTAFFTASK),T.useEffect(()=>{const c=()=>{E(window.innerWidth<470)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex w-full h-full",children:[F?s.jsx(m,{labels:n,path:r,isOpen:l,onClose:()=>S(!1)}):s.jsx(j,{path:a,labels:o,icons:i}),s.jsx("main",{className:"!w-[100%] h-full p-4",children:s.jsx(f,{context:{projectId:d,setProjectId:p,organizationId:e,isMobile:F,isMobileSidebarOpen:l,openMobileSidebar:()=>S(!0),closeMobileSidebar:()=>S(!1)}})})]})})};export{w as default};
