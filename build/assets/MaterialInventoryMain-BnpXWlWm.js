import{j as r,r as s,g as Jt,u as ea,a as ta,O as aa}from"./index-e25x2Bps.js";import{C as ra,a as na,b as la,c as sa,d as oa}from"./Card-aggf0goj.js";import{I as We}from"./Input-Rsb-PiAm.js";import{B as $e}from"./Button-KF95J_5e.js";import{B as kt}from"./Badge-BaL8rOUG.js";import{t as ve}from"./toast-BSC5QTk1.js";import{u as ia,a as ca,b as ua,c as da}from"./materialInventoryApi-EKQ8Djsd.js";import{t as it}from"./dateFormator-BGKi5rfZ.js";import fa from"./MaterialOverviewLoading-DKNIRPAu.js";import{u as va}from"./projectApi-BbvOkph3.js";import{u as ma,a as ga,b as ha,c as ba}from"./MaterialInventoryCartApi-ClWCpvxB.js";import{r as xa}from"./index-KfBiuFmZ.js";import{S as ya}from"./SearchSelectNew-H9koZAAS.js";import"./roleCheck-Do9EccPs.js";import"./useQuery-CvvWn2i9.js";import"./useMutation-D72r7dXD.js";import"./useInfiniteQuery-KHE7Ttgg.js";import"./Skeleton-xyLoHk1A.js";const Pt={primary:"text-blue-400",danger:"text-red-400",success:"text-green-400",warning:"text-yellow-400",gray:"text-gray-400"},Dt={envelope:"fas fa-envelope",box:"fas fa-box-open",message:"fas fa-comment-dots",chat:"fas fa-comments",warning:"fas fa-exclamation-triangle"},Sa=({message:e,icon:a="box",customIconClass:n,color:l="gray"})=>{const i=`${a==="custom"?n||"fas fa-question-circle":Dt[a]||Dt.box} text-7xl mb-4 ${Pt[l]||Pt.gray}`;return r.jsxs("div",{className:"w-full flex flex-col justify-center items-center py-12 px-4 text-center",children:[r.jsx("i",{className:i}),r.jsx("p",{className:"text-lg text-gray-600",children:e})]})},yt=(e,a)=>{const[n,l]=s.useState(e);return s.useEffect(()=>{const o=setTimeout(()=>{l(e)},a);return()=>{clearTimeout(o)}}),n},ct={brand:[{value:"",label:"All Brand"},{value:"jaquar",label:"Jaquar"}],categories:[{value:"",label:"All Categories"},{value:"light",label:"Light"},{value:"socket",label:"Socket"},{value:"switches",label:"Switch"},{value:"regulator",label:"Regulators"}],subcategories:[{value:"",label:"All Subcategories"},{value:"Downlights",label:"Downlights"},{value:"COB Downlights",label:"COB Downlights"},{value:"Designer Lights",label:"Designer Lights"},{value:"Panels",label:"Panels"},{value:"Battens-Tubes",label:"Battens-Tubes"},{value:"Magnetic Lights",label:"Magnetic Lights"},{value:"Retail Lights",label:"Retail Lights"},{value:"Industrial Lights",label:"Industrial Lights"}],types:[{value:"",label:"All Types"},{value:"socket",label:"socket"},{value:"card-switch",label:"card-switch"},{value:"computer-socket",label:"computer-socket"},{value:"dimmer-switch",label:"dimmer-switch"},{value:"doorbell",label:"doorbell"},{value:"motion-sensor-switch",label:"motion-sensor-switch"},{value:"notify-switch",label:"notify-switch"},{value:"regulator",label:"regulator"},{value:"switch",label:"switch"},{value:"telephone-socket",label:"telephone-socket"},{value:"television-computer-socket",label:"television-computer-socket"},{value:"television-socket",label:"television-socket"},{value:"television-telephone-socket",label:"television-telephone-socket"}],models:[{value:"",label:"All Models"},{value:"ENSAVE PLUS",label:"ENSAVE PLUS"},{value:"AREVA PRIME",label:"AREVA PRIME"},{value:"NERO SURFACE",label:"NERO SURFACE"},{value:"LUCENT",label:"LUCENT"},{value:"LUCENT SQUARE",label:"LUCENT SQUARE"},{value:"2 IN 1 STANDALONE",label:"2 IN 1 STANDALONE"},{value:"ERIS FIXED (LOW BORDER DEEP RECESSED)",label:"ERIS FIXED (LOW BORDER DEEP RECESSED)"},{value:"ESTUS SWIVEL",label:"ESTUS SWIVEL"},{value:"ERIS SWIVEL",label:"ERIS SWIVEL"},{value:"ERIS REFLECTO",label:"ERIS REFLECTO"},{value:"ERIS FIXED",label:"ERIS FIXED"},{value:"EMINA",label:"EMINA"},{value:"EMINA TILTABLE",label:"EMINA TILTABLE"},{value:"DIMAS",label:"DIMAS"},{value:"GLIDE",label:"GLIDE"},{value:"ERIS SURFACE ROUND",label:"ERIS SURFACE ROUND"},{value:"EPITO",label:"EPITO"},{value:"EMPHA",label:"EMPHA"},{value:"RENE",label:"RENE"},{value:"CYNO",label:"CYNO"},{value:"ULTIMA SLIM",label:"ULTIMA SLIM"},{value:"ACCESSORIES FOR ULTIMA SLIM",label:"ACCESSORIES FOR ULTIMA SLIM"},{value:"ULTIMA ULTRA SLIM 1x4",label:"ULTIMA ULTRA SLIM 1x4"},{value:"ULTIMA ULTRA SLIM 1x1",label:"ULTIMA ULTRA SLIM 1x1"},{value:"ULTIMA ULTRA PRO (2x2)",label:"ULTIMA ULTRA PRO (2x2)"},{value:"ULTIMA MULTI-COLOUR",label:"ULTIMA MULTI-COLOUR"},{value:"GLAZE",label:"GLAZE"},{value:"GLAZE ULTRA ALUMINIUM",label:"GLAZE ULTRA ALUMINIUM"},{value:"KUBIK SMART",label:"KUBIK SMART"},{value:"KUBIK ULTRA",label:"KUBIK ULTRA"},{value:"T8 RETRO",label:"T8 RETRO"},{value:"T8 RETRO ACCESSSORIES",label:"T8 RETRO ACCESSSORIES"},{value:"PRIDE",label:"PRIDE"},{value:"ORELLI SLIM",label:"ORELLI SLIM"},{value:"ORELLI SLIM HANGING",label:"ORELLI SLIM HANGING"},{value:"INSTARAY SLIM LINEAR WITH LENS",label:"INSTARAY SLIM LINEAR WITH LENS"},{value:"INSTARAY SLIM LINEAR",label:"INSTARAY SLIM LINEAR"},{value:"INSTARAY ROUND SLIM",label:"INSTARAY ROUND SLIM"},{value:"INSTARAY SLIM LINEAR DIFFUSED",label:"INSTARAY SLIM LINEAR DIFFUSED"},{value:"INSTARAY SLIM TILTABLE & DIFFUSED",label:"INSTARAY SLIM TILTABLE & DIFFUSED"},{value:"MAGNETIC TRACK LIGHT ACCESSORIES",label:"MAGNETIC TRACK LIGHT ACCESSORIES"},{value:"MULTIBLE ZOOM LIGHT",label:"MULTIBLE ZOOM LIGHT"},{value:"TRACK LIGHT WHITE",label:"TRACK LIGHT WHITE"},{value:"TRACK LIGHT BLACK",label:"TRACK LIGHT BLACK"},{value:"TRACK LIGHT ACCESSORIES",label:"TRACK LIGHT ACCESSORIES"},{value:"IP20 STRIP LIGHT (24V DC)",label:"IP20 STRIP LIGHT (24V DC)"},{value:"IP65 STRIP LIGHT (24V DC)",label:"IP65 STRIP LIGHT (24V DC)"},{value:"COB STRIP LIGHT",label:"COB STRIP LIGHT"},{value:"POWER SUPPLY FOR IP20 STRIP LIGHT",label:"POWER SUPPLY FOR IP20 STRIP LIGHT"},{value:"POWER SUPPLY FOR IP65 STRIP LIGHT",label:"POWER SUPPLY FOR IP65 STRIP LIGHT"},{value:"BULK HEAD",label:"BULK HEAD"},{value:"PIT LIGHT",label:"PIT LIGHT"},{value:"WELL GLASS",label:"WELL GLASS"},{value:"HIGHBAY (>100 Lm/W)",label:"HIGHBAY (>100 Lm/W)"},{value:"ULTRALITE HIGHBAY (>130 Lm/W)",label:"ULTRALITE HIGHBAY (>130 Lm/W)"}]};function Ye(e){"@babel/helpers - typeof";return Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ye(e)}function pa(e,a){if(Ye(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var l=n.call(e,a);if(Ye(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ca(e){var a=pa(e,"string");return Ye(a)=="symbol"?a:a+""}function ye(e,a,n){return(a=Ca(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Ut(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,l)}return n}function re(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?Ut(Object(n),!0).forEach(function(l){ye(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function Ct(e,a){(a==null||a>e.length)&&(a=e.length);for(var n=0,l=Array(a);n<a;n++)l[n]=e[n];return l}function Ea(e){if(Array.isArray(e))return Ct(e)}function Ia(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yt(e,a){if(e){if(typeof e=="string")return Ct(e,a);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,a):void 0}}function Na(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(e){return Ea(e)||Ia(e)||Yt(e)||Na()}function ja(e){if(Array.isArray(e))return e}function Ra(e,a){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var l,o,i,c,f=[],x=!0,m=!1;try{if(i=(n=n.call(e)).next,a===0){if(Object(n)!==n)return;x=!1}else for(;!(x=(l=i.call(n)).done)&&(f.push(l.value),f.length!==a);x=!0);}catch(h){m=!0,o=h}finally{try{if(!x&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw o}}return f}}function La(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function te(e,a){return ja(e)||Ra(e,a)||Yt(e,a)||La()}var St={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ft;function Ma(){return Ft||(Ft=1,function(e){(function(){var a={}.hasOwnProperty;function n(){for(var i="",c=0;c<arguments.length;c++){var f=arguments[c];f&&(i=o(i,l(f)))}return i}function l(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var c="";for(var f in i)a.call(i,f)&&i[f]&&(c=o(c,f));return c}function o(i,c){return c?i?i+" "+c:i+c:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(St)),St.exports}var Aa=Ma();const Xe=Jt(Aa);function tt(e){var a=s.useRef();a.current=e;var n=s.useCallback(function(){for(var l,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(l=a.current)===null||l===void 0?void 0:l.call.apply(l,[a].concat(i))},[]);return n}function Ta(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ht=Ta()?s.useLayoutEffect:s.useEffect,Kt=function(a,n){var l=s.useRef(!0);Ht(function(){return a(l.current)},n),Ht(function(){return l.current=!1,function(){l.current=!0}},[])},_t=function(a,n){Kt(function(l){if(!l)return a()},n)};function Gt(e){var a=s.useRef(!1),n=s.useState(e),l=te(n,2),o=l[0],i=l[1];s.useEffect(function(){return a.current=!1,function(){a.current=!0}},[]);function c(f,x){x&&a.current||i(f)}return[o,c]}function pt(e){return e!==void 0}function wa(e,a){var n=a||{},l=n.defaultValue,o=n.value,i=n.onChange,c=n.postState,f=Gt(function(){return pt(o)?o:pt(l)?typeof l=="function"?l():l:typeof e=="function"?e():e}),x=te(f,2),m=x[0],h=x[1],N=o!==void 0?o:m,j=c?c(N):N,y=tt(i),E=Gt([N]),b=te(E,2),v=b[0],g=b[1];_t(function(){var S=v[0];m!==S&&y(m,S)},[v]),_t(function(){pt(o)||h(o)},[o]);var u=tt(function(S,L){h(S,L),g([N],L)});return[j,u]}var Et={},Oa=function(a){};function ka(e,a){}function Pa(e,a){}function Da(){Et={}}function Vt(e,a,n){!a&&!Et[n]&&(e(!1,n),Et[n]=!0)}function at(e,a){Vt(ka,e,a)}function Ua(e,a){Vt(Pa,e,a)}at.preMessage=Oa;at.resetWarned=Da;at.noteOnce=Ua;function Fa(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=new Set;function o(i,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=l.has(i);if(at(!x,"Warning: There may be circular references"),x)return!1;if(i===c)return!0;if(n&&f>1)return!1;l.add(i);var m=f+1;if(Array.isArray(i)){if(!Array.isArray(c)||i.length!==c.length)return!1;for(var h=0;h<i.length;h++)if(!o(i[h],c[h],m))return!1;return!0}if(i&&c&&Ye(i)==="object"&&Ye(c)==="object"){var N=Object.keys(i);return N.length!==Object.keys(c).length?!1:N.every(function(j){return o(i[j],c[j],m)})}return!1}return o(e,a)}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ut.apply(null,arguments)}function Ha(e,a){if(e==null)return{};var n={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(a.indexOf(l)!==-1)continue;n[l]=e[l]}return n}function qt(e,a){if(e==null)return{};var n,l,o=Ha(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function It(e,a,n){return(e-a)/(n-a)}function Nt(e,a,n,l){var o=It(a,n,l),i={};switch(e){case"rtl":i.right="".concat(o*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(o*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(o*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(o*100,"%"),i.transform="translateX(-50%)";break}return i}function qe(e,a){return Array.isArray(e)?e[a]:e}var J={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ze=s.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),_a=s.createContext({}),Ga=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Bt=s.forwardRef(function(e,a){var n=e.prefixCls,l=e.value,o=e.valueIndex,i=e.onStartMove,c=e.onDelete,f=e.style,x=e.render,m=e.dragging,h=e.draggingDelete,N=e.onOffsetChange,j=e.onChangeComplete,y=e.onFocus,E=e.onMouseEnter,b=qt(e,Ga),v=s.useContext(ze),g=v.min,u=v.max,S=v.direction,L=v.disabled,w=v.keyboard,H=v.range,X=v.tabIndex,$=v.ariaLabelForHandle,O=v.ariaLabelledByForHandle,M=v.ariaRequired,I=v.ariaValueTextFormatterForHandle,R=v.styles,W=v.classNames,K="".concat(n,"-handle"),G=function(P){L||i(P,o)},z=function(P){y==null||y(P,o)},U=function(P){E(P,o)},ce=function(P){if(!L&&w){var A=null;switch(P.which||P.keyCode){case J.LEFT:A=S==="ltr"||S==="btt"?-1:1;break;case J.RIGHT:A=S==="ltr"||S==="btt"?1:-1;break;case J.UP:A=S!=="ttb"?1:-1;break;case J.DOWN:A=S!=="ttb"?-1:1;break;case J.HOME:A="min";break;case J.END:A="max";break;case J.PAGE_UP:A=2;break;case J.PAGE_DOWN:A=-2;break;case J.BACKSPACE:case J.DELETE:c==null||c(o);break}A!==null&&(P.preventDefault(),N(A,o))}},Se=function(P){switch(P.which||P.keyCode){case J.LEFT:case J.RIGHT:case J.UP:case J.DOWN:case J.HOME:case J.END:case J.PAGE_UP:case J.PAGE_DOWN:j==null||j();break}},V=Nt(S,l,g,u),me={};if(o!==null){var Ne;me={tabIndex:L?null:qe(X,o),role:"slider","aria-valuemin":g,"aria-valuemax":u,"aria-valuenow":l,"aria-disabled":L,"aria-label":qe($,o),"aria-labelledby":qe(O,o),"aria-required":qe(M,o),"aria-valuetext":(Ne=qe(I,o))===null||Ne===void 0?void 0:Ne(l),"aria-orientation":S==="ltr"||S==="rtl"?"horizontal":"vertical",onMouseDown:G,onTouchStart:G,onFocus:z,onMouseEnter:U,onKeyDown:ce,onKeyUp:Se}}var je=s.createElement("div",ut({ref:a,className:Xe(K,ye(ye(ye({},"".concat(K,"-").concat(o+1),o!==null&&H),"".concat(K,"-dragging"),m),"".concat(K,"-dragging-delete"),h),W.handle),style:re(re(re({},V),f),R.handle)},me,b));return x&&(je=x(je,{index:o,prefixCls:n,value:l,dragging:m,draggingDelete:h})),je}),Ba=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],$a=s.forwardRef(function(e,a){var n=e.prefixCls,l=e.style,o=e.onStartMove,i=e.onOffsetChange,c=e.values,f=e.handleRender,x=e.activeHandleRender,m=e.draggingIndex,h=e.draggingDelete,N=e.onFocus,j=qt(e,Ba),y=s.useRef({}),E=s.useState(!1),b=te(E,2),v=b[0],g=b[1],u=s.useState(-1),S=te(u,2),L=S[0],w=S[1],H=function(I){w(I),g(!0)},X=function(I,R){H(R),N==null||N(I)},$=function(I,R){H(R)};s.useImperativeHandle(a,function(){return{focus:function(I){var R;(R=y.current[I])===null||R===void 0||R.focus()},hideHelp:function(){xa.flushSync(function(){g(!1)})}}});var O=re({prefixCls:n,onStartMove:o,onOffsetChange:i,render:f,onFocus:X,onMouseEnter:$},j);return s.createElement(s.Fragment,null,c.map(function(M,I){var R=m===I;return s.createElement(Bt,ut({ref:function(K){K?y.current[I]=K:delete y.current[I]},dragging:R,draggingDelete:R&&h,style:qe(l,I),key:I,value:M,valueIndex:I},O))}),x&&v&&s.createElement(Bt,ut({key:"a11y"},O,{value:c[L],valueIndex:null,dragging:m!==-1,draggingDelete:h,render:x,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Wa=function(a){var n=a.prefixCls,l=a.style,o=a.children,i=a.value,c=a.onClick,f=s.useContext(ze),x=f.min,m=f.max,h=f.direction,N=f.includedStart,j=f.includedEnd,y=f.included,E="".concat(n,"-text"),b=Nt(h,i,x,m);return s.createElement("span",{className:Xe(E,ye({},"".concat(E,"-active"),y&&N<=i&&i<=j)),style:re(re({},b),l),onMouseDown:function(g){g.stopPropagation()},onClick:function(){c(i)}},o)},Ya=function(a){var n=a.prefixCls,l=a.marks,o=a.onClick,i="".concat(n,"-mark");return l.length?s.createElement("div",{className:i},l.map(function(c){var f=c.value,x=c.style,m=c.label;return s.createElement(Wa,{key:f,prefixCls:i,style:x,value:f,onClick:o},m)})):null},Ka=function(a){var n=a.prefixCls,l=a.value,o=a.style,i=a.activeStyle,c=s.useContext(ze),f=c.min,x=c.max,m=c.direction,h=c.included,N=c.includedStart,j=c.includedEnd,y="".concat(n,"-dot"),E=h&&N<=l&&l<=j,b=re(re({},Nt(m,l,f,x)),typeof o=="function"?o(l):o);return E&&(b=re(re({},b),typeof i=="function"?i(l):i)),s.createElement("span",{className:Xe(y,ye({},"".concat(y,"-active"),E)),style:b})},Va=function(a){var n=a.prefixCls,l=a.marks,o=a.dots,i=a.style,c=a.activeStyle,f=s.useContext(ze),x=f.min,m=f.max,h=f.step,N=s.useMemo(function(){var j=new Set;if(l.forEach(function(E){j.add(E.value)}),o&&h!==null)for(var y=x;y<=m;)j.add(y),y+=h;return Array.from(j)},[x,m,h,o,l]);return s.createElement("div",{className:"".concat(n,"-step")},N.map(function(j){return s.createElement(Ka,{prefixCls:n,key:j,value:j,style:i,activeStyle:c})}))},$t=function(a){var n=a.prefixCls,l=a.style,o=a.start,i=a.end,c=a.index,f=a.onStartMove,x=a.replaceCls,m=s.useContext(ze),h=m.direction,N=m.min,j=m.max,y=m.disabled,E=m.range,b=m.classNames,v="".concat(n,"-track"),g=It(o,N,j),u=It(i,N,j),S=function(X){!y&&f&&f(X,-1)},L={};switch(h){case"rtl":L.right="".concat(g*100,"%"),L.width="".concat(u*100-g*100,"%");break;case"btt":L.bottom="".concat(g*100,"%"),L.height="".concat(u*100-g*100,"%");break;case"ttb":L.top="".concat(g*100,"%"),L.height="".concat(u*100-g*100,"%");break;default:L.left="".concat(g*100,"%"),L.width="".concat(u*100-g*100,"%")}var w=x||Xe(v,ye(ye({},"".concat(v,"-").concat(c+1),c!==null&&E),"".concat(n,"-track-draggable"),f),b.track);return s.createElement("div",{className:w,style:re(re({},L),l),onMouseDown:S,onTouchStart:S})},qa=function(a){var n=a.prefixCls,l=a.style,o=a.values,i=a.startPoint,c=a.onStartMove,f=s.useContext(ze),x=f.included,m=f.range,h=f.min,N=f.styles,j=f.classNames,y=s.useMemo(function(){if(!m){if(o.length===0)return[];var b=i??h,v=o[0];return[{start:Math.min(b,v),end:Math.max(b,v)}]}for(var g=[],u=0;u<o.length-1;u+=1)g.push({start:o[u],end:o[u+1]});return g},[o,m,i,h]);if(!x)return null;var E=y!=null&&y.length&&(j.tracks||N.tracks)?s.createElement($t,{index:null,prefixCls:n,start:y[0].start,end:y[y.length-1].end,replaceCls:Xe(j.tracks,"".concat(n,"-tracks")),style:N.tracks}):null;return s.createElement(s.Fragment,null,E,y.map(function(b,v){var g=b.start,u=b.end;return s.createElement($t,{index:v,prefixCls:n,style:re(re({},qe(l,v)),N.track),start:g,end:u,key:v,onStartMove:c})}))},Xa=130;function Wt(e){var a="targetTouches"in e?e.targetTouches[0]:e;return{pageX:a.pageX,pageY:a.pageY}}function za(e,a,n,l,o,i,c,f,x,m,h){var N=s.useState(null),j=te(N,2),y=j[0],E=j[1],b=s.useState(-1),v=te(b,2),g=v[0],u=v[1],S=s.useState(!1),L=te(S,2),w=L[0],H=L[1],X=s.useState(n),$=te(X,2),O=$[0],M=$[1],I=s.useState(n),R=te(I,2),W=R[0],K=R[1],G=s.useRef(null),z=s.useRef(null),U=s.useRef(null),ce=s.useContext(_a),Se=ce.onDragStart,V=ce.onDragChange;Kt(function(){g===-1&&M(n)},[n,g]),s.useEffect(function(){return function(){document.removeEventListener("mousemove",G.current),document.removeEventListener("mouseup",z.current),U.current&&(U.current.removeEventListener("touchmove",G.current),U.current.removeEventListener("touchend",z.current))}},[]);var me=function(A,B,q){B!==void 0&&E(B),M(A);var ne=A;q&&(ne=A.filter(function(Y,ae){return ae!==g})),c(ne),V&&V({rawValues:A,deleteIndex:q?g:-1,draggingIndex:g,draggingValue:B})},Ne=tt(function(P,A,B){if(P===-1){var q=W[0],ne=W[W.length-1],Y=l-q,ae=o-ne,ee=A*(o-l);ee=Math.max(ee,Y),ee=Math.min(ee,ae);var Fe=i(q+ee);ee=Fe-q;var Ce=W.map(function(de){return de+ee});me(Ce)}else{var ue=(o-l)*A,ge=Ue(O);ge[P]=W[P];var he=x(ge,ue,P,"dist");me(he.values,he.value,B)}}),je=function(A,B,q){A.stopPropagation();var ne=q||n,Y=ne[B];u(B),E(Y),K(ne),M(ne),H(!1);var ae=Wt(A),ee=ae.pageX,Fe=ae.pageY,Ce=!1;Se&&Se({rawValues:ne,draggingIndex:B,draggingValue:Y});var ue=function(de){de.preventDefault();var oe=Wt(de),Me=oe.pageX,Ae=oe.pageY,Te=Me-ee,be=Ae-Fe,fe=e.current.getBoundingClientRect(),we=fe.width,He=fe.height,Re,Ee;switch(a){case"btt":Re=-be/He,Ee=Te;break;case"ttb":Re=be/He,Ee=Te;break;case"rtl":Re=-Te/we,Ee=be;break;default:Re=Te/we,Ee=be}Ce=m?Math.abs(Ee)>Xa&&h<O.length:!1,H(Ce),Ne(B,Re,Ce)},ge=function he(de){de.preventDefault(),document.removeEventListener("mouseup",he),document.removeEventListener("mousemove",ue),U.current&&(U.current.removeEventListener("touchmove",G.current),U.current.removeEventListener("touchend",z.current)),G.current=null,z.current=null,U.current=null,f(Ce),u(-1),H(!1)};document.addEventListener("mouseup",ge),document.addEventListener("mousemove",ue),A.currentTarget.addEventListener("touchend",ge),A.currentTarget.addEventListener("touchmove",ue),G.current=ue,z.current=ge,U.current=A.currentTarget},pe=s.useMemo(function(){var P=Ue(n).sort(function(Y,ae){return Y-ae}),A=Ue(O).sort(function(Y,ae){return Y-ae}),B={};A.forEach(function(Y){B[Y]=(B[Y]||0)+1}),P.forEach(function(Y){B[Y]=(B[Y]||0)-1});var q=m?1:0,ne=Object.values(B).reduce(function(Y,ae){return Y+Math.abs(ae)},0);return ne<=q?O:n},[n,O,m]);return[g,y,w,pe,je]}function Qa(e,a,n,l,o,i){var c=s.useCallback(function(y){return Math.max(e,Math.min(a,y))},[e,a]),f=s.useCallback(function(y){if(n!==null){var E=e+Math.round((c(y)-e)/n)*n,b=function(S){return(String(S).split(".")[1]||"").length},v=Math.max(b(n),b(a),b(e)),g=Number(E.toFixed(v));return e<=g&&g<=a?g:null}return null},[n,e,a,c]),x=s.useCallback(function(y){var E=c(y),b=l.map(function(u){return u.value});n!==null&&b.push(f(y)),b.push(e,a);var v=b[0],g=a-e;return b.forEach(function(u){var S=Math.abs(E-u);S<=g&&(v=u,g=S)}),v},[e,a,l,n,c,f]),m=function y(E,b,v){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof b=="number"){var u,S=E[v],L=S+b,w=[];l.forEach(function(M){w.push(M.value)}),w.push(e,a),w.push(f(S));var H=b>0?1:-1;g==="unit"?w.push(f(S+H*n)):w.push(f(L)),w=w.filter(function(M){return M!==null}).filter(function(M){return b<0?M<=S:M>=S}),g==="unit"&&(w=w.filter(function(M){return M!==S}));var X=g==="unit"?S:L;u=w[0];var $=Math.abs(u-X);if(w.forEach(function(M){var I=Math.abs(M-X);I<$&&(u=M,$=I)}),u===void 0)return b<0?e:a;if(g==="dist")return u;if(Math.abs(b)>1){var O=Ue(E);return O[v]=u,y(O,b-H,v,g)}return u}else{if(b==="min")return e;if(b==="max")return a}},h=function(E,b,v){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",u=E[v],S=m(E,b,v,g);return{value:S,changed:S!==u}},N=function(E){return i===null&&E===0||typeof i=="number"&&E<i},j=function(E,b,v){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",u=E.map(x),S=u[v],L=m(u,b,v,g);if(u[v]=L,o===!1){var w=i||0;v>0&&u[v-1]!==S&&(u[v]=Math.max(u[v],u[v-1]+w)),v<u.length-1&&u[v+1]!==S&&(u[v]=Math.min(u[v],u[v+1]-w))}else if(typeof i=="number"||i===null){for(var H=v+1;H<u.length;H+=1)for(var X=!0;N(u[H]-u[H-1])&&X;){var $=h(u,1,H);u[H]=$.value,X=$.changed}for(var O=v;O>0;O-=1)for(var M=!0;N(u[O]-u[O-1])&&M;){var I=h(u,-1,O-1);u[O-1]=I.value,M=I.changed}for(var R=u.length-1;R>0;R-=1)for(var W=!0;N(u[R]-u[R-1])&&W;){var K=h(u,-1,R-1);u[R-1]=K.value,W=K.changed}for(var G=0;G<u.length-1;G+=1)for(var z=!0;N(u[G+1]-u[G])&&z;){var U=h(u,1,G+1);u[G+1]=U.value,z=U.changed}}return{value:u[v],values:u}};return[x,j]}function Za(e){return s.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var a=e.editable,n=e.draggableTrack,l=e.minCount,o=e.maxCount;return[!0,a,!a&&n,l||0,o]},[e])}var Ja=s.forwardRef(function(e,a){var n=e.prefixCls,l=n===void 0?"rc-slider":n,o=e.className,i=e.style,c=e.classNames,f=e.styles,x=e.id,m=e.disabled,h=m===void 0?!1:m,N=e.keyboard,j=N===void 0?!0:N,y=e.autoFocus,E=e.onFocus,b=e.onBlur,v=e.min,g=v===void 0?0:v,u=e.max,S=u===void 0?100:u,L=e.step,w=L===void 0?1:L,H=e.value,X=e.defaultValue,$=e.range,O=e.count,M=e.onChange,I=e.onBeforeChange,R=e.onAfterChange,W=e.onChangeComplete,K=e.allowCross,G=K===void 0?!0:K,z=e.pushable,U=z===void 0?!1:z,ce=e.reverse,Se=e.vertical,V=e.included,me=V===void 0?!0:V,Ne=e.startPoint,je=e.trackStyle,pe=e.handleStyle,P=e.railStyle,A=e.dotStyle,B=e.activeDotStyle,q=e.marks,ne=e.dots,Y=e.handleRender,ae=e.activeHandleRender,ee=e.track,Fe=e.tabIndex,Ce=Fe===void 0?0:Fe,ue=e.ariaLabelForHandle,ge=e.ariaLabelledByForHandle,he=e.ariaRequired,de=e.ariaValueTextFormatterForHandle,oe=s.useRef(null),Me=s.useRef(null),Ae=s.useMemo(function(){return Se?ce?"ttb":"btt":ce?"rtl":"ltr"},[ce,Se]),Te=Za($),be=te(Te,5),fe=be[0],we=be[1],He=be[2],Re=be[3],Ee=be[4],ie=s.useMemo(function(){return isFinite(g)?g:0},[g]),_e=s.useMemo(function(){return isFinite(S)?S:100},[S]),Oe=s.useMemo(function(){return w!==null&&w<=0?1:w},[w]),Qe=s.useMemo(function(){return typeof U=="boolean"?U?Oe:!1:U>=0?U:!1},[U,Oe]),Ze=s.useMemo(function(){return Object.keys(q||{}).map(function(k){var p=q[k],D={value:Number(k)};return p&&Ye(p)==="object"&&!s.isValidElement(p)&&("label"in p||"style"in p)?(D.style=p.style,D.label=p.label):D.label=p,D}).filter(function(k){var p=k.label;return p||typeof p=="number"}).sort(function(k,p){return k.value-p.value})},[q]),jt=Qa(ie,_e,Oe,Ze,G,Qe),dt=te(jt,2),Ke=dt[0],rt=dt[1],ft=wa(X,{value:H}),nt=te(ft,2),Ie=nt[0],vt=nt[1],t=s.useMemo(function(){var k=Ie==null?[]:Array.isArray(Ie)?Ie:[Ie],p=te(k,1),D=p[0],_=D===void 0?ie:D,Z=Ie===null?[]:[_];if(fe){if(Z=Ue(k),O||Ie===void 0){var Ge=O>=0?O+1:2;for(Z=Z.slice(0,Ge);Z.length<Ge;){var ke;Z.push((ke=Z[Z.length-1])!==null&&ke!==void 0?ke:ie)}}Z.sort(function(Pe,De){return Pe-De})}return Z.forEach(function(Pe,De){Z[De]=Ke(Pe)}),Z},[Ie,fe,ie,O,Ke]),d=function(p){return fe?p:p[0]},C=tt(function(k){var p=Ue(k).sort(function(D,_){return D-_});M&&!Fa(p,t,!0)&&M(d(p)),vt(p)}),T=tt(function(k){k&&oe.current.hideHelp();var p=d(t);R==null||R(p),at(!R,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),W==null||W(p)}),Q=function(p){if(!(h||!we||t.length<=Re)){var D=Ue(t);D.splice(p,1),I==null||I(d(D)),C(D);var _=Math.max(0,p-1);oe.current.hideHelp(),oe.current.focus(_)}},le=za(Me,Ae,t,ie,_e,Ke,C,T,rt,we,Re),F=te(le,5),xe=F[0],Le=F[1],mt=F[2],Je=F[3],lt=F[4],st=function(p,D){if(!h){var _=Ue(t),Z=0,Ge=0,ke=_e-ie;t.forEach(function(Be,bt){var Ot=Math.abs(p-Be);Ot<=ke&&(ke=Ot,Z=bt),Be<p&&(Ge=bt)});var Pe=Z;we&&ke!==0&&(!Ee||t.length<Ee)?(_.splice(Ge+1,0,p),Pe=Ge+1):_[Z]=p,fe&&!t.length&&O===void 0&&_.push(p);var De=d(_);if(I==null||I(De),C(_),D){var Ve,et;(Ve=document.activeElement)===null||Ve===void 0||(et=Ve.blur)===null||et===void 0||et.call(Ve),oe.current.focus(Pe),lt(D,Pe,_)}else R==null||R(De),at(!R,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),W==null||W(De)}},gt=function(p){p.preventDefault();var D=Me.current.getBoundingClientRect(),_=D.width,Z=D.height,Ge=D.left,ke=D.top,Pe=D.bottom,De=D.right,Ve=p.clientX,et=p.clientY,Be;switch(Ae){case"btt":Be=(Pe-et)/Z;break;case"ttb":Be=(et-ke)/Z;break;case"rtl":Be=(De-Ve)/_;break;default:Be=(Ve-Ge)/_}var bt=ie+Be*(_e-ie);st(Ke(bt),p)},ht=s.useState(null),se=te(ht,2),xt=se[0],Rt=se[1],Xt=function(p,D){if(!h){var _=rt(t,p,D);I==null||I(d(t)),C(_.values),Rt(_.value)}};s.useEffect(function(){if(xt!==null){var k=t.indexOf(xt);k>=0&&oe.current.focus(k)}Rt(null)},[xt]);var zt=s.useMemo(function(){return He&&Oe===null?!1:He},[He,Oe]),Lt=tt(function(k,p){lt(k,p),I==null||I(d(t))}),Mt=xe!==-1;s.useEffect(function(){if(!Mt){var k=t.lastIndexOf(Le);oe.current.focus(k)}},[Mt]);var ot=s.useMemo(function(){return Ue(Je).sort(function(k,p){return k-p})},[Je]),Qt=s.useMemo(function(){return fe?[ot[0],ot[ot.length-1]]:[ie,ot[0]]},[ot,fe,ie]),At=te(Qt,2),Tt=At[0],wt=At[1];s.useImperativeHandle(a,function(){return{focus:function(){oe.current.focus(0)},blur:function(){var p,D=document,_=D.activeElement;(p=Me.current)!==null&&p!==void 0&&p.contains(_)&&(_==null||_.blur())}}}),s.useEffect(function(){y&&oe.current.focus(0)},[]);var Zt=s.useMemo(function(){return{min:ie,max:_e,direction:Ae,disabled:h,keyboard:j,step:Oe,included:me,includedStart:Tt,includedEnd:wt,range:fe,tabIndex:Ce,ariaLabelForHandle:ue,ariaLabelledByForHandle:ge,ariaRequired:he,ariaValueTextFormatterForHandle:de,styles:f||{},classNames:c||{}}},[ie,_e,Ae,h,j,Oe,me,Tt,wt,fe,Ce,ue,ge,he,de,f,c]);return s.createElement(ze.Provider,{value:Zt},s.createElement("div",{ref:Me,className:Xe(l,o,ye(ye(ye(ye({},"".concat(l,"-disabled"),h),"".concat(l,"-vertical"),Se),"".concat(l,"-horizontal"),!Se),"".concat(l,"-with-marks"),Ze.length)),style:i,onMouseDown:gt,id:x},s.createElement("div",{className:Xe("".concat(l,"-rail"),c==null?void 0:c.rail),style:re(re({},P),f==null?void 0:f.rail)}),ee!==!1&&s.createElement(qa,{prefixCls:l,style:je,values:t,startPoint:Ne,onStartMove:zt?Lt:void 0}),s.createElement(Va,{prefixCls:l,marks:Ze,dots:ne,style:A,activeStyle:B}),s.createElement($a,{ref:oe,prefixCls:l,style:pe,values:Je,draggingIndex:xe,draggingDelete:mt,onStartMove:Lt,onOffsetChange:Xt,onFocus:E,onBlur:b,handleRender:Y,activeHandleRender:ae,onChangeComplete:T,onDelete:we?Q:void 0}),s.createElement(Ya,{prefixCls:l,marks:Ze,onClick:st})))});const yr=()=>{var Ke,rt,ft,nt,Ie,vt;const{organizationId:e}=ea(),a=ta(),[n,l]=s.useState(""),[o,i]=s.useState(""),[c,f]=s.useState(""),[x,m]=s.useState(""),[h,N]=s.useState(""),[j,y]=s.useState(""),[E,b]=s.useState(""),[v,g]=s.useState(""),[u,S]=s.useState("0"),[L,w]=s.useState("100000"),[H,X]=s.useState(!1),[$,O]=s.useState(null),[M,I]=s.useState(null),[R,W]=s.useState(""),K=yt(n,500),G=yt(u,800),z=yt(L,800),{data:U}=va(e),ce=U==null?void 0:U.map(t=>({_id:t._id,projectName:t.projectName})),Se=(Ke=U||[])==null?void 0:Ke.map(t=>({value:t._id,label:t.projectName}));s.useEffect(()=>{ce&&ce.length>0&&!R&&W(ce[0]._id)},[ce,R]);const{data:V,refetch:me}=ma({organizationId:e,projectId:R}),Ne=ga(),je=ha(),pe=ba();s.useEffect(()=>{f(""),m("")},[o]);const P=o&&o.toLowerCase()==="light",A=o&&["switches","socket"].includes(o.toLowerCase()),B=o&&o.toLowerCase()==="regulator",q=!o||o==="",ne=A,Y=P||q;s.useEffect(()=>{P?m(""):A?(f(""),y("")):B?(m(""),f(""),y("")):q&&m("")},[o]);const ae=s.useMemo(()=>{const t={search:K,category:o,minMrp:G?Number(G):void 0,maxMrp:z?Number(z):void 0,brand:h,watt:E,itemCode:v};return P||q?{...t,subcategory:c,model:j}:A?{...t,type:x}:t},[K,o,c,x,j,E,v,G,z,h,P,A,B,q]),{data:ee,isLoading:Fe,isError:Ce,error:ue,fetchNextPage:ge,hasNextPage:he,isFetchingNextPage:de,refetch:oe}=ia(e,ae),Me=ca(),Ae=ua(),Te=da(),be=t=>{var C;const d=(t==null?void 0:t.specification)||{};if(d!=null&&d.variants&&Array.isArray(d==null?void 0:d.variants)&&((C=d==null?void 0:d.variants)==null?void 0:C.length)>0){const T=d==null?void 0:d.variants[0];return{image:(T==null?void 0:T.image)||null,mrp:(T==null?void 0:T.mrp)||0,itemCode:(T==null?void 0:T.itemCode)||"",color:T.color||"",hasVariants:!0,variants:d==null?void 0:d.variants}}return{image:d.imageUrl||d.image||null,mrp:d.mrp||0,itemCode:d.itemCode||"",color:null,hasVariants:!1,variants:[]}},fe=t=>{var d,C,T,Q,le,F,xe,Le,mt,Je,lt,st,gt,ht;if((d=t==null?void 0:t.specification)!=null&&d.variants&&((T=(C=t==null?void 0:t.specification)==null?void 0:C.variants)==null?void 0:T.length)>0){const se=(Q=t==null?void 0:t.specification)==null?void 0:Q.variants[0];return{itemCode:se==null?void 0:se.itemCode,mrp:se==null?void 0:se.mrp,color:se==null?void 0:se.color,image:((le=se.images)==null?void 0:le[0])||se.image,...se,hsn:((F=t==null?void 0:t.specification)==null?void 0:F.HSN)||"",brand:((xe=t==null?void 0:t.specification)==null?void 0:xe.brand)||"",description:((Le=t==null?void 0:t.specification)==null?void 0:Le.description)||"",styleType:((mt=t==null?void 0:t.specification)==null?void 0:mt.styleType)||"",type:((Je=t==null?void 0:t.specification)==null?void 0:Je.type)||"",materialType:((lt=t==null?void 0:t.specification)==null?void 0:lt.materialType)||"",category:((st=t==null?void 0:t.specification)==null?void 0:st.category)||(t==null?void 0:t.category)||"",subcategory:((gt=t==null?void 0:t.specification)==null?void 0:gt.subcategory)||(t==null?void 0:t.subcategory)||"",model:((ht=t==null?void 0:t.specification)==null?void 0:ht.model)||t.model||""}}return t.specification},we=t=>{var d,C,T,Q,le,F;return(d=t==null?void 0:t.specification)!=null&&d.variants&&((T=(C=t==null?void 0:t.specification)==null?void 0:C.variants)==null?void 0:T.length)>0?(le=(Q=t==null?void 0:t.specification)==null?void 0:Q.variants[0])==null?void 0:le.itemCode:((F=t==null?void 0:t.specification)==null?void 0:F.itemCode)||(t==null?void 0:t.itemCode)},He=t=>{if(!(V!=null&&V.items))return 0;const d=V.items.find(C=>C.productId===t);return d?d.quantity:0},Re=async t=>{var d,C;if(!R){ve({title:"Error",description:"Please select a project first",variant:"destructive"});return}try{const T=fe(t);await Ne.mutateAsync({organizationId:e,projectId:R,productId:t._id,quantity:1,specification:T}),ve({title:"Success",description:"Item added to cart successfully"}),me()}catch(T){ve({title:"Error",description:((C=(d=T==null?void 0:T.response)==null?void 0:d.data)==null?void 0:C.message)||"Failed to add item to cart",variant:"destructive"})}},Ee=async(t,d)=>{var C,T,Q,le;if(V!=null&&V._id){if(d===0){try{await pe.mutateAsync({cartId:V._id,itemCode:t}),ve({title:"Success",description:"Item removed from cart"}),me()}catch(F){ve({title:"Error",description:((T=(C=F==null?void 0:F.response)==null?void 0:C.data)==null?void 0:T.message)||"Failed to remove item from cart",variant:"destructive"})}return}try{await je.mutateAsync({cartId:V._id,itemCode:t,quantity:d}),ve({title:"Success",description:"Cart updated successfully"}),me()}catch(F){ve({title:"Error",description:((le=(Q=F==null?void 0:F.response)==null?void 0:Q.data)==null?void 0:le.message)||"Failed to update cart",variant:"destructive"})}}},ie=async t=>{try{await Me.mutateAsync({organizationId:e,specification:t}),ve({title:"Added",description:"Material inventory added successfully"}),X(!1)}catch(d){I(d.message),ve({title:"Error",description:d.message,variant:"destructive"})}},_e=async(t,d)=>{try{await Ae.mutateAsync({id:t,specification:d}),ve({title:"Updated",description:"Material inventory updated successfully"}),O(null)}catch(C){I(C.message),ve({title:"Error",description:C.message,variant:"destructive"})}},Oe=async t=>{try{await Te.mutateAsync({id:t}),ve({title:"Deleted",description:"Material inventory deleted"})}catch(d){I(d.message),ve({title:"Error",description:d.message,variant:"destructive"})}},Qe=s.useRef(null);s.useEffect(()=>{const t=()=>{if(console.log("has next page",he),!Qe.current||de||!he)return;const C=Qe.current,{scrollTop:T,scrollHeight:Q,clientHeight:le}=C;Q>le+50&&T+le>=Q-300&&(console.log("Fetching next page..."),ge())},d=Qe.current;if(d)return d.addEventListener("scroll",t),()=>d.removeEventListener("scroll",t)},[ge,de,he]);const Ze=n!==K||u!==G||L!==z;if(location.pathname.includes("single")||location.pathname.includes("cart"))return r.jsx(aa,{});const dt=t=>{const d=t.specification||{},C=be(t),T=we(t),Q=He(t._id),le=Q>0,F=Ne.isPending||je.isPending||pe.isPending;return r.jsxs(ra,{className:"mb-4 shadow-xl border border-gray-100",children:[r.jsx(na,{className:"flex flex-row items-center justify-between pb-2",children:r.jsxs("div",{className:"flex items-center gap-4",children:[C.image&&r.jsx("img",{src:C==null?void 0:C.image,alt:"img",className:"w-16 h-16 object-cover rounded-lg border border-gray-400"}),r.jsxs("div",{children:[r.jsx(la,{className:"text-lg font-bold text-blue-900",children:it((d==null?void 0:d.subcategory)||d.name||d.model||(d==null?void 0:d.category)||"Unnamed",22)}),r.jsxs(sa,{className:"text-xs text-gray-500 mt-1",children:[(d==null?void 0:d.category)&&r.jsx("span",{className:"mr-2",children:r.jsx(kt,{children:d.category})}),(d==null?void 0:d.model)&&r.jsxs("span",{className:"mr-2",children:["Model: ",r.jsx("span",{className:"font-semibold",children:it(d.model,14)})]}),C.hasVariants&&C.color&&r.jsx("span",{className:"mr-2",children:r.jsx(kt,{variant:"secondary",children:C.color})}),(C==null?void 0:C.itemCode)&&r.jsxs("span",{className:"mr-2",children:["Code: ",r.jsx("span",{className:"font-semibold",children:C.itemCode})]}),(d==null?void 0:d.itemCode)&&r.jsxs("span",{className:"mr-2",children:["Code: ",r.jsx("span",{className:"font-semibold",children:d.itemCode})]})]})]})]})}),r.jsxs(oa,{children:[r.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-700",children:[Object.entries(d).map(([xe,Le])=>["image","imageUrl","_id","organizationId","series","cct","mrp","itemCode","variants"].includes(xe)||typeof Le=="object"||Le===void 0||Le===null?null:xe==="description"?r.jsxs("div",{className:"bg-gray-50 rounded px-2 py-1 border border-gray-100",children:[r.jsxs("span",{className:"font-semibold capitalize",children:[it(xe,12),":"]}),Le]},xe):r.jsxs("div",{className:"bg-gray-50 rounded px-2 py-1 border border-gray-100",children:[r.jsxs("span",{className:"font-semibold capitalize",children:[it(xe,12),":"]})," ",it(String(Le),18)]},xe)),C.hasVariants&&C.variants.length>1&&r.jsxs("div",{className:"bg-blue-50 rounded px-2 py-1 border border-blue-200",children:[r.jsx("span",{className:"font-semibold",children:"Variants:"})," ",C.variants.length," colors available"]}),C.mrp&&r.jsxs("div",{className:"text-blue-700 font-bold ml-auto text-[16px]",children:["₹",C.mrp]})]}),r.jsxs("section",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsxs($e,{size:"sm",variant:"primary",onClick:()=>a(`single/${t._id}`),children:[r.jsx("i",{className:"fas fa-eye mr-1"}),"View"]}),r.jsxs($e,{size:"sm",isLoading:Te.isPending,variant:"danger",onClick:()=>Oe(t._id),className:"text-white bg-red-600",children:[r.jsx("i",{className:"fas fa-trash mr-1"}),"Delete"]})]}),r.jsx("div",{className:"flex gap-2 items-center",children:le?r.jsxs("div",{className:"flex items-center gap-2 bg-green-50 rounded-lg p-1 border border-green-200",children:[r.jsx($e,{size:"sm",onClick:()=>Ee(T,Q-1),disabled:F,variant:"danger",className:"w-8 h-8 p-0 bg-red-600 text-white rounded-md shadow-sm",children:r.jsx("i",{className:"fas fa-minus text-sm"})}),r.jsx("span",{className:"w-10 text-center font-bold text-green-700",children:Q}),r.jsx($e,{size:"sm",variant:"primary",onClick:()=>Ee(T,Q+1),disabled:F,className:"w-8 h-8 p-0  rounded-md shadow-sm",children:r.jsx("i",{className:"fas fa-plus text-sm"})})]}):r.jsxs($e,{size:"sm",variant:"primary",onClick:()=>Re(t),isLoading:F,disabled:!R||F,className:"bg-green-600 hover:bg-green-700 text-white w-full sm:w-auto",children:[r.jsx("i",{className:"fas fa-cart-plus mr-1"}),"Add to Cart"]})})]})]})]},t._id)};return r.jsxs("div",{className:"max-h-full overflow-y-auto bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-2",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[r.jsx("i",{className:"fas fa-list mr-3 text-blue-600"}),"Product Inventory List"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Discover the product that you want for you work here"})]}),r.jsxs("div",{className:"flex gap-2",children:[Ze&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[r.jsx("i",{className:"fas fa-clock animate-pulse"}),r.jsx("span",{children:"Updating results..."})]}),r.jsx("div",{className:"w-full sm:w-64",children:r.jsx(ya,{options:Se,placeholder:"Select project",searchPlaceholder:"Search projects...",value:R||void 0,onValueChange:t=>W(t||""),searchBy:"name",displayFormat:"simple",className:"w-full"})}),r.jsxs($e,{onClick:()=>a("cart"),variant:"primary",className:"relative w-full sm:w-auto",children:[r.jsx("i",{className:"fas fa-shopping-cart text-xl"}),V&&((rt=V.items)==null?void 0:rt.length)>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:V.items.length})]})]})]})})}),r.jsx("div",{className:"px-2 sm:px-4 lg:px-8 py-6",children:r.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[r.jsx("div",{className:"xl:w-80 w-full flex-shrink-0",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[r.jsx("i",{className:"fas fa-filter mr-2 text-blue-600"}),"Filters"]}),(o||c||j||E||v||u||L||n||x)&&r.jsx("button",{onClick:()=>{i(""),m(""),f(""),y(""),b(""),g(""),w("100000"),S("0"),l("")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear All"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Search",n!==K&&r.jsx("span",{className:"ml-2 text-xs text-amber-600",children:r.jsx("i",{className:"fas fa-circle animate-pulse"})})]}),r.jsx(We,{placeholder:"Search by Brand, Subcategory, Model, ItemCode...",value:n,onChange:t=>l(t.target.value.trim())})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsx("select",{value:o,onChange:t=>i(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ct.categories.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),r.jsx("select",{value:h,onChange:t=>N(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ct.brand.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))})]}),Y&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),r.jsx("select",{value:c,onChange:t=>f(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ct.subcategories.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),r.jsx("select",{value:j,onChange:t=>y(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ct.models.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),ne&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),r.jsxs("select",{value:x,onChange:t=>m(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Types"}),(ft=ct.types)==null?void 0:ft.map(t=>r.jsx("option",{value:t.value,children:t.label},t.value))]})]}),r.jsxs("div",{className:"",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),r.jsx("div",{className:"px-2 mb-3",children:r.jsx(Ja,{range:!0,min:0,max:1e5,step:500,value:[Number(u),Number(L)],onChange:t=>{const[d,C]=t;S(String(d)),w(String(C))},trackStyle:[{backgroundColor:"#3b82f6",height:6}],handleStyle:[{borderColor:"#3b82f6",backgroundColor:"#fff",boxShadow:"0 2px 6px rgba(59, 130, 246, 0.4)",width:18,height:18,marginTop:-6},{borderColor:"#3b82f6",backgroundColor:"#fff",boxShadow:"0 2px 6px rgba(59, 130, 246, 0.4)",width:18,height:18,marginTop:-6}],railStyle:{backgroundColor:"#e5e7eb",height:6}})}),r.jsxs("div",{className:"flex justify-between items-center gap-2 text-sm",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Min"}),r.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg font-semibold text-blue-700 text-center",children:["₹",Number(u).toLocaleString("en-IN")]})]}),r.jsx("div",{className:"text-gray-400 mt-5",children:"—"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Max"}),r.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg font-semibold text-blue-700 text-center",children:["₹",Number(L).toLocaleString("en-IN")]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 items-center mt-2",children:[r.jsx(We,{className:"",type:"number",value:u,onChange:t=>S(t.target.value)}),r.jsx(We,{className:"",type:"number",value:L,onChange:t=>w(t.target.value)})]})]})]})]})}),r.jsx("div",{className:"flex-1 !max-h-[95vh] overflow-y-auto custom-scrollbar",children:r.jsxs("div",{ref:Qe,className:"h-full overflow-y-auto custom-scrollbar pr-2",children:[!R&&r.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 rounded-lg p-4 mb-4 flex items-center",children:[r.jsx("i",{className:"fas fa-exclamation-triangle mr-3 text-xl"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Select a project to add items to cart"}),r.jsx("p",{className:"text-sm",children:"Choose a project from the dropdown above to enable cart functionality"})]})]}),M&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 mb-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),M]}),r.jsx("button",{onClick:()=>I(null),className:"ml-4 text-red-400 hover:text-red-700",children:r.jsx("i",{className:"fas fa-times"})})]}),Ce&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 mb-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),(ue==null?void 0:ue.message)||"Failed to load data"]}),r.jsx("button",{onClick:()=>oe(),className:"ml-4 text-red-400 hover:text-red-700",children:r.jsx("i",{className:"fas fa-redo"})})]}),r.jsxs("div",{className:"max-h-[110%]  pr-2",children:[Fe?r.jsx(fa,{}):!((nt=ee==null?void 0:ee.pages)!=null&&nt.length)||!((vt=(Ie=ee.pages[0])==null?void 0:Ie.data)!=null&&vt.length)?r.jsx(Sa,{message:"No material inventory found.",icon:"box",color:"gray"}):ee.pages.map(t=>t.data.map(dt)),de&&r.jsx("div",{className:"flex justify-center py-2",children:r.jsx("i",{className:"fas fa-spinner fa-spin text-lg text-blue-400"})})]})]})})]})}),(H||$)&&r.jsx(er,{initialData:$==null?void 0:$.specification,onClose:()=>{X(!1),O(null)},onSubmit:async t=>{$?await _e($._id,t):await ie(t)},isLoading:Me.status==="pending"||Ae.status==="pending"})]})},er=({initialData:e={},onClose:a,onSubmit:n,isLoading:l})=>{const[o,i]=s.useState({name:e.name||"",type:e.type||"",quantity:e.quantity||"",unit:e.unit||"",location:e.location||""}),[c,f]=s.useState(null),x=h=>{i(N=>({...N,[h.target.name]:h.target.value}))},m=async h=>{if(h.preventDefault(),!o.name)return f("Name is required");f(null),await n(o)};return r.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center",children:r.jsxs("form",{onSubmit:m,className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md space-y-4 relative",children:[r.jsx("button",{type:"button",className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700",onClick:a,children:r.jsx("i",{className:"fas fa-times"})}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:e!=null&&e.name?"Edit Material":"Add Material"}),r.jsx(We,{name:"name",placeholder:"Name",value:o.name,onChange:x}),r.jsx(We,{name:"type",placeholder:"Type",value:o.type,onChange:x}),r.jsx(We,{name:"quantity",placeholder:"Quantity",value:o.quantity,onChange:x,type:"number"}),r.jsx(We,{name:"unit",placeholder:"Unit",value:o.unit,onChange:x}),r.jsx(We,{name:"location",placeholder:"Location",value:o.location,onChange:x}),c&&r.jsx("div",{className:"text-red-500 text-sm",children:c}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx($e,{type:"button",variant:"secondary",onClick:a,children:"Cancel"}),r.jsx($e,{type:"submit",variant:"primary",isLoading:l,children:"Save"})]})]})})};export{yr as default};
