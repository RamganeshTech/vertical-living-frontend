import{b as m,d as c,j as e}from"./index-B80eZEEO.js";import{C as x,a as f,b as p,c as u}from"./Card-DYeNHzV_.js";import{d as j}from"./staffTaskApi-BR_Zm2T3.js";import{B as h}from"./Button-N-oyy8vA.js";import{d as N,f as g}from"./dateFormator-BGKi5rfZ.js";const v=({task:s})=>{var r;const i=m(),{role:t}=c(),l=t==="staff",{mutateAsync:d}=j(),n=async a=>{window.confirm("Are you sure you want to delete this task?")&&await d({mainTaskId:a})},o=a=>{i(`single/${a}`)};return e.jsxs(x,{onClick:()=>o(s._id),className:"cursor-pointer p-0 border-l-4 border-blue-600",children:[e.jsx(f,{children:e.jsx(p,{children:(s==null?void 0:s.title.trim())||"No title"})}),e.jsxs(u,{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("i",{className:"fa-solid fa-calendar-days mr-2 text-blue-600"}),"Due: ",s.due?e.jsxs(e.Fragment,{children:[N(s.due)," - ",g(s==null?void 0:s.due)," "]}):e.jsx(e.Fragment,{children:"N/A"})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("i",{className:"fa-solid fa-layer-group mr-2 text-purple-600"}),"assignee: ",((r=s==null?void 0:s.assigneeId)==null?void 0:r.staffName)||"N/A"]}),e.jsxs("p",{className:"text-sm capitalize",children:[e.jsx("i",{className:"fa-solid fa-star mr-2 text-yellow-500"}),"Priority: ",s.priority]}),e.jsxs("p",{className:"text-sm capitalize",children:[e.jsx("i",{className:"fa-solid fa-building mr-2 text-indigo-500"}),"Department: ",s.department]}),e.jsx("div",{className:"flex gap-2 mt-3 justify-end",children:!l&&e.jsxs(h,{size:"sm",onClick:()=>n(s._id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-sm",children:[e.jsx("i",{className:"fa-solid fa-trash mr-1"}),"Delete"]})})]})]},s._id)};export{v as S};
