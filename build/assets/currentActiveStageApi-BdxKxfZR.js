import{u as a}from"./useQuery-CnKlDwE3.js";import{a as s,c as n}from"./index-4xXsHyrq.js";import{g as i}from"./roleCheck-DDX7kp9U.js";const c=async({projectId:e})=>(await n.get(`https://houseofram.in/api/currentactivestage/${e}/pendingstage`)).data.redirectTo,d=e=>a({queryKey:["currentactivestage",e],queryFn:()=>c({projectId:e}),enabled:!!e,retry:!1,refetchOnMount:!1}),u=async({projectId:e,api:t})=>{const{data:r}=await t.get(`projectdetails/getprojectdetails/${e}`);return r.data},w=e=>{const{role:t}=s(),r=i(t),o=["owner","CTO","staff"];return a({queryKey:["getprojectdetails",e],queryFn:async()=>{if(!t)throw new Error("Not Authorized");if(!o.includes(t))throw new Error("Not allowed to make this API call");if(!r)throw new Error("API instance not found for role");return await u({projectId:e,api:r})},enabled:!!e&&!!t,retry:!1})};export{d as a,w as u};
