import{c as s,d as u,q as c,k as l,g as i}from"./index-CUvv9ev0.js";const w=["owner","staff","CTO"],m=async({organizationId:t,projectId:r,mainQuoteName:e,quoteCategory:a,api:n})=>{const{data:o}=await n.post("/quote/quotegenerate/v1/createquote",{organizationId:t,projectId:r,mainQuoteName:e,quoteCategory:a});if(!o.ok)throw new Error(o.message);return o.data},g=async({projectId:t,id:r,mainQuoteName:e,quoteCategory:a,api:n})=>{const{data:o}=await n.put(`/quote/quotegenerate/v1/editquote/${r}`,{projectId:t,mainQuoteName:e,quoteCategory:a});if(!o.ok)throw new Error(o.message);return o.data},f=async({id:t,api:r})=>{const{data:e}=await r.get(`/quote/quotegenerate/v1/getsingle/${t}`);if(!e.ok)throw new Error(e.message);return e.data},y=async({quoteId:t,payload:r,api:e})=>{const{data:a}=await e.post(`/quote/quotegenerate/v1/createworkitem/${t}`,r);if(!a.ok)throw new Error(a.message);return a.data},p=async({quoteId:t,workId:r,payload:e,api:a})=>{const{data:n}=await a.put(`/quote/quotegenerate/v1/updatetemplate/${t}/${r}`,e);if(!n.ok)throw new Error(n.message);return n.data},h=async({quoteId:t,workId:r,templateId:e,payload:a,api:n})=>{const{data:o}=await n.put(`/quote/quotegenerate/v1/updatetemplatedata/${t}/${r}/${e}`,a);if(!o.ok)throw new Error(o.message);return o.data},q=async({quoteId:t,workId:r,subletId:e,subLettingData:a,api:n})=>{const{data:o}=await n.put(`/quote/quotegenerate/v1/updatesubletdata/${t}/${r}/${e}`,{subLettingData:a});if(!o.ok)throw new Error(o.message);return o.data},E=async({quoteId:t,workId:r,workName:e,api:a})=>{const{data:n}=await a.put(`/quote/quotegenerate/v1/updateworkname/${t}/${r}`,{workName:e});if(!n.ok)throw new Error(n.message);return n.data},I=async({quoteId:t,workId:r,api:e})=>{const{data:a}=await e.delete(`/quote/quotegenerate/v1/deletework/${t}/${r}`);if(!a.ok)throw new Error(a.message);return a.data},k=async({quoteId:t,workId:r,templateId:e,type:a,api:n})=>{const{data:o}=await n.delete(`/quote/quotegenerate/v1/deletetemplatework/${t}/${r}/${a}/${e}`);if(!o.ok)throw new Error(o.message);return o.data},$=()=>{const{role:t}=s(),r=i(t),e=["owner","staff","CTO"];return u({mutationFn:async({organizationId:a,projectId:n,mainQuoteName:o,quoteCategory:d})=>{if(!t||!e.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API configuration missing");return await m({organizationId:a,projectId:n,mainQuoteName:o,quoteCategory:d,api:r})},onSuccess:(a,{organizationId:n})=>{c.invalidateQueries({queryKey:["quote-material-items",n]})}})},Q=()=>{const{role:t}=s(),r=i(t);return u({mutationFn:async({projectId:e,id:a,mainQuoteName:n,quoteCategory:o})=>{if(!t||!w.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API configuration missing");return await g({projectId:e,id:a,mainQuoteName:n,quoteCategory:o,api:r})},onSuccess:(e,{organizationId:a})=>{c.invalidateQueries({queryKey:["quote-material-items",a]})}})},z=(t,r)=>{const{role:e}=s(),a=i(e);return l({queryKey:["material-items",t,r],queryFn:async()=>{if(!e||!w.includes(e))throw new Error("Not allowed to create quotes");if(!a)throw new Error("API instance for role not found");return await f({api:a,id:r})},enabled:!!t&&!!r})},S=()=>{const{role:t}=s(),r=i(t);return u({mutationFn:async({quoteId:e,payload:a})=>{if(!t||!w.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API configuration missing");return await y({quoteId:e,payload:a,api:r})},onSuccess:e=>{c.invalidateQueries({queryKey:["material-items",e.organizationId,e._id]})}})},A=()=>{const{role:t}=s(),r=i(t);return u({mutationFn:async({quoteId:e,workId:a,payload:n})=>{if(!t||!w.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API configuration missing");return await p({quoteId:e,workId:a,payload:n,api:r})},onSuccess:e=>{c.invalidateQueries({queryKey:["material-items",e.organizationId,e._id]})}})},F=()=>{const{role:t}=s(),r=i(t);return u({mutationFn:async e=>{if(!t||!w.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API not found");return await h({...e,api:r})},onSuccess:e=>{c.invalidateQueries({queryKey:["material-items",e.organizationId,e._id]})}})},U=()=>{const{role:t}=s(),r=i(t);return u({mutationFn:async({quoteId:e,workId:a,subletId:n,subLettingData:o})=>{if(!t||!w.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API not found");return await q({quoteId:e,workId:a,subletId:n,subLettingData:o,api:r})},onSuccess:e=>{c.invalidateQueries({queryKey:["material-items",e.organizationId,e._id]})}})},_=()=>{const{role:t}=s(),r=i(t);return u({mutationFn:async({quoteId:e,workId:a,workName:n})=>{if(!t||!w.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API configuration missing");return await E({quoteId:e,workId:a,workName:n,api:r})},onSuccess:e=>{c.invalidateQueries({queryKey:["material-items",e.organizationId,e._id]})}})},K=()=>{const{role:t}=s(),r=i(t);return u({mutationFn:async({quoteId:e,workId:a})=>{if(!t||!w.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API configuration missing");return await I({quoteId:e,workId:a,api:r})},onSuccess:e=>{c.invalidateQueries({queryKey:["material-items",e.organizationId,e._id]})}})},P=()=>{const{role:t}=s(),r=i(t);return u({mutationFn:async({quoteId:e,workId:a,templateId:n,type:o})=>{if(!t||!w.includes(t))throw new Error("Unauthorized access");if(!r)throw new Error("API configuration missing");return await k({quoteId:e,workId:a,templateId:n,api:r,type:o})},onSuccess:e=>{c.invalidateQueries({queryKey:["material-items",e.organizationId,e._id]})}})};export{Q as a,_ as b,S as c,A as d,P as e,K as f,F as g,U as h,z as i,$ as u};
