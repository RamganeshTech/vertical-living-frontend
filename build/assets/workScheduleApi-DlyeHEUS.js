import{g as s}from"./roleCheck-DWgWWcQZ.js";import{u as d}from"./useQuery-Dp3DvoKb.js";import{u as l}from"./useMutation-CaYNPTtb.js";import{c as i,q as u,d as y}from"./index-C0KkMjHg.js";const m=async(t,e)=>(await e.get(`/worktasks/getworktaskmain/${t}`)).data.data,k=async(t,e)=>(await e.get(`/worktasks/getdailyschedule/${t}`)).data.data,h=async(t,e)=>(await e.get(`/worktasks/${t}/getworkers`)).data.data,p=async(t,e,r)=>(await r.post(`/worktasks/create/${t}`,e)).data.data,g=async(t,e,r,o)=>(console.log("im gettng called update workd api "),(await o.put(`/worktasks/update/${t}/${e}`,r)).data.data),E=async(t,e,r)=>(await r.delete(`/worktasks/${t}/${e}`)).data.data,S=async(t,e,r,o,a)=>{const n=new FormData;return n.append("date",r),a.forEach(w=>{n.append("files",w)}),(await o.post(`/worktasks/${t}/task/${e}/uploaddailyimage`,n,{headers:{"Content-Type":"multipart/form-data"}})).data.data},$=async({scheduleId:t,taskId:e,date:r,api:o,imageId:a})=>{const{data:n}=await o.delete(`/worktasks/${t}/deleteworkimage/${e}/date/${r}/image/${a}`);return n.data},A=async({projectId:t,formData:e,scheduleId:r=null,api:o})=>{const{data:a}=await o.post(`/worktasks/generatePdf/work/${t}/${r}`,e);if(!a.ok)throw new Error(a.message);return a.data},C=async(t,e)=>(await e.get(`/worktasks/getprojectwork/${t}`)).data.data,I=async({scheduleId:t,formData:e,api:r})=>{const{data:o}=await r.post(`/worktasks/createcorrection/${t}`,e);if(!o.ok)throw new Error(o.message);return o.data},q=async({scheduleId:t,comparisonId:e,formData:r,api:o})=>{const{data:a}=await o.put(`/worktasks/uploadselectimagemanually/${t}/${e}`,r);if(!a.ok)throw new Error(a.message);return a.data},P=async({scheduleId:t,comparisonId:e,formData:r,api:o})=>{const{data:a}=await o.put(`/worktasks/uploadcorrectedimage/${t}/${e}`,r);if(!a.ok)throw new Error(a.message);return a.data},F=async({scheduleId:t,comparisonId:e,selectedImageId:r,formData:o,api:a})=>{const{data:n}=await a.put(`/worktasks/updateSelectimagecomment/${t}/${e}/${r}`,o);if(!n.ok)throw new Error(n.message);return n.data},O=async({scheduleId:t,comparisonId:e,selectId:r,api:o})=>{const{data:a}=await o.delete(`/worktasks/deleteselectimages/${t}/${e}/${r}`);if(!a.ok)throw new Error(a.message);return a.data},K=async({scheduleId:t,comparisonId:e,imageId:r,api:o})=>{const{data:a}=await o.delete(`/worktasks/deletecorrectedimages/${t}/${e}/${r}`);if(!a.ok)throw new Error(a.message);return a.data},_=t=>{const{role:e}=i(),r=s(e),o=["owner","staff","CTO","worker","client"];return d({queryKey:["work-main-stage",t],queryFn:()=>{if(!e||!o.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return m(t,r)},enabled:!!t,retry:!1,refetchOnMount:!1})},U=t=>{const{role:e}=i(),r=s(e),o=["owner","staff","CTO","worker","client"];return d({queryKey:["daily-schedule",t],queryFn:()=>{if(!e||!o.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return k(t,r)},enabled:!!t,retry:!1,refetchOnMount:!1})},M=t=>{const{role:e}=i(),r=s(e),o=["owner","staff","CTO"];return d({queryKey:["project-workers",t],queryFn:()=>{if(!e||!o.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return h(t,r)},enabled:!!t,retry:!1,refetchOnMount:!1})},f=["owner","staff","CTO"],G=()=>{const{role:t}=i(),e=s(t);return l({mutationFn:async({projectId:r,formData:o})=>{if(!t||!f.includes(t))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return p(r,o,e)},onSuccess:(r,{projectId:o})=>{u.invalidateQueries({queryKey:["daily-schedule",o]})}})},b=()=>{const{role:t}=i(),e=s(t);return l({mutationFn:async({projectId:r,scheduleId:o,formData:a})=>{if(!t||!f.includes(t))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return g(r,o,a,e)},onSuccess:(r,{projectId:o})=>{u.invalidateQueries({queryKey:["daily-schedule",o]})}})},j=()=>{const{role:t}=i(),e=s(t);return l({mutationFn:async({scheduleId:r,taskId:o})=>{if(!t||!f.includes(t))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return E(r,o,e)},onSuccess:(r,{projectId:o})=>{o&&u.invalidateQueries({queryKey:["work-schedule",o]})}})},z=()=>{const{role:t}=i(),e=s(t),r=["owner","staff","CTO","worker","client"];return l({mutationFn:async({scheduleId:o,taskId:a,date:n,files:c})=>{if(!t||!r.includes(t))throw new Error("not allowed to make this api call");if(!e)throw new Error("API instance missing");return await S(o,a,n,e,c)},onSuccess:(o,{projectId:a})=>{a&&u.invalidateQueries({queryKey:["work-schedule",a]})}})},x=()=>{const{role:t}=i(),e=s(t),r=["owner","staff","CTO","worker","client"];return l({mutationFn:async({scheduleId:o,taskId:a,date:n,imageId:c})=>{if(!t||!r.includes(t))throw new Error("not allowed to make this api call");if(!e)throw new Error("API instance missing");return await $({scheduleId:o,taskId:a,date:n,api:e,imageId:c})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},L=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,formData:a,scheduleId:n=null})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await A({projectId:o,formData:a,scheduleId:n,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},B=t=>{const{role:e}=i(),r=s(e),o=["owner","staff","CTO","worker","client"];return d({queryKey:["projectassigne",t],queryFn:()=>{if(!e||!o.includes(e))throw new Error("Unauthorized");if(!r)throw new Error("API not found");return C(t,r)},enabled:!!t,retry:!1,refetchOnMount:!1})},H=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({scheduleId:o,formData:a})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await I({scheduleId:o,formData:a,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},J=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,formData:c})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await q({scheduleId:a,comparisonId:n,formData:c,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},N=()=>{const t=["owner","staff","CTO","worker"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,formData:c})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await P({scheduleId:a,comparisonId:n,formData:c,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},V=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,selectedImageId:c,data:w})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await F({scheduleId:a,comparisonId:n,selectedImageId:c,formData:w,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},X=()=>{const t=["owner","staff","CTO","worker"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,imageId:c})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await K({scheduleId:a,comparisonId:n,imageId:c,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},Y=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({projectId:o,scheduleId:a,comparisonId:n,selectId:c})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await O({scheduleId:a,comparisonId:n,selectId:c,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["daily-schedule",a]})}})},D=async({formId:t,projectId:e,deadLine:r,api:o})=>{const{data:a}=await o.put(`/worktasks/deadline/${e}/${t}`,{deadLine:r});if(!a.ok)throw new Error(a.message);return a.data},R=async({projectId:t})=>{console.log("im gettng called complete workd api ");const{data:e}=await y.put(`https://houseofram.in/api/worktasks/completionstatus/${t}`);if(!e.ok)throw new Error(e.message);return e.data},Z=()=>{const t=["owner","staff","CTO"],{role:e}=i(),r=s(e);return l({mutationFn:async({formId:o,projectId:a,deadLine:n})=>{if(!e||!t.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance missing");return await D({formId:o,projectId:a,deadLine:n,api:r})},onSuccess:(o,{projectId:a})=>{u.invalidateQueries({queryKey:["work-main-stage",a]})}})},ee=()=>l({mutationFn:async({projectId:t})=>await R({projectId:t}),onSuccess:(t,{projectId:e})=>{u.invalidateQueries({queryKey:["work-main-stage",e]})}});export{Z as a,ee as b,B as c,M as d,G as e,b as f,L as g,H as h,J as i,V as j,Y as k,N as l,X as m,U as n,j as o,z as p,x as q,_ as u};
