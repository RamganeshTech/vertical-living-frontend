import{h as s,i as d,A as w,k as l,q as m,l as c}from"./index-ogMTmcqi.js";const y=async({projectId:r,api:e})=>{const{data:t}=await e.get(`/materialconfirmation/${r}`);if(!t.ok)throw new Error(t.message);return t.data},h=async({projectId:r,roomId:e,packageId:t,api:n})=>{const{data:a}=await n.get(`/materialconfirmation/${r}/singleroom/${t}/${e}`);if(!a.ok)throw new Error(a.message);return a.data},p=async({projectId:r,roomId:e,packageId:t,fieldId:n,formData:a,api:o})=>{const{data:i}=await o.put(`/materialconfirmation/additems/${r}/${t}/${e}/${n}`,a);if(!i.ok)throw new Error(i.message);return i.data},g=async({projectId:r,roomId:e,packageId:t,api:n})=>{const{data:a}=await n.patch(`/materialconfirmation/${r}/${t}/${e}/deleteroom`);if(!a.ok)throw new Error(a.message);return a.data},E=async({projectId:r,roomId:e,packageId:t,formData:n,api:a})=>{const{data:o}=await a.post(`/materialconfirmation/${r}/uploads/${t}/${e}`,n);if(!o.ok)throw new Error(o.message);return o.data},$=async(r,e,t)=>(await t.patch(`/materialconfirmation/updatepackage/${r}`,{selectedPackage:e})).data,C=async({projectId:r,itemId:e,packageId:t,roomId:n,fieldId:a,api:o})=>{const{data:i}=await o.delete(`/materialconfirmation/deletesubitem/${r}/${t}/${n}/${e}/${a}`);if(!i.ok)throw new Error(i.message);return i.data},q=async({projectId:r,roomId:e,packageId:t,fileId:n,api:a})=>{const{data:o}=await a.patch(`/materialconfirmation/${r}/deleteuploadedfile/${t}/${e}/${n}`);if(!o.ok)throw new Error(o.message);return o.data},A=async({formId:r,projectId:e,deadLine:t,api:n})=>{const{data:a}=await n.put(`/materialconfirmation/deadline/${e}/${r}`,{deadLine:t});if(!a.ok)throw new Error(a.message);return a.data},R=async({projectId:r,api:e})=>{const{data:t}=await e.put(`/materialconfirmation/completionstatus/${r}`);if(!t.ok)throw new Error(t.message);return t.data},S=async({projectId:r,api:e})=>{const{data:t}=await e.patch(`/materialconfirmation/generatepdfcomparison/${r}`);if(!t.ok)throw new Error(t.message);return t.data},F=r=>{const e=["owner","staff","CTO","client","worker"],{role:t}=s(),n=c(t);return d({queryKey:["material-confirmation",r],queryFn:async()=>{if(!t||!e.includes(t))throw new Error("Not authorized");if(!n)throw new Error("API instance not available");return await y({projectId:r,api:n})},enabled:!!r,refetchOnWindowFocus:!1,retry:!1})},P=({projectId:r,roomId:e,packageId:t})=>{const n=["owner","staff","CTO","client","worker"],{role:a}=s(),o=c(a);return d({queryKey:["material-room",r,e],queryFn:async()=>{if(!a||!n.includes(a))throw new Error("Not authorized");if(!o)throw new Error("API instance unavailable");return await h({projectId:r,packageId:t,roomId:e,api:o})},enabled:!!r&&!!e,retry:!1,refetchOnWindowFocus:!1})},O=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e),n=w();return l({mutationFn:async({projectId:a,roomId:o,fieldId:i,packageId:u,formData:f})=>{if(!e||!r.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance not available");return await p({projectId:a,roomId:o,fieldId:i,packageId:u,formData:f,api:t})},onSuccess:(a,{projectId:o})=>{n.invalidateQueries({queryKey:["material-confirmation",o]})}})},v=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e);return l({mutationFn:async({projectId:n,itemId:a,roomId:o,packageId:i,fieldId:u})=>{if(!e||!r.includes(e))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance not found for role");return await C({projectId:n,itemId:a,packageId:i,roomId:o,fieldId:u,api:t})},onSuccess:(n,{projectId:a})=>{m.invalidateQueries({queryKey:["material-confirmation",a]})}})},M=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e),n=w();return l({mutationFn:async({projectId:a,roomId:o,packageId:i})=>{if(!e||!r.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance not available");return await g({projectId:a,roomId:o,packageId:i,api:t})},onSuccess:(a,{projectId:o})=>{n.invalidateQueries({queryKey:["material-confirmation",o]})}})},T=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e),n=w();return l({mutationFn:async({projectId:a,roomId:o,packageId:i,formData:u})=>{if(!e||!r.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await E({projectId:a,roomId:o,packageId:i,formData:u,api:t})},onSuccess:(a,{projectId:o,roomId:i})=>{n.invalidateQueries({queryKey:["material-room",o,i]})}})},b=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e),n=w();return l({mutationFn:async({projectId:a,roomId:o,packageId:i,fileId:u})=>{if(!e||!r.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await q({projectId:a,roomId:o,fileId:u,packageId:i,api:t})},onSuccess:(a,{projectId:o,roomId:i})=>{n.invalidateQueries({queryKey:["material-room",o,i]})}})},K=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e),n=w();return l({mutationFn:async({formId:a,projectId:o,deadLine:i})=>{if(!e||!r.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await A({formId:a,projectId:o,deadLine:i,api:t})},onSuccess:()=>{n.invalidateQueries({queryKey:["material-rooms"]})}})},Q=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e),n=w();return l({mutationFn:async({projectId:a})=>{if(!e||!r.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await R({projectId:a,api:t})},onSuccess:(a,{projectId:o})=>{n.invalidateQueries({queryKey:["material-confirmation",o]})}})},z=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e);return l({mutationFn:async({projectId:n})=>{if(!e||!r.includes(e))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance missing");return await S({projectId:n,api:t})},onSuccess:(n,{projectId:a})=>{m.invalidateQueries({queryKey:["material-confirmation",a]})}})},I=()=>{const r=["owner","staff","CTO"],{role:e}=s(),t=c(e),n=w();return l({mutationFn:async({projectId:a,selectedPacakge:o})=>{if(!e||!r.includes(e))throw new Error("Unauthorized please login");return await $(a,o,t)},onSuccess:(a,{projectId:o})=>{n.invalidateQueries({queryKey:["material-confirmation",o]})}})};export{b as a,P as b,O as c,v as d,M as e,F as f,K as g,Q as h,z as i,I as j,T as u};
