import{b as f,f as u,d as p,j as e,O as N,L as v}from"./index-DkfQDeIt.js";import{b as w}from"./documentationApi-BRYSBj0l.js";import{B as t}from"./Button-C-chqFKc.js";import{S as l}from"./Skeleton-CVtEMTN7.js";import"./useQuery-mUmMtORz.js";import"./useMutation-BWlLDX_I.js";import"./roleCheck-DNL7PxQZ.js";const z=()=>{var n;const{projectId:d}=f(),c=u(),{isMobile:i,openMobileSidebar:r}=p(),{data:a,isLoading:m,isError:x,refetch:h,isFetching:g}=w(d),o=c.pathname.split("/"),j=o.indexOf("document")!==o.length-1;return m?e.jsxs("div",{className:"mx-auto p-4 space-y-6 overflow-y-auto max-h-full custom-scrollbar",children:[i&&e.jsxs(t,{variant:"outline",size:"sm",onClick:r,className:"mb-4 bg-transparent border-slate-300 text-slate-700 hover:bg-slate-100",children:[e.jsx("i",{className:"fa-solid fa-bars mr-2"}),"Menu"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,b)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:[e.jsx(l,{className:"h-6 w-24 bg-slate-200 mb-2"}),e.jsx(l,{className:"h-4 w-full bg-slate-200"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx(l,{className:"h-16 w-full mb-4 bg-slate-200"}),e.jsx(l,{className:"h-9 w-28 bg-slate-200"})]})]},b))})]}):x?e.jsxs("div",{className:"container mx-auto",children:[i&&e.jsxs(t,{variant:"outline",size:"sm",onClick:r,className:"mb-4 bg-transparent border-slate-300 text-slate-700 hover:bg-slate-100",children:[e.jsx("i",{className:"fa-solid fa-bars mr-2"}),"Menu"]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-red-500 text-xl"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800",children:"Error Loading Documentation"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Failed to load documentation. Please try again later."})]})]})})})]}):e.jsx("div",{className:"mx-auto space-y-6 h-full overflow-y-auto custom-scrollbar",children:j?e.jsx(N,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[i&&e.jsx(t,{variant:"outline",size:"sm",onClick:r,className:"bg-transparent border-slate-300 text-slate-700 hover:bg-slate-100",children:e.jsx("i",{className:"fa-solid fa-bars "})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-indigo-600",children:"Project Documentation"})]}),e.jsx("p",{className:"text-slate-600 text-sm sm:text-xl",children:"Track and manage documentation across all project stages"})]}),(n=a==null?void 0:a.stages)!=null&&n.length?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center gap-2 text-sm text-slate-500",children:[e.jsxs("div",{children:[e.jsx("i",{className:"fa-solid fa-file-text text-indigo-500"}),e.jsxs("span",{children:[a.stages.length," stages available"]})]}),e.jsx("div",{children:e.jsxs(t,{isLoading:g,onClick:()=>h(),children:[e.jsx("i",{className:"fas fa-refresh mr-1"})," Sync"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.stages.map(s=>e.jsxs("div",{className:"group relative bg-white rounded-lg border-l-4  shadow-sm border-indigo-600 overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-slate-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 font-semibold text-sm",children:s.stageNumber}),e.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:["Stage ",s.stageNumber]})]})})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 min-h-[3rem] leading-relaxed",children:s.description||"No description provided for this stage."}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx("i",{className:"fa-solid fa-check-circle text-emerald-500"}),e.jsx("span",{children:"Ready to view"})]}),e.jsx(v,{to:`${s.stageNumber}`,children:e.jsx(t,{size:"sm",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:"View Details"})})]})]})]},s.stageNumber))})]}):e.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-sm border border-slate-200 p-12 text-center",children:[e.jsx("i",{className:"fa-solid fa-file-text text-5xl text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2 text-slate-800",children:"No Documentation Available"}),e.jsx("p",{className:"text-slate-600",children:"Documentation stages will appear here once they are created for this project."})]})]})})})};export{z as default};
