import{a as s}from"./index-4xXsHyrq.js";import{g as a}from"./roleCheck-DDX7kp9U.js";import{u as l}from"./useQuery-CnKlDwE3.js";import{u}from"./useMutation-DAR9sTyS.js";const c=async({api:t,organizationId:o,filters:r})=>{const{data:e}=await t.get(`quote/quotegenerate/getallquotevarients/${o}`,{params:r});if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},i=async({api:t,organizationId:o,id:r})=>{const{data:e}=await t.get(`quote/quotegenerate/getsingleclientquote/${o}/${r}`);if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},w=async({api:t,organizationId:o,id:r})=>{const{data:e}=await t.put(`quote/quotegenerate/storetopaymentstage/${o}/${r}`);if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},y=(t,o)=>{const r=["owner","staff","CTO"],{role:e}=s(),n=a(e);return l({queryKey:["clientquote",t,o],queryFn:async()=>{if(!e||!r.includes(e))throw new Error("Not allowed to create quotes");if(!n)throw new Error("API instance for role not found");return await c({api:n,organizationId:t,filters:o})},enabled:!!t})},d=(t,o)=>{const r=["owner","staff","CTO"],{role:e}=s(),n=a(e);return l({queryKey:["clientquote-single",t,o],queryFn:async()=>{if(!e||!r.includes(e))throw new Error("Not allowed to create quotes");if(!n)throw new Error("API instance for role not found");return await i({api:n,organizationId:t,id:o})},enabled:!!t})},h=()=>{const t=["owner","staff","CTO"],{role:o}=s(),r=a(o);return u({mutationFn:async({organizationId:e,id:n})=>{if(!o||!t.includes(o))throw new Error("Not allowed to create quotes");if(!r)throw new Error("API instance for role not found");return await w({api:r,organizationId:e,id:n})}})};export{d as a,h as b,y as u};
