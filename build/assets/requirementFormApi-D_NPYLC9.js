import{u as w}from"./useQuery-Bz5JFwsG.js";import{k as s,q as c}from"./index-Dre-3JFT.js";import{u as a,g as i}from"./roleCheck-CIuNrpTb.js";const m=async({projectId:o,payload:e,token:r,api:t})=>{const{data:n}=await t.post(`/requirementform/createrequirement/${o}?token=${r}`,e);if(!n.ok)throw new Error(n.message);return n.data},d=async({projectId:o,api:e})=>{const{data:r}=await e.get(`/requirementform/getrequirementform/${o}`);if(!r.ok)throw new Error(r.message);return r.data},f=async({projectId:o,api:e})=>{const{data:r}=await e.post(`/requirementform/formsharelink/${o}`);if(!r.ok)throw new Error(r.message);return r.data},h=async({formId:o,projectId:e,api:r})=>{const{data:t}=await r.patch(`/requirementform/formcompleted/${e}/${o}`);if(!t.ok)throw new Error(t.message);return t.data},p=async({formId:o,projectId:e,deadLine:r,api:t})=>{const{data:n}=await t.patch(`/requirementform/deadline/${e}/${o}`,{deadLine:r});if(!n.ok)throw new Error(n.message);return n.data},y=async({formId:o,projectId:e,files:r,api:t})=>{const n=new FormData;return r.forEach(l=>n.append("file",l)),(await t.post(`/requirementform/upload/multiple/${e}/${o}`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},E=async(o,e,r)=>{const{data:t}=await r.patch(`/requirementform/${o}/deleteuploadedfile/${e}`);if(!t.ok)throw new Error(t.message);return t.data},A=()=>{const{role:o}=a(),e=i(o),r=["owner","staff","CTO"];return s({mutationFn:async({projectId:t,fileId:n})=>{if(!o||!r.includes(o))throw new Error("not allowed to make this api call");if(!e)throw new Error("API instance not found for role");return await E(t,n,e)},onSuccess:(t,{projectId:n})=>{c.invalidateQueries({queryKey:["requirementForm",n]})}})},q=async({projectId:o,api:e,updateData:r})=>{const{data:t}=await e.put(`/requirementform/${o}/updatekitchen`,{kitchen:r});if(!t.ok)throw new Error(t.message);return t.data},F=async({projectId:o,api:e,updateData:r})=>{const{data:t}=await e.put(`/requirementform/${o}/updatebedroom`,{bedroom:r});if(!t.ok)throw new Error(t.message);return t.data},k=async({projectId:o,api:e,updateData:r})=>{const{data:t}=await e.put(`/requirementform/${o}/updatewardrobe`,{wardrobe:r});if(!t.ok)throw new Error(t.message);return t.data},R=async({projectId:o,api:e,updateData:r})=>{const{data:t}=await e.put(`/requirementform/${o}/updatelivinghall`,{livingHall:r});if(!t.ok)throw new Error(t.message);return t.data},S=()=>{const o=["owner","staff","CTO","client"],{role:e}=a(),r=i(e);return s({mutationFn:async({projectId:t,payload:n,token:u})=>{if(!e||!o.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance not found for role");return await m({projectId:t,payload:n,token:u,api:r})}})},T=({projectId:o})=>{const e=["owner","staff","CTO","client"],{role:r}=a(),t=i(r);return w({queryKey:["requirementForm"],queryFn:async()=>{if(!r||!e.includes(r))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance not found for role");return await d({projectId:o,api:t})},retry:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5})},U=()=>{const o=["owner","staff","CTO"],{role:e}=a(),r=i(e);return s({mutationFn:async({projectId:t})=>{if(!e||!o.includes(e))throw new Error("not allowed to make this api call");if(!r)throw new Error("API instance not found for role");return await f({projectId:t,api:r})}})},O=()=>{const o=["owner","staff","CTO","client"],{role:e}=a(),r=i(e);return s({mutationFn:async({formId:t,projectId:n})=>{if(!e)throw new Error("not authorized");if(!o.includes(e))throw new Error("you  dont have the access to make this api");if(!r)throw new Error("api is null");return await h({formId:t,projectId:n,api:r})},onSuccess:()=>{c.invalidateQueries({queryKey:["requirementForm"]})}})},P=()=>{const o=["owner","staff","CTO"],{role:e}=a(),r=i(e);return s({mutationFn:async({formId:t,deadLine:n,projectId:u})=>{if(!e)throw new Error("not authorized");if(!o.includes(e))throw new Error("you dont have the access to make this api");if(!r)throw new Error("api is not available");return await p({formId:t,deadLine:n,projectId:u,api:r})}})},I=()=>{const o=["owner","staff","CTO","client"],{role:e}=a(),r=i(e);return s({mutationFn:async({formId:t,files:n,projectId:u})=>{if(!e)throw new Error("not authorized");if(!o.includes(e))throw new Error("you  dont have the access to make this api");if(!r)throw new Error("api is null");return await y({formId:t,projectId:u,files:n,api:r})}})},z=()=>{const o=["client","owner","staff"],{role:e}=a(),r=i(e);return s({mutationFn:async({projectId:t,updateData:n})=>{if(!e)throw new Error("not authorized");if(!o.includes(e))throw new Error("you  dont have the access to make this api");if(!r)throw new Error("api is null");return await q({projectId:t,api:r,updateData:n})}})},D=()=>{const o=["client","owner","staff"],{role:e}=a(),r=i(e);return s({mutationFn:async({projectId:t,updateData:n})=>{if(!e)throw new Error("not authorized");if(!o.includes(e))throw new Error("you  dont have the access to make this api");if(!r)throw new Error("api is null");return await F({projectId:t,api:r,updateData:n})}})},K=()=>{const o=["client","owner","staff"],{role:e}=a(),r=i(e);return s({mutationFn:async({projectId:t,updateData:n})=>{if(!e)throw new Error("not authorized");if(!o.includes(e))throw new Error("you  dont have the access to make this api");if(!r)throw new Error("api is null");return await k({projectId:t,api:r,updateData:n})}})},Q=()=>{const o=["client","owner","staff"],{role:e}=a(),r=i(e);return s({mutationFn:async({projectId:t,updateData:n})=>{if(!e)throw new Error("not authorized");if(!o.includes(e))throw new Error("you  dont have the access to make this api");if(!r)throw new Error("api is null");return await R({projectId:t,api:r,updateData:n})}})},g=async(o,e,r,t)=>{const{data:n}=await t.post(`/requirementform/${o}/${e}/upload`,r,{headers:{"Content-Type":"multipart/form-data"}});if(!n.ok)throw new Error(n.message);return n.data},L=()=>{const{role:o}=a(),e=i(o),r=["owner","staff","CTO","client"];return s({mutationFn:async({projectId:t,sectionName:n,files:u})=>{if(!o||!r.includes(o))throw new Error("You are not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await g(t,n,u,e)},onSuccess:()=>{c.invalidateQueries({queryKey:["requirementForm"]})}})},$=async(o,e,r,t)=>{const{data:n}=await t.delete(`/requirementform/${o}/${e}/${r}/deletefile`);if(!n.ok)throw new Error(n.message);return n.data},G=()=>{const{role:o}=a(),e=i(o),r=["owner","staff","CTO"];return s({mutationFn:async({projectId:t,sectionName:n,fileId:u})=>{if(!o||!r.includes(o))throw new Error("You are not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await $(t,n,u,e)},onSuccess:()=>{c.invalidateQueries({queryKey:["requirementForm"]})}})};export{L as a,G as b,z as c,Q as d,D as e,K as f,T as g,U as h,O as i,P as j,I as k,A as l,S as u};
