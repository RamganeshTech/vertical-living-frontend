import{d as s,f as w,m as l,e as u,g as c}from"./index-Bp58Hj9Q.js";const d=async({projectId:a,api:e})=>{const{data:t}=await e.get(`/materialconfirmation/${a}`);if(!t.ok)throw new Error(t.message);return t.data},f=async({projectId:a,roomId:e,roomType:t,api:r})=>{const{data:o}=await r.get(`/materialconfirmation/${a}/predefinedroom/${e}/${t}`);if(!o.ok)throw new Error(o.message);return o.data},y=async({projectId:a,roomId:e,fieldKey:t,updates:r,api:o})=>{const{data:n}=await o.put(`/materialconfirmation/${a}/predefinedroom/${e}/field/${t}`,r);if(!n.ok)throw new Error(n.message);return n.data},h=async({projectId:a,name:e,api:t})=>{const{data:r}=await t.post(`/materialconfirmation/${a}/customroom`,{name:e});if(!r.ok)throw new Error(r.message);return r.data},p=async({projectId:a,roomId:e,api:t})=>{const{data:r}=await t.patch(`/materialconfirmation/${a}/${e}/deleteroom`);if(!r.ok)throw new Error(r.message);return r.data},E=async({projectId:a,roomId:e,item:t,api:r})=>{const{data:o}=await r.post(`/materialconfirmation/${a}/customroom/${e}/field`,t);if(!o.ok)throw new Error(o.message);return o.data},C=async({projectId:a,roomId:e,fieldKey:t,api:r})=>{const{data:o}=await r.delete(`/materialconfirmation/${a}/customroom/${e}/field/${t}`);if(!o.ok)throw new Error(o.message);return o.data},R=async({projectId:a,roomId:e,formData:t,api:r})=>{const{data:o}=await r.post(`/materialconfirmation/${a}/uploads/${e}`,t);if(!o.ok)throw new Error(o.message);return o.data},g=async({projectId:a,roomId:e,fileId:t,api:r})=>{const{data:o}=await r.patch(`/materialconfirmation/${a}/deleteuploadedfile/${e}/${t}`);if(!o.ok)throw new Error(o.message);return o.data},A=async({formId:a,projectId:e,deadLine:t,api:r})=>{const{data:o}=await r.put(`/materialconfirmation/deadline/${e}/${a}`,{deadLine:t});if(!o.ok)throw new Error(o.message);return o.data},F=async({projectId:a,api:e})=>{const{data:t}=await e.put(`/materialconfirmation/completionstatus/${a}`);if(!t.ok)throw new Error(t.message);return t.data},q=a=>{const e=["owner","staff","CTO","client","worker"],{role:t}=s(),r=c(t);return w({queryKey:["material-confirmation",a],queryFn:async()=>{if(!t||!e.includes(t))throw new Error("Not authorized");if(!r)throw new Error("API instance not available");return await d({projectId:a,api:r})},enabled:!!a,refetchOnWindowFocus:!1,retry:!1})},S=({projectId:a,roomId:e,roomType:t})=>{const r=["owner","staff","CTO","client","worker"],{role:o}=s(),n=c(o);return w({queryKey:["material-room",a,e],queryFn:async()=>{if(!o||!r.includes(o))throw new Error("Not authorized");if(!n)throw new Error("API instance unavailable");return await f({projectId:a,roomId:e,roomType:t,api:n})},enabled:!!a&&!!e,retry:!1,refetchOnWindowFocus:!1})},v=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({projectId:o,roomId:n,fieldKey:i,updates:m})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance not available");return await y({projectId:o,roomId:n,fieldKey:i,updates:m,api:t})},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["material-confirmation",n]})}})},P=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({projectId:o,name:n})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance not available");return await h({projectId:o,name:n,api:t})},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["material-confirmation",n]})}})},T=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({projectId:o,roomId:n})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance not available");return await p({projectId:o,roomId:n,api:t})},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["material-confirmation",n]})}})},k=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({projectId:o,roomId:n,item:i})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance not available");return await E({projectId:o,roomId:n,item:i,api:t})},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["material-confirmation",n]})}})},O=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({projectId:o,roomId:n,fieldKey:i})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance not available");return await C({projectId:o,roomId:n,fieldKey:i,api:t})},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["material-confirmation",n]})}})},z=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({projectId:o,roomId:n,formData:i})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await R({projectId:o,roomId:n,formData:i,api:t})},onSuccess:(o,{projectId:n,roomId:i})=>{r.invalidateQueries({queryKey:["material-room",n,i]})}})},K=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({projectId:o,roomId:n,fileId:i})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await g({projectId:o,roomId:n,fileId:i,api:t})},onSuccess:(o,{projectId:n,roomId:i})=>{r.invalidateQueries({queryKey:["material-room",n,i]})}})},N=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({formId:o,projectId:n,deadLine:i})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await A({formId:o,projectId:n,deadLine:i,api:t})},onSuccess:()=>{r.invalidateQueries({queryKey:["material-rooms"]})}})},Q=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=c(e),r=l();return u({mutationFn:async({projectId:o})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API instance missing");return await F({projectId:o,api:t})},onSuccess:(o,{projectId:n})=>{r.invalidateQueries({queryKey:["material-confirmation",n]})}})};export{P as a,q as b,N as c,Q as d,z as e,K as f,S as g,k as h,v as i,O as j,T as u};
