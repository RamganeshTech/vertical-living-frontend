import{u}from"./useQuery-BmC89CNR.js";import{u as w}from"./useMutation-DaAue-fW.js";import{c as s}from"./index-C2KHEypQ.js";import{g as i}from"./roleCheck-DBD7VNWv.js";const c=async(r,e)=>{var t;return(t=(await e.get(`/workerwall/${r}`)).data)==null?void 0:t.data},p=async(r,e,o)=>(await o.get(`/workerwall/${r}/step/${e}`)).data,d=async(r,e,o,t)=>(await t.post(`/workerwall/${r}/step/${e}/initial`,o,{headers:{"Content-Type":"multipart/form-data"}})).data,f=async(r,e,o,t,n)=>(await n.post(`/workerwall/${r}/step/${e}/correction/${o}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data,A=r=>{const{role:e}=s(),o=i(e),t=["worker","staff","owner","CTO"];return u({queryKey:["workerSOP",r],queryFn:()=>{if(!e||!t.includes(e))throw new Error("Unauthorized");if(!o)throw new Error("API not found");return c(r,o)}})},F=(r,e)=>{const{role:o}=s(),t=i(o),n=["worker","staff","owner","CTO"];return u({queryKey:["workerStep",r,e],queryFn:()=>{if(!o||!n.includes(o))throw new Error("Unauthorized");if(!t)throw new Error("API not found");return p(r,e,t)}})},C=()=>{const{role:r}=s(),e=i(r),o=["worker","staff","owner","CTO"];return w({mutationFn:async({projectId:t,stepNumber:n,formData:a})=>{if(!r||!o.includes(r))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return d(t,n,a,e)}})},E=()=>{const{role:r}=s(),e=i(r),o=["worker","staff","owner","CTO"];return w({mutationFn:async({projectId:t,stepNumber:n,correctionRound:a,formData:l})=>{if(!r||!o.includes(r))throw new Error("Unauthorized");if(!e)throw new Error("API not found");return f(t,n,a,l,e)}})};export{F as a,C as b,E as c,A as u};
