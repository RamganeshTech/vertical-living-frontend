import{j as a,r as l,g as Zt,u as Jt,a as ea,O as ta}from"./index-IX_jUi_Z.js";import{C as aa,a as ra,b as na,c as la,d as sa}from"./Card-DYFZZWO8.js";import{I as Ge}from"./Input-DbCzT9sN.js";import{B as we}from"./Button-D7Kb4xIQ.js";import{B as ia}from"./Badge-DGC9tvRt.js";import{t as ue}from"./toast-BSC5QTk1.js";import{u as oa,a as ca,b as ua,c as da}from"./materialInventoryApi-CTNDdMy9.js";import{t as Je}from"./dateFormator-BGKi5rfZ.js";import fa from"./MaterialOverviewLoading-65JYNlHA.js";import{u as ma}from"./projectApi-Bftt2BHg.js";import{u as va,a as ga,b as ha,c as ba}from"./MaterialInventoryCartApi-HNuy3UhB.js";import{r as xa}from"./index-D7NaLUTP.js";import{S as ya}from"./SearchSelectNew-BUwpxXf4.js";import"./roleCheck-yWEzJ9f0.js";import"./useQuery-BBgvqOK0.js";import"./useMutation-oVcqBODs.js";import"./useInfiniteQuery-CoVfmFiF.js";import"./Skeleton-BKzIbh6x.js";const jt={primary:"text-blue-400",danger:"text-red-400",success:"text-green-400",warning:"text-yellow-400",gray:"text-gray-400"},Rt={envelope:"fas fa-envelope",box:"fas fa-box-open",message:"fas fa-comment-dots",chat:"fas fa-comments",warning:"fas fa-exclamation-triangle"},Sa=({message:e,icon:t="box",customIconClass:r,color:n="gray"})=>{const s=`${t==="custom"?r||"fas fa-question-circle":Rt[t]||Rt.box} text-7xl mb-4 ${jt[n]||jt.gray}`;return a.jsxs("div",{className:"w-full flex flex-col justify-center items-center py-12 px-4 text-center",children:[a.jsx("i",{className:s}),a.jsx("p",{className:"text-lg text-gray-600",children:e})]})},st=(e,t)=>{const[r,n]=l.useState(e);return l.useEffect(()=>{const i=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(i)}}),r},rt={brand:[{value:"",label:"All Brand"},{value:"jaquar",label:"Jaquar"}],categories:[{value:"",label:"All Categories"},{value:"light",label:"Light"}],subcategories:[{value:"",label:"All Subcategories"},{value:"Downlights",label:"Downlights"},{value:"COB Downlights",label:"COB Downlights"},{value:"Designer Lights",label:"Designer Lights"},{value:"Panels",label:"Panels"},{value:"Battens-Tubes",label:"Battens-Tubes"},{value:"Magnetic Lights",label:"Magnetic Lights"},{value:"Retail Lights",label:"Retail Lights"},{value:"Industrial Lights",label:"Industrial Lights"}],models:[{value:"",label:"All Models"},{value:"ENSAVE PLUS",label:"ENSAVE PLUS"},{value:"AREVA PRIME",label:"AREVA PRIME"},{value:"NERO SURFACE",label:"NERO SURFACE"},{value:"LUCENT",label:"LUCENT"},{value:"LUCENT SQUARE",label:"LUCENT SQUARE"},{value:"2 IN 1 STANDALONE",label:"2 IN 1 STANDALONE"},{value:"ERIS FIXED (LOW BORDER DEEP RECESSED)",label:"ERIS FIXED (LOW BORDER DEEP RECESSED)"},{value:"ESTUS SWIVEL",label:"ESTUS SWIVEL"},{value:"ERIS SWIVEL",label:"ERIS SWIVEL"},{value:"ERIS REFLECTO",label:"ERIS REFLECTO"},{value:"ERIS FIXED",label:"ERIS FIXED"},{value:"EMINA",label:"EMINA"},{value:"EMINA TILTABLE",label:"EMINA TILTABLE"},{value:"DIMAS",label:"DIMAS"},{value:"GLIDE",label:"GLIDE"},{value:"ERIS SURFACE ROUND",label:"ERIS SURFACE ROUND"},{value:"EPITO",label:"EPITO"},{value:"EMPHA",label:"EMPHA"},{value:"RENE",label:"RENE"},{value:"CYNO",label:"CYNO"},{value:"ULTIMA SLIM",label:"ULTIMA SLIM"},{value:"ACCESSORIES FOR ULTIMA SLIM",label:"ACCESSORIES FOR ULTIMA SLIM"},{value:"ULTIMA ULTRA SLIM 1x4",label:"ULTIMA ULTRA SLIM 1x4"},{value:"ULTIMA ULTRA SLIM 1x1",label:"ULTIMA ULTRA SLIM 1x1"},{value:"ULTIMA ULTRA PRO (2x2)",label:"ULTIMA ULTRA PRO (2x2)"},{value:"ULTIMA MULTI-COLOUR",label:"ULTIMA MULTI-COLOUR"},{value:"GLAZE",label:"GLAZE"},{value:"GLAZE ULTRA ALUMINIUM",label:"GLAZE ULTRA ALUMINIUM"},{value:"KUBIK SMART",label:"KUBIK SMART"},{value:"KUBIK ULTRA",label:"KUBIK ULTRA"},{value:"T8 RETRO",label:"T8 RETRO"},{value:"T8 RETRO ACCESSSORIES",label:"T8 RETRO ACCESSSORIES"},{value:"PRIDE",label:"PRIDE"},{value:"ORELLI SLIM",label:"ORELLI SLIM"},{value:"ORELLI SLIM HANGING",label:"ORELLI SLIM HANGING"},{value:"INSTARAY SLIM LINEAR WITH LENS",label:"INSTARAY SLIM LINEAR WITH LENS"},{value:"INSTARAY SLIM LINEAR",label:"INSTARAY SLIM LINEAR"},{value:"INSTARAY ROUND SLIM",label:"INSTARAY ROUND SLIM"},{value:"INSTARAY SLIM LINEAR DIFFUSED",label:"INSTARAY SLIM LINEAR DIFFUSED"},{value:"INSTARAY SLIM TILTABLE & DIFFUSED",label:"INSTARAY SLIM TILTABLE & DIFFUSED"},{value:"MAGNETIC TRACK LIGHT ACCESSORIES",label:"MAGNETIC TRACK LIGHT ACCESSORIES"},{value:"MULTIBLE ZOOM LIGHT",label:"MULTIBLE ZOOM LIGHT"},{value:"TRACK LIGHT WHITE",label:"TRACK LIGHT WHITE"},{value:"TRACK LIGHT BLACK",label:"TRACK LIGHT BLACK"},{value:"TRACK LIGHT ACCESSORIES",label:"TRACK LIGHT ACCESSORIES"},{value:"IP20 STRIP LIGHT (24V DC)",label:"IP20 STRIP LIGHT (24V DC)"},{value:"IP65 STRIP LIGHT (24V DC)",label:"IP65 STRIP LIGHT (24V DC)"},{value:"COB STRIP LIGHT",label:"COB STRIP LIGHT"},{value:"POWER SUPPLY FOR IP20 STRIP LIGHT",label:"POWER SUPPLY FOR IP20 STRIP LIGHT"},{value:"POWER SUPPLY FOR IP65 STRIP LIGHT",label:"POWER SUPPLY FOR IP65 STRIP LIGHT"},{value:"BULK HEAD",label:"BULK HEAD"},{value:"PIT LIGHT",label:"PIT LIGHT"},{value:"WELL GLASS",label:"WELL GLASS"},{value:"HIGHBAY (>100 Lm/W)",label:"HIGHBAY (>100 Lm/W)"},{value:"ULTRALITE HIGHBAY (>130 Lm/W)",label:"ULTRALITE HIGHBAY (>130 Lm/W)"}]};function Be(e){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(e)}function Ea(e,t){if(Be(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Be(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pa(e){var t=Ea(e,"string");return Be(t)=="symbol"?t:t+""}function me(e,t,r){return(t=pa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lt(Object(r),!0).forEach(function(n){me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ct(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ca(e){if(Array.isArray(e))return ct(e)}function Ia(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dt(e,t){if(e){if(typeof e=="string")return ct(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ct(e,t):void 0}}function Na(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oe(e){return Ca(e)||Ia(e)||Dt(e)||Na()}function ja(e){if(Array.isArray(e))return e}function Ra(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,f=[],x=!0,y=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;x=!1}else for(;!(x=(n=s.call(r)).done)&&(f.push(n.value),f.length!==t);x=!0);}catch(v){y=!0,i=v}finally{try{if(!x&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(y)throw i}}return f}}function La(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(e,t){return ja(e)||Ra(e,t)||Dt(e,t)||La()}var it={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Mt;function Ma(){return Mt||(Mt=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var f=arguments[o];f&&(s=i(s,n(f)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var f in s)t.call(s,f)&&s[f]&&(o=i(o,f));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(it)),it.exports}var Aa=Ma();const Ye=Zt(Aa);function Xe(e){var t=l.useRef();t.current=e;var r=l.useCallback(function(){for(var n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(s))},[]);return r}function Ta(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var At=Ta()?l.useLayoutEffect:l.useEffect,Ut=function(t,r){var n=l.useRef(!0);At(function(){return t(n.current)},r),At(function(){return n.current=!1,function(){n.current=!0}},[])},Tt=function(t,r){Ut(function(n){if(!n)return t()},r)};function wt(e){var t=l.useRef(!1),r=l.useState(e),n=J(r,2),i=n[0],s=n[1];l.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function o(f,x){x&&t.current||s(f)}return[i,o]}function ot(e){return e!==void 0}function wa(e,t){var r=t||{},n=r.defaultValue,i=r.value,s=r.onChange,o=r.postState,f=wt(function(){return ot(i)?i:ot(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),x=J(f,2),y=x[0],v=x[1],p=i!==void 0?i:y,I=o?o(p):p,S=Xe(s),C=wt([p]),g=J(C,2),d=g[0],m=g[1];Tt(function(){var h=d[0];y!==h&&S(y,h)},[d]),Tt(function(){ot(i)||v(i)},[i]);var c=Xe(function(h,L){v(h,L),m([p],L)});return[I,c]}var ut={},Oa=function(t){};function Pa(e,t){}function ka(e,t){}function Da(){ut={}}function Ht(e,t,r){!t&&!ut[r]&&(e(!1,r),ut[r]=!0)}function ze(e,t){Ht(Pa,e,t)}function Ua(e,t){Ht(ka,e,t)}ze.preMessage=Oa;ze.resetWarned=Da;ze.noteOnce=Ua;function Ha(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(s,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=n.has(s);if(ze(!x,"Warning: There may be circular references"),x)return!1;if(s===o)return!0;if(r&&f>1)return!1;n.add(s);var y=f+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var v=0;v<s.length;v++)if(!i(s[v],o[v],y))return!1;return!0}if(s&&o&&Be(s)==="object"&&Be(o)==="object"){var p=Object.keys(s);return p.length!==Object.keys(o).length?!1:p.every(function(I){return i(s[I],o[I],y)})}return!1}return i(e,t)}function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},et.apply(null,arguments)}function Fa(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ft(e,t){if(e==null)return{};var r,n,i=Fa(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dt(e,t,r){return(e-t)/(r-t)}function ft(e,t,r,n){var i=dt(t,r,n),s={};switch(e){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function We(e,t){return Array.isArray(e)?e[t]:e}var z={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Ke=l.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),_a=l.createContext({}),Ga=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Ot=l.forwardRef(function(e,t){var r=e.prefixCls,n=e.value,i=e.valueIndex,s=e.onStartMove,o=e.onDelete,f=e.style,x=e.render,y=e.dragging,v=e.draggingDelete,p=e.onOffsetChange,I=e.onChangeComplete,S=e.onFocus,C=e.onMouseEnter,g=Ft(e,Ga),d=l.useContext(Ke),m=d.min,c=d.max,h=d.direction,L=d.disabled,A=d.keyboard,O=d.range,W=d.tabIndex,Q=d.ariaLabelForHandle,M=d.ariaLabelledByForHandle,N=d.ariaRequired,j=d.ariaValueTextFormatterForHandle,R=d.styles,D=d.classNames,$="".concat(r,"-handle"),F=function(k){L||s(k,i)},V=function(k){S==null||S(k,i)},G=function(k){C(k,i)},B=function(k){if(!L&&A){var T=null;switch(k.which||k.keyCode){case z.LEFT:T=h==="ltr"||h==="btt"?-1:1;break;case z.RIGHT:T=h==="ltr"||h==="btt"?1:-1;break;case z.UP:T=h!=="ttb"?1:-1;break;case z.DOWN:T=h!=="ttb"?-1:1;break;case z.HOME:T="min";break;case z.END:T="max";break;case z.PAGE_UP:T=2;break;case z.PAGE_DOWN:T=-2;break;case z.BACKSPACE:case z.DELETE:o==null||o(i);break}T!==null&&(k.preventDefault(),p(T,i))}},oe=function(k){switch(k.which||k.keyCode){case z.LEFT:case z.RIGHT:case z.UP:case z.DOWN:case z.HOME:case z.END:case z.PAGE_UP:case z.PAGE_DOWN:I==null||I();break}},Ce=ft(h,n,m,c),ve={};if(i!==null){var Ie;ve={tabIndex:L?null:We(W,i),role:"slider","aria-valuemin":m,"aria-valuemax":c,"aria-valuenow":n,"aria-disabled":L,"aria-label":We(Q,i),"aria-labelledby":We(M,i),"aria-required":We(N,i),"aria-valuetext":(Ie=We(j,i))===null||Ie===void 0?void 0:Ie(n),"aria-orientation":h==="ltr"||h==="rtl"?"horizontal":"vertical",onMouseDown:F,onTouchStart:F,onFocus:V,onMouseEnter:G,onKeyDown:B,onKeyUp:oe}}var je=l.createElement("div",et({ref:t,className:Ye($,me(me(me({},"".concat($,"-").concat(i+1),i!==null&&O),"".concat($,"-dragging"),y),"".concat($,"-dragging-delete"),v),D.handle),style:ae(ae(ae({},Ce),f),R.handle)},ve,g));return x&&(je=x(je,{index:i,prefixCls:r,value:n,dragging:y,draggingDelete:v})),je}),Ba=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],$a=l.forwardRef(function(e,t){var r=e.prefixCls,n=e.style,i=e.onStartMove,s=e.onOffsetChange,o=e.values,f=e.handleRender,x=e.activeHandleRender,y=e.draggingIndex,v=e.draggingDelete,p=e.onFocus,I=Ft(e,Ba),S=l.useRef({}),C=l.useState(!1),g=J(C,2),d=g[0],m=g[1],c=l.useState(-1),h=J(c,2),L=h[0],A=h[1],O=function(j){A(j),m(!0)},W=function(j,R){O(R),p==null||p(j)},Q=function(j,R){O(R)};l.useImperativeHandle(t,function(){return{focus:function(j){var R;(R=S.current[j])===null||R===void 0||R.focus()},hideHelp:function(){xa.flushSync(function(){m(!1)})}}});var M=ae({prefixCls:r,onStartMove:i,onOffsetChange:s,render:f,onFocus:W,onMouseEnter:Q},I);return l.createElement(l.Fragment,null,o.map(function(N,j){var R=y===j;return l.createElement(Ot,et({ref:function($){$?S.current[j]=$:delete S.current[j]},dragging:R,draggingDelete:R&&v,style:We(n,j),key:j,value:N,valueIndex:j},M))}),x&&d&&l.createElement(Ot,et({key:"a11y"},M,{value:o[L],valueIndex:null,dragging:y!==-1,draggingDelete:v,render:x,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Wa=function(t){var r=t.prefixCls,n=t.style,i=t.children,s=t.value,o=t.onClick,f=l.useContext(Ke),x=f.min,y=f.max,v=f.direction,p=f.includedStart,I=f.includedEnd,S=f.included,C="".concat(r,"-text"),g=ft(v,s,x,y);return l.createElement("span",{className:Ye(C,me({},"".concat(C,"-active"),S&&p<=s&&s<=I)),style:ae(ae({},g),n),onMouseDown:function(m){m.stopPropagation()},onClick:function(){o(s)}},i)},Ya=function(t){var r=t.prefixCls,n=t.marks,i=t.onClick,s="".concat(r,"-mark");return n.length?l.createElement("div",{className:s},n.map(function(o){var f=o.value,x=o.style,y=o.label;return l.createElement(Wa,{key:f,prefixCls:s,style:x,value:f,onClick:i},y)})):null},Ka=function(t){var r=t.prefixCls,n=t.value,i=t.style,s=t.activeStyle,o=l.useContext(Ke),f=o.min,x=o.max,y=o.direction,v=o.included,p=o.includedStart,I=o.includedEnd,S="".concat(r,"-dot"),C=v&&p<=n&&n<=I,g=ae(ae({},ft(y,n,f,x)),typeof i=="function"?i(n):i);return C&&(g=ae(ae({},g),typeof s=="function"?s(n):s)),l.createElement("span",{className:Ye(S,me({},"".concat(S,"-active"),C)),style:g})},Va=function(t){var r=t.prefixCls,n=t.marks,i=t.dots,s=t.style,o=t.activeStyle,f=l.useContext(Ke),x=f.min,y=f.max,v=f.step,p=l.useMemo(function(){var I=new Set;if(n.forEach(function(C){I.add(C.value)}),i&&v!==null)for(var S=x;S<=y;)I.add(S),S+=v;return Array.from(I)},[x,y,v,i,n]);return l.createElement("div",{className:"".concat(r,"-step")},p.map(function(I){return l.createElement(Ka,{prefixCls:r,key:I,value:I,style:s,activeStyle:o})}))},Pt=function(t){var r=t.prefixCls,n=t.style,i=t.start,s=t.end,o=t.index,f=t.onStartMove,x=t.replaceCls,y=l.useContext(Ke),v=y.direction,p=y.min,I=y.max,S=y.disabled,C=y.range,g=y.classNames,d="".concat(r,"-track"),m=dt(i,p,I),c=dt(s,p,I),h=function(W){!S&&f&&f(W,-1)},L={};switch(v){case"rtl":L.right="".concat(m*100,"%"),L.width="".concat(c*100-m*100,"%");break;case"btt":L.bottom="".concat(m*100,"%"),L.height="".concat(c*100-m*100,"%");break;case"ttb":L.top="".concat(m*100,"%"),L.height="".concat(c*100-m*100,"%");break;default:L.left="".concat(m*100,"%"),L.width="".concat(c*100-m*100,"%")}var A=x||Ye(d,me(me({},"".concat(d,"-").concat(o+1),o!==null&&C),"".concat(r,"-track-draggable"),f),g.track);return l.createElement("div",{className:A,style:ae(ae({},L),n),onMouseDown:h,onTouchStart:h})},qa=function(t){var r=t.prefixCls,n=t.style,i=t.values,s=t.startPoint,o=t.onStartMove,f=l.useContext(Ke),x=f.included,y=f.range,v=f.min,p=f.styles,I=f.classNames,S=l.useMemo(function(){if(!y){if(i.length===0)return[];var g=s??v,d=i[0];return[{start:Math.min(g,d),end:Math.max(g,d)}]}for(var m=[],c=0;c<i.length-1;c+=1)m.push({start:i[c],end:i[c+1]});return m},[i,y,s,v]);if(!x)return null;var C=S!=null&&S.length&&(I.tracks||p.tracks)?l.createElement(Pt,{index:null,prefixCls:r,start:S[0].start,end:S[S.length-1].end,replaceCls:Ye(I.tracks,"".concat(r,"-tracks")),style:p.tracks}):null;return l.createElement(l.Fragment,null,C,S.map(function(g,d){var m=g.start,c=g.end;return l.createElement(Pt,{index:d,prefixCls:r,style:ae(ae({},We(n,d)),p.track),start:m,end:c,key:d,onStartMove:o})}))},Xa=130;function kt(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function za(e,t,r,n,i,s,o,f,x,y,v){var p=l.useState(null),I=J(p,2),S=I[0],C=I[1],g=l.useState(-1),d=J(g,2),m=d[0],c=d[1],h=l.useState(!1),L=J(h,2),A=L[0],O=L[1],W=l.useState(r),Q=J(W,2),M=Q[0],N=Q[1],j=l.useState(r),R=J(j,2),D=R[0],$=R[1],F=l.useRef(null),V=l.useRef(null),G=l.useRef(null),B=l.useContext(_a),oe=B.onDragStart,Ce=B.onDragChange;Ut(function(){m===-1&&N(r)},[r,m]),l.useEffect(function(){return function(){document.removeEventListener("mousemove",F.current),document.removeEventListener("mouseup",V.current),G.current&&(G.current.removeEventListener("touchmove",F.current),G.current.removeEventListener("touchend",V.current))}},[]);var ve=function(T,_,Z){_!==void 0&&C(_),N(T);var ee=T;Z&&(ee=T.filter(function(U,te){return te!==m})),o(ee),Ce&&Ce({rawValues:T,deleteIndex:Z?m:-1,draggingIndex:m,draggingValue:_})},Ie=Xe(function(k,T,_){if(k===-1){var Z=D[0],ee=D[D.length-1],U=n-Z,te=i-ee,se=T*(i-n);se=Math.max(se,U),se=Math.min(se,te);var Re=s(Z+se);se=Re-Z;var de=D.map(function(xe){return xe+se});ve(de)}else{var ge=(i-n)*T,he=Oe(M);he[k]=D[k];var be=x(he,ge,k,"dist");ve(be.values,be.value,_)}}),je=function(T,_,Z){T.stopPropagation();var ee=Z||r,U=ee[_];c(_),C(U),$(ee),N(ee),O(!1);var te=kt(T),se=te.pageX,Re=te.pageY,de=!1;oe&&oe({rawValues:ee,draggingIndex:_,draggingValue:U});var ge=function(xe){xe.preventDefault();var ie=kt(xe),Pe=ie.pageX,ye=ie.pageY,ke=Pe-se,Se=ye-Re,ce=e.current.getBoundingClientRect(),Ne=ce.width,Le=ce.height,Ee,pe;switch(t){case"btt":Ee=-Se/Le,pe=ke;break;case"ttb":Ee=Se/Le,pe=ke;break;case"rtl":Ee=-ke/Ne,pe=Se;break;default:Ee=ke/Ne,pe=Se}de=y?Math.abs(pe)>Xa&&v<M.length:!1,O(de),Ie(_,Ee,de)},he=function be(xe){xe.preventDefault(),document.removeEventListener("mouseup",be),document.removeEventListener("mousemove",ge),G.current&&(G.current.removeEventListener("touchmove",F.current),G.current.removeEventListener("touchend",V.current)),F.current=null,V.current=null,G.current=null,f(de),c(-1),O(!1)};document.addEventListener("mouseup",he),document.addEventListener("mousemove",ge),T.currentTarget.addEventListener("touchend",he),T.currentTarget.addEventListener("touchmove",ge),F.current=ge,V.current=he,G.current=T.currentTarget},le=l.useMemo(function(){var k=Oe(r).sort(function(U,te){return U-te}),T=Oe(M).sort(function(U,te){return U-te}),_={};T.forEach(function(U){_[U]=(_[U]||0)+1}),k.forEach(function(U){_[U]=(_[U]||0)-1});var Z=y?1:0,ee=Object.values(_).reduce(function(U,te){return U+Math.abs(te)},0);return ee<=Z?M:r},[r,M,y]);return[m,S,A,le,je]}function Qa(e,t,r,n,i,s){var o=l.useCallback(function(S){return Math.max(e,Math.min(t,S))},[e,t]),f=l.useCallback(function(S){if(r!==null){var C=e+Math.round((o(S)-e)/r)*r,g=function(h){return(String(h).split(".")[1]||"").length},d=Math.max(g(r),g(t),g(e)),m=Number(C.toFixed(d));return e<=m&&m<=t?m:null}return null},[r,e,t,o]),x=l.useCallback(function(S){var C=o(S),g=n.map(function(c){return c.value});r!==null&&g.push(f(S)),g.push(e,t);var d=g[0],m=t-e;return g.forEach(function(c){var h=Math.abs(C-c);h<=m&&(d=c,m=h)}),d},[e,t,n,r,o,f]),y=function S(C,g,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof g=="number"){var c,h=C[d],L=h+g,A=[];n.forEach(function(N){A.push(N.value)}),A.push(e,t),A.push(f(h));var O=g>0?1:-1;m==="unit"?A.push(f(h+O*r)):A.push(f(L)),A=A.filter(function(N){return N!==null}).filter(function(N){return g<0?N<=h:N>=h}),m==="unit"&&(A=A.filter(function(N){return N!==h}));var W=m==="unit"?h:L;c=A[0];var Q=Math.abs(c-W);if(A.forEach(function(N){var j=Math.abs(N-W);j<Q&&(c=N,Q=j)}),c===void 0)return g<0?e:t;if(m==="dist")return c;if(Math.abs(g)>1){var M=Oe(C);return M[d]=c,S(M,g-O,d,m)}return c}else{if(g==="min")return e;if(g==="max")return t}},v=function(C,g,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",c=C[d],h=y(C,g,d,m);return{value:h,changed:h!==c}},p=function(C){return s===null&&C===0||typeof s=="number"&&C<s},I=function(C,g,d){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",c=C.map(x),h=c[d],L=y(c,g,d,m);if(c[d]=L,i===!1){var A=s||0;d>0&&c[d-1]!==h&&(c[d]=Math.max(c[d],c[d-1]+A)),d<c.length-1&&c[d+1]!==h&&(c[d]=Math.min(c[d],c[d+1]-A))}else if(typeof s=="number"||s===null){for(var O=d+1;O<c.length;O+=1)for(var W=!0;p(c[O]-c[O-1])&&W;){var Q=v(c,1,O);c[O]=Q.value,W=Q.changed}for(var M=d;M>0;M-=1)for(var N=!0;p(c[M]-c[M-1])&&N;){var j=v(c,-1,M-1);c[M-1]=j.value,N=j.changed}for(var R=c.length-1;R>0;R-=1)for(var D=!0;p(c[R]-c[R-1])&&D;){var $=v(c,-1,R-1);c[R-1]=$.value,D=$.changed}for(var F=0;F<c.length-1;F+=1)for(var V=!0;p(c[F+1]-c[F])&&V;){var G=v(c,1,F+1);c[F+1]=G.value,V=G.changed}}return{value:c[d],values:c}};return[x,I]}function Za(e){return l.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,r=e.draggableTrack,n=e.minCount,i=e.maxCount;return[!0,t,!t&&r,n||0,i]},[e])}var Ja=l.forwardRef(function(e,t){var r=e.prefixCls,n=r===void 0?"rc-slider":r,i=e.className,s=e.style,o=e.classNames,f=e.styles,x=e.id,y=e.disabled,v=y===void 0?!1:y,p=e.keyboard,I=p===void 0?!0:p,S=e.autoFocus,C=e.onFocus,g=e.onBlur,d=e.min,m=d===void 0?0:d,c=e.max,h=c===void 0?100:c,L=e.step,A=L===void 0?1:L,O=e.value,W=e.defaultValue,Q=e.range,M=e.count,N=e.onChange,j=e.onBeforeChange,R=e.onAfterChange,D=e.onChangeComplete,$=e.allowCross,F=$===void 0?!0:$,V=e.pushable,G=V===void 0?!1:V,B=e.reverse,oe=e.vertical,Ce=e.included,ve=Ce===void 0?!0:Ce,Ie=e.startPoint,je=e.trackStyle,le=e.handleStyle,k=e.railStyle,T=e.dotStyle,_=e.activeDotStyle,Z=e.marks,ee=e.dots,U=e.handleRender,te=e.activeHandleRender,se=e.track,Re=e.tabIndex,de=Re===void 0?0:Re,ge=e.ariaLabelForHandle,he=e.ariaLabelledByForHandle,be=e.ariaRequired,xe=e.ariaValueTextFormatterForHandle,ie=l.useRef(null),Pe=l.useRef(null),ye=l.useMemo(function(){return oe?B?"ttb":"btt":B?"rtl":"ltr"},[B,oe]),ke=Za(Q),Se=J(ke,5),ce=Se[0],Ne=Se[1],Le=Se[2],Ee=Se[3],pe=Se[4],re=l.useMemo(function(){return isFinite(m)?m:0},[m]),u=l.useMemo(function(){return isFinite(h)?h:100},[h]),E=l.useMemo(function(){return A!==null&&A<=0?1:A},[A]),Y=l.useMemo(function(){return typeof G=="boolean"?G?E:!1:G>=0?G:!1},[G,E]),q=l.useMemo(function(){return Object.keys(Z||{}).map(function(w){var b=Z[w],P={value:Number(w)};return b&&Be(b)==="object"&&!l.isValidElement(b)&&("label"in b||"style"in b)?(P.style=b.style,P.label=b.label):P.label=b,P}).filter(function(w){var b=w.label;return b||typeof b=="number"}).sort(function(w,b){return w.value-b.value})},[Z]),De=Qa(re,u,E,q,F,Y),fe=J(De,2),K=fe[0],Ue=fe[1],_t=wa(W,{value:O}),mt=J(_t,2),He=mt[0],Gt=mt[1],ne=l.useMemo(function(){var w=He==null?[]:Array.isArray(He)?He:[He],b=J(w,1),P=b[0],H=P===void 0?re:P,X=He===null?[]:[H];if(ce){if(X=Oe(w),M||He===void 0){var Fe=M>=0?M+1:2;for(X=X.slice(0,Fe);X.length<Fe;){var Me;X.push((Me=X[X.length-1])!==null&&Me!==void 0?Me:re)}}X.sort(function(Ae,Te){return Ae-Te})}return X.forEach(function(Ae,Te){X[Te]=K(Ae)}),X},[He,ce,re,M,K]),Ve=function(b){return ce?b:b[0]},tt=Xe(function(w){var b=Oe(w).sort(function(P,H){return P-H});N&&!Ha(b,ne,!0)&&N(Ve(b)),Gt(b)}),vt=Xe(function(w){w&&ie.current.hideHelp();var b=Ve(ne);R==null||R(b),ze(!R,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),D==null||D(b)}),Bt=function(b){if(!(v||!Ne||ne.length<=Ee)){var P=Oe(ne);P.splice(b,1),j==null||j(Ve(P)),tt(P);var H=Math.max(0,b-1);ie.current.hideHelp(),ie.current.focus(H)}},$t=za(Pe,ye,ne,re,u,K,tt,vt,Ue,Ne,Ee),Qe=J($t,5),gt=Qe[0],Wt=Qe[1],Yt=Qe[2],nt=Qe[3],ht=Qe[4],bt=function(b,P){if(!v){var H=Oe(ne),X=0,Fe=0,Me=u-re;ne.forEach(function(_e,at){var Nt=Math.abs(b-_e);Nt<=Me&&(Me=Nt,X=at),_e<b&&(Fe=at)});var Ae=X;Ne&&Me!==0&&(!pe||ne.length<pe)?(H.splice(Fe+1,0,b),Ae=Fe+1):H[X]=b,ce&&!ne.length&&M===void 0&&H.push(b);var Te=Ve(H);if(j==null||j(Te),tt(H),P){var $e,qe;($e=document.activeElement)===null||$e===void 0||(qe=$e.blur)===null||qe===void 0||qe.call($e),ie.current.focus(Ae),ht(P,Ae,H)}else R==null||R(Te),ze(!R,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),D==null||D(Te)}},Kt=function(b){b.preventDefault();var P=Pe.current.getBoundingClientRect(),H=P.width,X=P.height,Fe=P.left,Me=P.top,Ae=P.bottom,Te=P.right,$e=b.clientX,qe=b.clientY,_e;switch(ye){case"btt":_e=(Ae-qe)/X;break;case"ttb":_e=(qe-Me)/X;break;case"rtl":_e=(Te-$e)/H;break;default:_e=($e-Fe)/H}var at=re+_e*(u-re);bt(K(at),b)},Vt=l.useState(null),xt=J(Vt,2),lt=xt[0],yt=xt[1],qt=function(b,P){if(!v){var H=Ue(ne,b,P);j==null||j(Ve(ne)),tt(H.values),yt(H.value)}};l.useEffect(function(){if(lt!==null){var w=ne.indexOf(lt);w>=0&&ie.current.focus(w)}yt(null)},[lt]);var Xt=l.useMemo(function(){return Le&&E===null?!1:Le},[Le,E]),St=Xe(function(w,b){ht(w,b),j==null||j(Ve(ne))}),Et=gt!==-1;l.useEffect(function(){if(!Et){var w=ne.lastIndexOf(Wt);ie.current.focus(w)}},[Et]);var Ze=l.useMemo(function(){return Oe(nt).sort(function(w,b){return w-b})},[nt]),zt=l.useMemo(function(){return ce?[Ze[0],Ze[Ze.length-1]]:[re,Ze[0]]},[Ze,ce,re]),pt=J(zt,2),Ct=pt[0],It=pt[1];l.useImperativeHandle(t,function(){return{focus:function(){ie.current.focus(0)},blur:function(){var b,P=document,H=P.activeElement;(b=Pe.current)!==null&&b!==void 0&&b.contains(H)&&(H==null||H.blur())}}}),l.useEffect(function(){S&&ie.current.focus(0)},[]);var Qt=l.useMemo(function(){return{min:re,max:u,direction:ye,disabled:v,keyboard:I,step:E,included:ve,includedStart:Ct,includedEnd:It,range:ce,tabIndex:de,ariaLabelForHandle:ge,ariaLabelledByForHandle:he,ariaRequired:be,ariaValueTextFormatterForHandle:xe,styles:f||{},classNames:o||{}}},[re,u,ye,v,I,E,ve,Ct,It,ce,de,ge,he,be,xe,f,o]);return l.createElement(Ke.Provider,{value:Qt},l.createElement("div",{ref:Pe,className:Ye(n,i,me(me(me(me({},"".concat(n,"-disabled"),v),"".concat(n,"-vertical"),oe),"".concat(n,"-horizontal"),!oe),"".concat(n,"-with-marks"),q.length)),style:s,onMouseDown:Kt,id:x},l.createElement("div",{className:Ye("".concat(n,"-rail"),o==null?void 0:o.rail),style:ae(ae({},k),f==null?void 0:f.rail)}),se!==!1&&l.createElement(qa,{prefixCls:n,style:je,values:ne,startPoint:Ie,onStartMove:Xt?St:void 0}),l.createElement(Va,{prefixCls:n,marks:q,dots:ee,style:T,activeStyle:_}),l.createElement($a,{ref:ie,prefixCls:n,style:le,values:nt,draggingIndex:gt,draggingDelete:Yt,onStartMove:St,onOffsetChange:qt,onFocus:C,onBlur:g,handleRender:U,activeHandleRender:te,onChangeComplete:vt,onDelete:Ne?Bt:void 0}),l.createElement(Ya,{prefixCls:n,marks:q,onClick:bt})))});const yr=()=>{var Ne,Le,Ee,pe,re;const{organizationId:e}=Jt(),t=ea(),[r,n]=l.useState(""),[i,s]=l.useState(""),[o,f]=l.useState(""),[x,y]=l.useState(""),[v,p]=l.useState(""),[I,S]=l.useState(""),[C,g]=l.useState(""),[d,m]=l.useState("0"),[c,h]=l.useState("100000"),[L,A]=l.useState(!1),[O,W]=l.useState(null),[Q,M]=l.useState(null),[N,j]=l.useState(""),R=st(r,500),D=st(d,800),$=st(c,800),{data:F}=ma(e),V=F==null?void 0:F.map(u=>({_id:u._id,projectName:u.projectName})),G=(Ne=F||[])==null?void 0:Ne.map(u=>({value:u._id,label:u.projectName}));l.useEffect(()=>{V&&V.length>0&&!N&&j(V[0]._id)},[V,N]);const{data:B,refetch:oe}=va({organizationId:e,projectId:N}),Ce=ga(),ve=ha(),Ie=ba(),je=l.useMemo(()=>({search:R,category:i,subcategory:o,model:v,watt:I,itemCode:C,minMrp:D?Number(D):void 0,maxMrp:$?Number($):void 0,brand:x}),[R,i,o,v,I,C,D,x,$]),{data:le,isLoading:k,isError:T,error:_,fetchNextPage:Z,hasNextPage:ee,isFetchingNextPage:U,refetch:te}=oa(e,je),se=ca(),Re=ua(),de=da(),ge=u=>{if(!(B!=null&&B.items))return 0;const E=B.items.find(Y=>Y.productId===u);return E?E.quantity:0},he=async u=>{var E,Y;if(!N){ue({title:"Error",description:"Please select a project first",variant:"destructive"});return}try{await Ce.mutateAsync({organizationId:e,projectId:N,productId:u._id,quantity:1,specification:u.specification}),ue({title:"Success",description:"Item added to cart successfully"}),oe()}catch(q){ue({title:"Error",description:((Y=(E=q==null?void 0:q.response)==null?void 0:E.data)==null?void 0:Y.message)||"Failed to add item to cart",variant:"destructive"})}},be=async(u,E)=>{var Y,q,De,fe;if(B!=null&&B._id){if(E===0){try{await Ie.mutateAsync({cartId:B._id,productId:u}),ue({title:"Success",description:"Item removed from cart"}),oe()}catch(K){ue({title:"Error",description:((q=(Y=K==null?void 0:K.response)==null?void 0:Y.data)==null?void 0:q.message)||"Failed to remove item from cart",variant:"destructive"})}return}try{await ve.mutateAsync({cartId:B._id,productId:u,quantity:E}),ue({title:"Success",description:"Cart updated successfully"}),oe()}catch(K){ue({title:"Error",description:((fe=(De=K==null?void 0:K.response)==null?void 0:De.data)==null?void 0:fe.message)||"Failed to update cart",variant:"destructive"})}}},xe=async u=>{try{await se.mutateAsync({organizationId:e,specification:u}),ue({title:"Added",description:"Material inventory added successfully"}),A(!1)}catch(E){M(E.message),ue({title:"Error",description:E.message,variant:"destructive"})}},ie=async(u,E)=>{try{await Re.mutateAsync({id:u,specification:E}),ue({title:"Updated",description:"Material inventory updated successfully"}),W(null)}catch(Y){M(Y.message),ue({title:"Error",description:Y.message,variant:"destructive"})}},Pe=async u=>{try{await de.mutateAsync({id:u}),ue({title:"Deleted",description:"Material inventory deleted"})}catch(E){M(E.message),ue({title:"Error",description:E.message,variant:"destructive"})}},ye=l.useRef(null);l.useEffect(()=>{const u=()=>{if(!ye.current||U||!ee)return;const Y=ye.current,{scrollTop:q,scrollHeight:De,clientHeight:fe}=Y;q+fe>=De-300&&(console.log("Fetching next page..."),Z())},E=ye.current;if(E)return E.addEventListener("scroll",u),()=>E.removeEventListener("scroll",u)},[Z,U,ee]);const ke=r!==R||d!==D||c!==$;if(location.pathname.includes("single")||location.pathname.includes("cart"))return a.jsx(ta,{});const ce=u=>{const E=u.specification||{},Y=E.imageUrl||E.image||null,q=ge(u._id),De=q>0,fe=Ce.isPending||ve.isPending||Ie.isPending;return a.jsxs(aa,{className:"mb-4 shadow-xl border border-gray-100",children:[a.jsx(ra,{className:"flex flex-row items-center justify-between pb-2",children:a.jsxs("div",{className:"flex items-center gap-4",children:[Y&&a.jsx("img",{src:Y,alt:"img",className:"w-16 h-16 object-cover rounded-lg border border-gray-400"}),a.jsxs("div",{children:[a.jsx(na,{className:"text-lg font-bold text-blue-900",children:Je(E.subcategory||E.name||E.model||"Unnamed",22)}),a.jsxs(la,{className:"text-xs text-gray-500 mt-1",children:[E.category&&a.jsx("span",{className:"mr-2",children:a.jsx(ia,{children:E.category})}),E.model&&a.jsxs("span",{className:"mr-2",children:["Model: ",a.jsx("span",{className:"font-semibold",children:Je(E.model,14)})]}),E.itemCode&&a.jsxs("span",{className:"mr-2",children:["Code: ",a.jsx("span",{className:"font-semibold",children:E.itemCode})]})]})]})]})}),a.jsxs(sa,{children:[a.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-700",children:[Object.entries(E).map(([K,Ue])=>["image","imageUrl","_id","organizationId","series","cct","mrp","itemCode"].includes(K)||typeof Ue=="object"||Ue===void 0||Ue===null?null:K==="description"?a.jsxs("div",{className:"bg-gray-50 rounded px-2 py-1 border border-gray-100",children:[a.jsxs("span",{className:"font-semibold capitalize",children:[Je(K,12),":"]}),Ue]},K):a.jsxs("div",{className:"bg-gray-50 rounded px-2 py-1 border border-gray-100",children:[a.jsxs("span",{className:"font-semibold capitalize",children:[Je(K,12),":"]})," ",Je(String(Ue),18)]},K)),E.mrp&&a.jsxs("div",{className:"text-blue-700 font-bold ml-auto text-[16px]",children:["₹",E.mrp]})]}),a.jsxs("section",{className:"flex justify-between items-center mt-4",children:[a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs(we,{size:"sm",variant:"primary",onClick:()=>t(`single/${u._id}`),children:[a.jsx("i",{className:"fas fa-eye mr-1"}),"View"]}),a.jsxs(we,{size:"sm",variant:"secondary",onClick:()=>W(u),children:[a.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]}),a.jsxs(we,{size:"sm",isLoading:de.isPending,variant:"danger",onClick:()=>Pe(u._id),className:"text-white bg-red-600",children:[a.jsx("i",{className:"fas fa-trash mr-1"}),"Delete"]})]}),a.jsx("div",{className:"flex gap-2 items-center",children:De?a.jsxs("div",{className:"flex items-center gap-2 bg-green-50 rounded-lg p-1 border border-green-200",children:[a.jsx(we,{size:"sm",onClick:()=>be(u._id,q-1),disabled:fe,variant:"danger",className:"w-8 h-8 p-0 bg-red-600 text-white rounded-md shadow-sm",children:a.jsx("i",{className:"fas fa-minus text-sm"})}),a.jsx("span",{className:"w-10 text-center font-bold text-green-700",children:q}),a.jsx(we,{size:"sm",variant:"primary",onClick:()=>be(u._id,q+1),disabled:fe,className:"w-8 h-8 p-0  rounded-md shadow-sm",children:a.jsx("i",{className:"fas fa-plus text-sm"})})]}):a.jsxs(we,{size:"sm",variant:"primary",onClick:()=>he(u),isLoading:fe,disabled:!N||fe,className:"bg-green-600 hover:bg-green-700 text-white w-full sm:w-auto",children:[a.jsx("i",{className:"fas fa-cart-plus mr-1"}),"Add to Cart"]})})]})]})]},u._id)};return a.jsxs("div",{className:"max-h-full overflow-y-auto bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-2",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[a.jsx("i",{className:"fas fa-list mr-3 text-blue-600"}),"Product Inventory List"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Discover the product that you want for you work here"})]}),a.jsxs("div",{className:"flex gap-2",children:[ke&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[a.jsx("i",{className:"fas fa-clock animate-pulse"}),a.jsx("span",{children:"Updating results..."})]}),a.jsx("div",{className:"w-full sm:w-64",children:a.jsx(ya,{options:G,placeholder:"Select project",searchPlaceholder:"Search projects...",value:N||void 0,onValueChange:u=>j(u||""),searchBy:"name",displayFormat:"simple",className:"w-full"})}),a.jsxs(we,{onClick:()=>t("cart"),variant:"primary",className:"relative w-full sm:w-auto",children:[a.jsx("i",{className:"fas fa-shopping-cart text-xl"}),B&&((Le=B.items)==null?void 0:Le.length)>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold",children:B.items.length})]})]})]})})}),a.jsx("div",{className:"px-2 sm:px-4 lg:px-8 py-6",children:a.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[a.jsx("div",{className:"xl:w-80 w-full flex-shrink-0",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx("i",{className:"fas fa-filter mr-2 text-blue-600"}),"Filters"]}),(i||o||v||I||C||d||c||r)&&a.jsx("button",{onClick:()=>{s(""),f(""),p(""),S(""),g(""),h("100000"),m("0"),n("")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear All"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Search",r!==R&&a.jsx("span",{className:"ml-2 text-xs text-amber-600",children:a.jsx("i",{className:"fas fa-circle animate-pulse"})})]}),a.jsx(Ge,{placeholder:"Search by Brand, Subcategory, Model, ItemCode...",value:r,onChange:u=>n(u.target.value.trim())})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsx("select",{value:i,onChange:u=>s(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:rt.categories.map(u=>a.jsx("option",{value:u.value,children:u.label},u.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),a.jsx("select",{value:x,onChange:u=>y(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:rt.brand.map(u=>a.jsx("option",{value:u.value,children:u.label},u.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),a.jsx("select",{value:o,onChange:u=>f(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:rt.subcategories.map(u=>a.jsx("option",{value:u.value,children:u.label},u.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),a.jsx("select",{value:v,onChange:u=>p(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:rt.models.map(u=>a.jsx("option",{value:u.value,children:u.label},u.value))})]}),a.jsxs("div",{className:"",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),a.jsx("div",{className:"px-2 mb-3",children:a.jsx(Ja,{range:!0,min:0,max:1e5,step:500,value:[Number(d),Number(c)],onChange:u=>{const[E,Y]=u;m(String(E)),h(String(Y))},trackStyle:[{backgroundColor:"#3b82f6",height:6}],handleStyle:[{borderColor:"#3b82f6",backgroundColor:"#fff",boxShadow:"0 2px 6px rgba(59, 130, 246, 0.4)",width:18,height:18,marginTop:-6},{borderColor:"#3b82f6",backgroundColor:"#fff",boxShadow:"0 2px 6px rgba(59, 130, 246, 0.4)",width:18,height:18,marginTop:-6}],railStyle:{backgroundColor:"#e5e7eb",height:6}})}),a.jsxs("div",{className:"flex justify-between items-center gap-2 text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Min"}),a.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg font-semibold text-blue-700 text-center",children:["₹",Number(d).toLocaleString("en-IN")]})]}),a.jsx("div",{className:"text-gray-400 mt-5",children:"—"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Max"}),a.jsxs("div",{className:"bg-blue-50 px-3 py-2 rounded-lg font-semibold text-blue-700 text-center",children:["₹",Number(c).toLocaleString("en-IN")]})]})]}),a.jsxs("div",{className:"flex flex-col gap-3 items-center mt-2",children:[a.jsx(Ge,{className:"",type:"number",value:d,onChange:u=>m(u.target.value)}),a.jsx(Ge,{className:"",type:"number",value:c,onChange:u=>h(u.target.value)})]})]})]})]})}),a.jsx("div",{className:"flex-1 !max-h-[95vh] overflow-y-auto custom-scrollbar",children:a.jsxs("div",{ref:ye,className:"h-full overflow-y-auto custom-scrollbar pr-2",children:[!N&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 rounded-lg p-4 mb-4 flex items-center",children:[a.jsx("i",{className:"fas fa-exclamation-triangle mr-3 text-xl"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Select a project to add items to cart"}),a.jsx("p",{className:"text-sm",children:"Choose a project from the dropdown above to enable cart functionality"})]})]}),Q&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),Q]}),a.jsx("button",{onClick:()=>M(null),className:"ml-4 text-red-400 hover:text-red-700",children:a.jsx("i",{className:"fas fa-times"})})]}),T&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),(_==null?void 0:_.message)||"Failed to load data"]}),a.jsx("button",{onClick:()=>te(),className:"ml-4 text-red-400 hover:text-red-700",children:a.jsx("i",{className:"fas fa-redo"})})]}),a.jsxs("div",{className:"max-h-[110%]  pr-2",children:[k?a.jsx(fa,{}):!((Ee=le==null?void 0:le.pages)!=null&&Ee.length)||!((re=(pe=le.pages[0])==null?void 0:pe.data)!=null&&re.length)?a.jsx(Sa,{message:"No material inventory found.",icon:"box",color:"gray"}):le.pages.map(u=>u.data.map(ce)),U&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx("i",{className:"fas fa-spinner fa-spin text-lg text-blue-400"})})]})]})})]})}),(L||O)&&a.jsx(er,{initialData:O==null?void 0:O.specification,onClose:()=>{A(!1),W(null)},onSubmit:async u=>{O?await ie(O._id,u):await xe(u)},isLoading:se.status==="pending"||Re.status==="pending"})]})},er=({initialData:e={},onClose:t,onSubmit:r,isLoading:n})=>{const[i,s]=l.useState({name:e.name||"",type:e.type||"",quantity:e.quantity||"",unit:e.unit||"",location:e.location||""}),[o,f]=l.useState(null),x=v=>{s(p=>({...p,[v.target.name]:v.target.value}))},y=async v=>{if(v.preventDefault(),!i.name)return f("Name is required");f(null),await r(i)};return a.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center",children:a.jsxs("form",{onSubmit:y,className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md space-y-4 relative",children:[a.jsx("button",{type:"button",className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700",onClick:t,children:a.jsx("i",{className:"fas fa-times"})}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:e!=null&&e.name?"Edit Material":"Add Material"}),a.jsx(Ge,{name:"name",placeholder:"Name",value:i.name,onChange:x}),a.jsx(Ge,{name:"type",placeholder:"Type",value:i.type,onChange:x}),a.jsx(Ge,{name:"quantity",placeholder:"Quantity",value:i.quantity,onChange:x,type:"number"}),a.jsx(Ge,{name:"unit",placeholder:"Unit",value:i.unit,onChange:x}),a.jsx(Ge,{name:"location",placeholder:"Location",value:i.location,onChange:x}),o&&a.jsx("div",{className:"text-red-500 text-sm",children:o}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(we,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),a.jsx(we,{type:"submit",variant:"primary",isLoading:n,children:"Save"})]})]})})};export{yr as default};
