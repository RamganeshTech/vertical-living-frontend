import{b as ee,u as se,r as j,j as e}from"./index-Duiduteo.js";import{t as x}from"./toast-BSC5QTk1.js";import{B as L}from"./Button-DF5tm_KZ.js";import{c as ae,d as te,e as re,f as le}from"./designLabApi-BFjg_u4P.js";const v=({className:o="",children:c,onClick:k})=>e.jsx("div",{onClick:k,className:`bg-white border border-gray-300 rounded-xl shadow-sm mb-6 overflow-hidden ${o}`,children:c}),y=({className:o="",children:c})=>e.jsx("div",{className:`px-6 py-3 bg-gray-100 border-b border-gray-300 ${o}`,children:c}),S=({className:o="",children:c})=>e.jsx("div",{className:`p-6 ${o}`,children:c}),w=({className:o="",children:c})=>e.jsx("h3",{className:`text-base font-extrabold text-gray-800 flex items-center gap-2 uppercase tracking-wide ${o}`,children:c}),ne=["Bedroom","Living Room","Kitchen","Bathroom","Foyer","Commercial"],ie=["Beginner","Intermediate","Advanced","Factory Pro"],oe=["Nos","Sqft","Sqmt","Rft","mm","Meters","Kg","Liters","Sheets","Box","Set","Bundle"],C={materialName:"",rate:"",unit:"Nos",labourCost:"",specsNotes:"",vendorId:null,vendorName:""},P=o=>{var c;return!o.materialName&&!o.vendorName&&!o.rate&&!o.labourCost&&!o.specsNotes&&!((c=o.image)!=null&&c.url)&&!o.tempFile&&(o.vendorId===""||o.vendorId===null)},ue=({initialData:o,mode:c,onSubmit:k,isLoading:D,onReset:F})=>{const g=ee(),A=se(),f=c==="create",[r,d]=j.useState({designerName:(g==null?void 0:g.name)||"Loading...",designDate:new Date().toISOString(),designCode:"",productName:"",spaceType:"",difficultyLevel:"Intermediate",status:"draft",referenceImages:[],newRefFiles:[],components:[{componentName:"New Component",materials:[{...C}]}],pros:"",cons:"",mistakes:"",visualLogic:"",variations:"",sequenceOfOperations:[{stepNumber:1,description:""}]}),[h,N]=j.useState(0),[T,R]=j.useState(!1),[_,M]=j.useState(""),{mutateAsync:U,isPending:q}=ae(),{mutateAsync:$,isPending:B}=te(),{mutateAsync:I,isPending:z}=re(),{mutateAsync:V,isPending:Y}=le();j.useEffect(()=>{o?(console.log("geting "),d(s=>({...s,...o}))):g!=null&&g.name&&c==="create"&&d(s=>({...s,designerName:(g==null?void 0:g.name)||""}))},[g==null?void 0:g.name,o,c]);const u=(s,t)=>{d(a=>({...a,[s]:t}))},H=async s=>{var a;if(!((a=s.target.files)!=null&&a.length))return;const t=Array.from(s.target.files);if(c==="create"){const l=t.map(i=>({url:URL.createObjectURL(i)}));d(i=>({...i,newRefFiles:[...i.newRefFiles,...t],referenceImages:[...i.referenceImages,...l]}))}else{if(!r._id)return;const l=new FormData;t.forEach(i=>l.append("files",i));try{await U({id:r._id,formData:l}),x({title:"Success",description:"Images uploaded successfully"})}catch{x({title:"Error",description:"Failed to upload images",variant:"destructive"})}}},K=async s=>{const t=r.referenceImages[s];if(c==="create"){const a=[...r.referenceImages];a.splice(s,1);const l=[...r.newRefFiles];if(s>=r.referenceImages.length-r.newRefFiles.length){const i=s-(r.referenceImages.length-r.newRefFiles.length);l.splice(i,1)}d(i=>({...i,referenceImages:a,newRefFiles:l})),h>=a.length&&N(Math.max(0,a.length-1))}else{if(!r._id||!t._id)return;try{await $({id:r._id,imageId:t._id}),x({title:"Success",description:"Image deleted"});const a=[...r.referenceImages];a.splice(s,1),d(l=>({...l,referenceImages:a})),h>=a.length&&N(Math.max(0,a.length-1))}catch{x({title:"Error",description:"Failed to delete image",variant:"destructive"})}}},E=s=>{r.referenceImages.length<=1||N(t=>s==="prev"?t===0?r.referenceImages.length-1:t-1:t===r.referenceImages.length-1?0:t+1)},G=(s,t)=>{let a=[...r.sequenceOfOperations];a[s].description=t,s===a.length-1&&t.trim()!==""&&a.push({stepNumber:a.length+1,description:""}),t.trim()===""&&s!==a.length-1&&(a.splice(s,1),a.forEach((l,i)=>l.stepNumber=i+1)),d(l=>({...l,sequenceOfOperations:a}))},J=()=>{d(s=>({...s,components:[...s.components,{componentName:"New Component",materials:[{...C}]}]}))},Q=s=>{const t=[...r.components];t.splice(s,1),d(a=>({...a,components:t}))},W=(s,t)=>{const a=[...r.components];a[s].componentName=t,d(l=>({...l,components:a}))},p=(s,t,a,l)=>{const i=[...r.components];i[s].materials[t]={...i[s].materials[t],[a]:l};const n=i[s].materials,m=n[t];t===n.length-1&&!P(m)&&n.push({...C}),P(m)&&t!==n.length-1&&n.splice(t,1),d(b=>({...b,components:i}))},X=(s,t)=>{const a=[...r.components];a[s]&&a[s].materials&&(a[s].materials.splice(t,1),a[s].materials.length===0&&a[s].materials.push({...C}),d(l=>({...l,components:a})))},O=async(s,t,a)=>{if(c==="create"){const l=[...r.components];l[s].materials[t].tempFile=a,l[s].materials[t].image={url:URL.createObjectURL(a)},p(s,t,"tempFile",a)}else{const l=r.components[s]._id,i=r.components[s].materials[t]._id;if(!l||!i){const m=[...r.components];m[s].materials[t].tempFile=a,m[s].materials[t].image={url:URL.createObjectURL(a)},d(b=>({...b,components:m}));return}const n=new FormData;n.append("files",a);try{await I({id:r._id,componentId:l,materialId:i,formData:n}),x({title:"Success",description:"Material image uploaded"});const m=[...r.components];m[s].materials[t].image={url:URL.createObjectURL(a)},d(b=>({...b,components:m}))}catch{x({title:"Error",description:"Failed to upload material image",variant:"destructive"})}}},Z=async(s,t)=>{if(c==="create"){const a=[...r.components];a[s].materials[t].image=null,a[s].materials[t].tempFile=void 0,p(s,t,"image",null)}else{const a=r.components[s]._id,l=r.components[s].materials[t]._id;if(!a||!l){const i=[...r.components];i[s].materials[t].image=null,i[s].materials[t].tempFile=void 0,d(n=>({...n,components:i}));return}try{await V({id:r._id,componentId:a,materialId:l}),x({title:"Success",description:"Material image deleted"});const i=[...r.components];i[s].materials[t].image=null,d(n=>({...n,components:i}))}catch{x({title:"Error",description:"Failed to delete material image",variant:"destructive"})}}};return e.jsxs("div",{className:"max-h-full overflow-y-auto bg-gray-100 text-gray-800 font-sans",children:[e.jsxs("header",{className:"bg-white border-b border-gray-300 px-8 py-3 sticky top-0 z-50 shadow-sm flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>A(-1),className:"bg-blue-100 hover:bg-slate-300 flex items-center justify-between w-8 h-8 border border-[#a6aab8] text-sm cursor-pointer rounded-md px-2",children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsx("div",{className:"bg-blue-600 p-2 rounded text-white",children:e.jsx("i",{className:"fas fa-drafting-compass text-lg"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 leading-none",children:c==="create"?"New Specification":"Edit Specification"}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Design Lab Control â€¢ ",r.designCode]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[F&&e.jsxs(L,{variant:"outline",onClick:F,disabled:D,className:"h-9 text-sm border-gray-300 text-gray-600 hover:bg-gray-50",children:[e.jsx("i",{className:"fas fa-undo mr-2"})," Reset"]}),e.jsxs(L,{onClick:()=>k(r),isLoading:D,className:"h-9 text-sm bg-blue-700 hover:bg-blue-800 text-white shadow-md",children:[e.jsx("i",{className:"fas fa-save mr-2"})," ",c==="create"?"Create Design":"Save Changes"]})]})]}),e.jsxs("div",{className:"max-w-full mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-300",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-4 tracking-wider",children:"Basic Details"}),!f&&e.jsx("div",{children:e.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["Design Code: "," ",e.jsx("span",{className:"text-blue-700 text-sm",children:r==null?void 0:r.designCode})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-13 gap-6 items-end",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Designer Name"}),e.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded text-sm font-bold text-gray-700",value:r.designerName})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Design Date"}),e.jsx("input",{type:"date",className:"w-full p-2.5 bg-white border border-gray-300 rounded text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none",value:r.designDate.split("T")[0],name:"designDate",onChange:s=>u("designDate",s.target.value)})]}),e.jsxs("div",{className:`${f?"md:col-span-4":"md:col-span-3"}`,children:[e.jsx("label",{className:"block text-xs font-bold text-blue-700 mb-1",children:"Product / Design Name"}),e.jsx("input",{className:"w-full p-2.5 bg-white border border-gray-300 rounded text-sm font-bold text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter Name...",name:"productName",value:r.productName,onChange:s=>u("productName",s.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-blue-700 mb-1",children:"Space Type"}),e.jsxs("select",{className:"w-full p-2.5 bg-white border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:r.spaceType,name:"productName",onChange:s=>u("spaceType",s.target.value),children:[e.jsx("option",{value:"",children:"Select..."}),ne.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:`${f?"md:col-span-2":"md:col-span-3"}`,children:[e.jsx("label",{className:"block text-xs font-bold text-blue-700 mb-1",children:"Difficulty"}),e.jsx("select",{className:"w-full p-2.5 bg-white border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:r.difficultyLevel,name:"difficultyLevel",onChange:s=>u("difficultyLevel",s.target.value),children:ie.map(s=>e.jsx("option",{value:s,children:s},s))})]})]})]}),e.jsxs(v,{children:[e.jsxs(y,{className:"flex justify-between items-center",children:[e.jsxs(w,{children:[e.jsx("i",{className:"fas fa-images text-blue-600"})," Reference Images"]}),e.jsxs("label",{className:"cursor-pointer bg-white border border-blue-600 text-blue-600 hover:bg-blue-50 px-4 py-2 rounded font-bold text-xs uppercase transition-colors flex items-center gap-2",children:[q?e.jsx("i",{className:"fas fa-spinner animate-spin text-[10px]"}):e.jsx("i",{className:"fas fa-upload"})," Upload Photos",e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:H})]})]}),e.jsx(S,{children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"relative w-full h-[400px] bg-gray-300 rounded-lg overflow-hidden flex items-center justify-center group",children:r.referenceImages.length>0?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:r.referenceImages[h].url,className:"h-full max-w-full object-contain",onClick:()=>{M(r.referenceImages[h].url),R(!0)}}),e.jsx("button",{onClick:s=>{s.stopPropagation(),E("prev")},className:"absolute left-4 bg-black/50 text-white p-3 rounded-full hover:bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("i",{className:"fas fa-chevron-left"})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),E("next")},className:"absolute right-4 bg-black/50 text-white p-3 rounded-full hover:bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("i",{className:"fas fa-chevron-right"})}),e.jsxs("span",{className:"absolute bottom-4 right-4 bg-black/70 text-white px-3 py-1 rounded text-xs font-bold",children:[h+1," / ",r.referenceImages.length]})]}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("i",{className:"fas fa-image text-5xl mb-3 opacity-30"}),e.jsx("p",{className:"text-sm",children:"No images uploaded yet."}),e.jsx("p",{className:"text-xs opacity-70",children:"(Upload 2-5 images for best results)"})]})}),r.referenceImages.length>0&&e.jsx("div",{className:"w-full overflow-x-auto pb-2 flex justify-center",children:e.jsx("div",{className:"flex gap-3",children:r.referenceImages.map((s,t)=>e.jsxs("div",{className:"relative group/thumb",children:[e.jsx("img",{src:s.url,onClick:()=>N(t),className:`h-[80px] w-[120px] object-cover rounded border-2 cursor-pointer transition-all ${h===t?"border-blue-600 opacity-100 shadow-md":"border-transparent opacity-60 hover:opacity-100"}`}),e.jsx("button",{onClick:a=>{a.stopPropagation(),K(t)},className:"absolute !cursor-pointer -top-1 -right-2 bg-white text-red-500 rounded-full w-5 h-5 flex items-center justify-center shadow-md opacity-0 group-hover/thumb:opacity-100 transition-opacity border border-gray-200 z-10",title:"Delete Image",children:B?e.jsx("i",{className:"fas fa-spinner animate-spin text-[10px]"}):e.jsx("i",{className:"fas fa-trash text-[10px]"})})]},t))})})]})})]}),e.jsxs(v,{children:[e.jsxs(y,{className:"flex justify-between items-center",children:[e.jsxs(w,{children:[e.jsx("i",{className:"fas fa-cubes text-blue-400"})," Design Components"]}),e.jsxs(L,{onClick:J,className:"bg-blue-600 hover:bg-blue-500 border-none text-white text-xs h-8",children:[e.jsx("i",{className:"fas fa-plus mr-2"})," Add Component"]})]}),e.jsx("div",{className:"p-6 bg-gray-50 space-y-8",children:r.components.map((s,t)=>e.jsxs("div",{className:"bg-white border border-gray-300 rounded-xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 bg-gray-100 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-blue-600 text-white flex items-center justify-center text-sm font-bold",children:t+1}),e.jsx("input",{className:"bg-transparent text-lg font-bold text-gray-800 border-b-2 border-transparent hover:border-gray-300 focus:border-blue-600 outline-none px-1 w-1/2 transition-all placeholder-gray-400",placeholder:"Component Name...",value:s.componentName,onChange:a=>W(t,a.target.value)})]}),e.jsx("button",{onClick:()=>Q(t),className:"text-gray-400 hover:text-red-600 p-2",children:e.jsx("i",{className:"fas fa-trash-alt text-lg"})})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"flex gap-3 px-4 py-2 text-xs font-bold text-gray-500 uppercase border-b border-gray-100",children:[e.jsx("div",{className:"w-[60px] text-center",children:"Img"}),e.jsx("div",{className:"flex-[2]",children:"Material Name"}),e.jsx("div",{className:"flex-[2]",children:"Vendor"}),e.jsx("div",{className:"w-[80px]",children:"Rate"}),e.jsx("div",{className:"w-[80px]",children:"Unit"}),e.jsx("div",{className:"w-[80px]",children:"Labour"}),e.jsx("div",{className:"flex-[3]",children:"Specs / Notes"}),e.jsx("div",{className:"w-[40px] text-center",children:"Del"})]}),e.jsx("div",{className:"divide-y divide-gray-50",children:s.materials.map((a,l)=>{var i;return e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-blue-50 transition-colors group",children:[e.jsx("div",{className:"w-[70px] h-[70px] shrink-0 relative bg-gray-100 border border-gray-200 rounded overflow-hidden group/img",children:(i=a.image)!=null&&i.url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:a.image.url,className:"w-full h-full object-cover cursor-pointer",onClick:()=>{M(a.image.url),R(!0)}}),e.jsxs("div",{className:"absolute inset-0 bg-black/40 hidden group-hover/img:flex flex-col items-end p-1 gap-1",children:[e.jsxs("label",{className:"cursor-pointer bg-white text-blue-600 w-5 h-5 flex items-center justify-center rounded shadow hover:bg-blue-50",title:"Change Image",children:[e.jsx("i",{className:"fas fa-sync-alt text-[10px]"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:n=>{var m;return((m=n.target.files)==null?void 0:m[0])&&O(t,l,n.target.files[0])}})]}),e.jsx("button",{onClick:()=>Z(t,l),className:"bg-white cursor-pointer text-red-500 w-5 h-5 flex items-center justify-center rounded shadow hover:bg-red-50",title:"Remove Image",children:Y?e.jsx("i",{className:"fas fa-spinner animate-spin text-[10px]"}):e.jsx("i",{className:"fas fa-trash text-[10px]"})})]})]}):e.jsxs("label",{className:"w-full h-full flex items-center justify-center cursor-pointer text-gray-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Upload Image",children:[z?e.jsx("i",{className:"fas fa-spinner animate-spin text-[10px]"}):e.jsx("i",{className:"fas fa-camera"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:n=>{var m;return((m=n.target.files)==null?void 0:m[0])&&O(t,l,n.target.files[0])}})]})}),e.jsx("div",{className:"flex-[2]",children:e.jsx("input",{className:"w-full p-2 text-sm border border-gray-300 rounded focus:border-blue-500 outline-none",placeholder:"Name",value:a.materialName,onChange:n=>p(t,l,"materialName",n.target.value)})}),e.jsx("div",{className:"flex-[2] relative group/vendor",children:e.jsx("input",{className:"w-full p-2 text-sm bg-gray-50 border border-gray-300 rounded outline-none",placeholder:"Manual Vendor",value:a.vendorName||"",onChange:n=>p(t,l,"vendorName",n.target.value)})}),e.jsx("div",{className:"w-[80px]",children:e.jsx("input",{type:"number",className:"w-full p-2 text-sm text-right border border-gray-300 rounded outline-none",placeholder:"0",value:a.rate,onChange:n=>p(t,l,"rate",n.target.value)})}),e.jsx("div",{className:"w-[80px]",children:e.jsx("select",{className:"w-full p-2 text-sm border border-gray-300 rounded outline-none bg-white",value:a.unit,onChange:n=>p(t,l,"unit",n.target.value),children:oe.map(n=>e.jsx("option",{value:n,children:n},n))})}),e.jsx("div",{className:"w-[80px]",children:e.jsx("input",{type:"number",className:"w-full p-2 text-sm text-right border border-gray-300 rounded outline-none",placeholder:"0",value:a.labourCost,onChange:n=>p(t,l,"labourCost",n.target.value)})}),e.jsx("div",{className:"flex-[3]",children:e.jsx("input",{className:"w-full p-2 text-sm border border-gray-300 rounded outline-none",placeholder:"Specs...",value:a.specsNotes,onChange:n=>p(t,l,"specsNotes",n.target.value)})}),e.jsx("div",{className:"w-[40px] text-center",children:l!==s.materials.length-1&&e.jsx("button",{onClick:()=>X(t,l),className:"text-gray-300 hover:text-red-500",children:e.jsx("i",{className:"fas fa-times-circle text-xl"})})})]},l)})})]})]},t))})]}),e.jsxs(v,{children:[e.jsx(y,{children:e.jsxs(w,{children:[e.jsx("i",{className:"fas fa-brain text-purple-600"})," Logic, Pros & Cons"]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase mb-1 block",children:"Pros"}),e.jsx("textarea",{className:"w-full p-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-200 outline-none text-sm",rows:3,value:r.pros,name:"pros",onChange:s=>u("pros",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase mb-1 block",children:"Cons"}),e.jsx("textarea",{className:"w-full p-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-200 outline-none text-sm",rows:3,value:r.cons,name:"cons",onChange:s=>u("cons",s.target.value)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase mb-1 block",children:"Mistakes to Avoid"}),e.jsx("textarea",{className:"w-full p-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-200 outline-none text-sm",rows:3,value:r.mistakes,name:"mistakes",onChange:s=>u("mistakes",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase mb-1 block",children:"Visual Logic"}),e.jsx("textarea",{className:"w-full p-3 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-200 outline-none text-sm",rows:3,value:r.visualLogic,name:"visualLogic",onChange:s=>u("visualLogic",s.target.value)})]})]})]})})]}),e.jsxs(v,{children:[e.jsx(y,{children:e.jsxs(w,{children:[e.jsx("i",{className:"fas fa-list-ol text-teal-600"})," Sequence of Operations"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:r.sequenceOfOperations.map((s,t)=>e.jsxs("div",{className:"flex items-start gap-4 group",children:[e.jsx("div",{className:"mt-2 w-8 h-8 rounded-full bg-teal-100 text-teal-700 font-bold flex items-center justify-center shrink-0 border border-teal-200 shadow-sm",children:t+1}),e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{className:"w-full bg-white border border-gray-300 rounded-lg p-3 text-sm shadow-sm focus:border-teal-500 focus:ring-1 focus:ring-teal-200 outline-none resize-none overflow-hidden min-h-[46px]",rows:1,placeholder:"Describe step...",value:s.description,onInput:a=>{a.currentTarget.style.height="auto",a.currentTarget.style.height=a.currentTarget.scrollHeight+"px"},onChange:a=>G(t,a.target.value)})})]},t))})})]})]}),T&&e.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/95 backdrop-blur-sm flex items-center justify-center p-6",onClick:()=>R(!1),children:[e.jsx("button",{className:"absolute top-5 right-5 text-white/70 hover:text-white text-3xl transition-colors",children:e.jsx("i",{className:"fas fa-times"})}),e.jsx("img",{src:_,className:"max-h-[90vh] max-w-[90vw] object-contain rounded shadow-2xl border border-white/20",onClick:s=>s.stopPropagation()})]})]})};export{ue as D};
