import{r as v,j as e,B as L,t as m,k as K,u as Y,af as q,a as J,M as X}from"./index-BAM0eJUz.js";import{C as Z}from"./Card-CdxfjEr-.js";import{I as G}from"./Input-1UBXZqEj.js";import{A as ee,S as te}from"./AssignStaff-Bt6qrEbL.js";import{R as se}from"./ResetStageButton-DaUxSSZv.js";import{u as ae,a as le,b as ie,c as re,d as ne,e as ce,f as de,g as oe}from"./materialArrivalNewApi-DZ-ZzQcg.js";import{d as xe}from"./dateFormator-BGKi5rfZ.js";import{u as me}from"./useDebounce-DSMcRuVp.js";import{r as ge}from"./index-C8BdbktQ.js";import{S as he}from"./StageGuide-e28gQ0h1.js";import"./getAllUsersApi-O0JEgRtZ.js";const fe=({enableCreate:t,projectId:C,context:c,label:b,generateLink:j,isPending:l,data:d})=>{const[o,u]=v.useState(""),[g,w]=v.useState(!1);v.useEffect(()=>{typeof d=="string"&&u(d)},[d]);const A=async()=>{try{await navigator.clipboard.writeText(o),w(!0),setTimeout(()=>w(!1),1500)}catch{m({title:"Error",description:"Failed to copy link",variant:"destructive"})}},E=()=>{const f=encodeURIComponent(`Hey, please check this ${c} link:\`${o}`);window.open(`https://wa.me/?text=${f}`,"_blank")},h=async()=>{var f,$;try{const a=await j({projectId:C});a!=null&&a.shareableUrl&&(u(a.shareableUrl),m({title:"Link generated",description:"You can now share the link",variant:"default"}))}catch(a){m({title:"Error",description:(($=(f=a==null?void 0:a.response)==null?void 0:f.data)==null?void 0:$.message)||(a==null?void 0:a.message)||"Failed to generate link",variant:"destructive"})}};return e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-sm w-full max-w-xl",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-link"})," ",b||"Generate Shareable Link"]})}),o?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[e.jsx(G,{readOnly:!0,value:o,className:"flex-1 text-sm cursor-default"}),e.jsxs(L,{onClick:A,variant:"outline",className:"flex gap-2",children:[e.jsx("i",{className:`fas ${g?"fa-check-circle":"fa-copy"}`}),g?"Copied":"Copy"]}),e.jsxs(L,{onClick:E,className:"bg-green-500 hover:bg-green-600 text-white flex gap-2",children:[e.jsx("i",{className:"fab fa-whatsapp"}),"Share"]})]}):e.jsx(e.Fragment,{children:t&&e.jsx(L,{onClick:h,disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white",children:l?"Generating...":"Generate Link"})})]})},ue=({orderGroup:t,projectId:C})=>{var o,u;const[c,b]=v.useState(!0),j=((o=t.subItems)==null?void 0:o.length)||0,l=((u=t.subItems)==null?void 0:u.filter(g=>g.isVerified).length)||0,d=j>0&&j===l;return e.jsxs("div",{className:`border border-gray-200 rounded-xl bg-white shadow-sm mb-6 transition-all duration-200 overflow-hidden ${c?"ring-1 ring-gray-200":""}`,children:[e.jsxs("div",{onClick:()=>b(!c),className:"flex items-center justify-between p-5 cursor-pointer bg-white hover:bg-gray-50 transition-colors border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg shadow-sm border ${d?"bg-green-50 border-green-200 text-green-600":"bg-blue-50 border-blue-200 text-blue-600"}`,children:e.jsx("i",{className:`fa-solid ${d?"fa-clipboard-check":"fa-clipboard-list"}`})}),e.jsxs("div",{className:"flex flex-col",children:[(t==null?void 0:t.materialArrivalDeptNumber)&&e.jsx("h4",{className:"font-bold text-gray-900 text-base sm:text-lg tracking-tight leading-none",children:t.materialArrivalDeptNumber}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Order Material (Order Id):"}),e.jsx("span",{className:"text-xs font-mono font-semibold text-gray-600 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100",children:t.orderMaterialDeptNumber||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2.5",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-gray-100 border border-gray-200 text-[10px] font-bold text-gray-600 uppercase tracking-wide",children:[e.jsx("i",{className:"fa-solid fa-layer-group text-gray-400"}),j," Items"]}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md border text-[10px] font-bold uppercase tracking-wide ${d?"bg-green-50 border-green-200 text-green-700":"bg-orange-50 border-orange-200 text-orange-700"}`,children:[e.jsx("i",{className:`fa-solid ${d?"fa-circle-check":"fa-clock"}`}),d?"All Verified":`${l}/${j} Verified`]})]})]})]}),e.jsx("div",{className:"text-gray-400",children:e.jsx("i",{className:`fa-solid fa-chevron-down transition-transform duration-300 ${c?"rotate-180":""}`})})]}),c&&e.jsx("div",{className:"bg-white w-full overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto w-full",children:e.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider w-[50px] text-center",children:"#"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Material Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-center min-w-[120px]",children:"Ordered"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-center min-w-[120px]",children:"Unit"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-center min-w-[120px]",children:"Arrived"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-center min-w-[150px]",children:"Image"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-center min-w-[140px]",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:t==null?void 0:t.subItems.map((g,w)=>e.jsx(pe,{item:g,idx:w,projectId:C,orderNumber:t.orderMaterialDeptNumber},g._id||w))})]})})})]})},pe=({item:t,idx:C,projectId:c,orderNumber:b})=>{var M,I;const{mutateAsync:j,isPending:l}=ae(),{mutateAsync:d}=le(),{mutateAsync:o,isPending:u}=ie(),{mutateAsync:g,isPending:w}=re(),[A,E]=v.useState(!1),[h,f]=v.useState(null),[$,a]=v.useState(!1),[p,R]=v.useState((t==null?void 0:t.arrivedQuantity)||0),{role:Q,permission:i}=K(),O=Q==="owner"||((M=i==null?void 0:i.materialarrival)==null?void 0:M.create),n=Q==="owner"||((I=i==null?void 0:i.materialarrival)==null?void 0:I.edit),r=t.images||[],k=r&&r.length>0?r[r.length-1]:null,y=h!==null?r[h]:null,T=s=>{f(s),E(!0)},D=()=>{E(!1),f(null)},z=()=>{h!==null&&f((h+1)%r.length)},F=()=>{h!==null&&f((h-1+r.length)%r.length)};v.useEffect(()=>{const s=x=>{A&&(x.key==="ArrowRight"&&z(),x.key==="ArrowLeft"&&F(),x.key==="Escape"&&D())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[A,h]);const V=me(p,500);v.useEffect(()=>{if(V===t.arrivedQuantity)return;(async()=>{try{await d({projectId:c,orderNumber:b,subItemId:t._id,arrivedQuantity:V}),m({title:"Success",description:"Quantity updated"})}catch(x){m({title:"Error",description:(x==null?void 0:x.message)||"Failed",variant:"destructive"})}})()},[V]);const U=async s=>{var x,_,P;try{const S=(x=s.target)==null?void 0:x.files;if(!S||S.length===0)return;const W=new FormData;Array.from(S).forEach(H=>{H.type.startsWith("image/")&&W.append("upload",H)}),await o({projectId:c,orderNumber:b,subItemId:t._id,formData:W}),m({description:"Successfully uploaded images",title:"Success"})}catch(S){m({title:"Error",description:((P=(_=S==null?void 0:S.response)==null?void 0:_.data)==null?void 0:P.message)||S.message||"Failed to upload images",variant:"destructive"})}},B=async()=>{try{await j({projectId:c,orderNumber:b,subItemId:t._id,toggle:!t.isVerified}),m({title:"Success",description:"Status updated"})}catch(s){m({title:"Error",description:(s==null?void 0:s.message)||"Failed",variant:"destructive"})}},N=async s=>{var x,_;try{await g({projectId:c,orderNumber:b,subItemId:t._id,imageid:s}),r.length<=1?D():F(),m({description:"Successfully deleted",title:"Success"})}catch(P){m({title:"Error",description:((_=(x=P==null?void 0:P.response)==null?void 0:x.data)==null?void 0:_.message)||P.message||"Failed to delete images",variant:"destructive"})}};return e.jsxs("tr",{className:`group transition-colors align-middle ${t.isVerified?"bg-green-50/40":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:"text-gray-400 font-mono text-sm",children:C+1})}),e.jsx("td",{className:"px-6 py-4 align-middle",children:e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("span",{className:"font-semibold text-gray-800 text-sm md:text-base leading-tight",children:t.subItemName}),t.refId&&e.jsxs("span",{className:"text-[11px] text-gray-400 mt-1 font-mono",children:["ID: ",t.refId]})]})}),e.jsx("td",{className:"px-6 py-4 text-center align-middle",children:e.jsx("div",{className:"inline-flex flex-col items-center justify-center bg-gray-100 rounded px-3 py-1.5 min-w-[70px]",children:e.jsx("span",{className:"font-bold text-gray-700 text-sm",children:t.orderedQuantity})})}),e.jsx("td",{className:"px-6 py-4 text-center align-middle",children:e.jsx("div",{className:"inline-flex flex-col items-center justify-center bg-gray-100 rounded px-3 py-1.5 min-w-[70px]",children:e.jsx("span",{className:"text-[10px] uppercase text-gray-500 font-medium",children:t.unit})})}),e.jsx("td",{className:"px-6 py-4 text-center align-middle",children:e.jsxs("div",{className:`
            flex flex-col items-center justify-center rounded px-3 py-1.5 !border-black 
            ${p<t.orderedQuantity?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"}
        `,children:[e.jsx("input",{type:"number",value:p,disabled:!O&&!n,onChange:s=>R(Number(s.target.value)),className:`
                            disabled:cursor-not-allowed
                w-full text-center font-semibold text-sm rounded-md 
                bg-white outline-none border px-2 py-1 transition
                ${p<t.orderedQuantity?"text-orange-600 border-orange-300":"text-green-600 border-green-300"}
                focus:ring-2 focus:ring-blue-400
            `}),e.jsx("span",{className:"text-[10px] uppercase text-gray-400 mt-1 font-medium",children:"Arrived"})]})}),e.jsx("td",{className:"px-6 py-4 text-center align-middle",children:k?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{onClick:()=>T(r.length-1),className:"relative h-20 w-28 mx-auto rounded-lg border border-gray-200 overflow-hidden cursor-pointer shadow-sm hover:shadow-md hover:ring-2 hover:ring-blue-400 transition-all bg-white group-hover:scale-105 duration-200",children:[e.jsx("img",{src:k.url,alt:"Proof",className:"w-full h-full object-cover"}),r.length>1&&e.jsxs("div",{className:"absolute top-1 right-1 bg-black/70 text-white text-[10px] px-1.5 py-0.5 rounded-md font-bold flex items-center gap-1 backdrop-blur-sm",children:[e.jsx("i",{className:"fa-solid fa-images text-[8px]"}),"+",r.length-1]}),e.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass-plus text-white opacity-0 hover:opacity-100 shadow-lg"})})]}),(O||n)&&e.jsxs("label",{className:"mt-2 block text-xs text-blue-600 cursor-pointer text-center hover:bg-blue-100 bg-blue-50 rounded-2xl w-fit mx-auto px-3 border border-blue-200",children:[u?e.jsx("i",{className:"fas fa-spinner animate-spin"}):"Add Photo",e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:U})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:`img-upload-${t._id}`,className:"h-20 cursor-pointer w-28 mx-auto rounded-lg bg-gray-50 border border-gray-200 border-dashed flex flex-col items-center justify-center text-gray-400 hover:bg-gray-100 transition-colors",children:u?e.jsx("i",{className:"fas fa-spinner animate-spin text-xl"}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-regular fa-image text-xl mb-1"}),e.jsx("span",{className:"text-[10px] font-medium tracking-tight",children:"Tap to Upload"})]})}),e.jsx("input",{id:`img-upload-${t._id}`,multiple:!0,type:"file",className:"hidden",accept:"image/*",onChange:U})]})}),e.jsx("td",{className:"px-6 py-4 text-center align-middle",children:(O||n)&&e.jsx(L,{onClick:B,disabled:l,variant:"primary",size:"sm",className:`w-full py-2 px-4 text-xs font-semibold rounded-md shadow-sm transition-all ${t.isVerified?"!bg-green-600":""} `,children:l?e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:`fa-solid ${t.isVerified?"fa-check-circle":"fa-shield-halved"}`}),e.jsx("span",{children:t.isVerified?"Verified":"Verify"})]})})}),$&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/80 z-[9999] flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>a(!1),children:e.jsxs("div",{className:"relative max-w-4xl w-full bg-white rounded-xl overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 z-10",children:e.jsx("button",{onClick:()=>a(!1),className:"bg-black/50 hover:bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors",children:e.jsx("i",{className:"fa-solid fa-times"})})}),e.jsx("div",{className:"bg-gray-900 flex items-center justify-center min-h-[400px]",children:e.jsx("img",{src:k.url,alt:"Full view",className:"max-w-full max-h-[80vh] object-contain"})}),e.jsxs("div",{className:"p-4 bg-white border-t flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-gray-800",children:t.subItemName}),e.jsx("p",{className:"text-sm text-gray-500",children:k.originalName||"Uploaded Image"})]}),e.jsx("span",{className:"text-xs text-gray-500 font-mono bg-gray-100 px-2 py-1 rounded",children:xe(k.uploadedAt)})]})]})}),A&&y&&ge.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/90 flex items-center justify-center backdrop-blur-sm",onClick:D,children:[e.jsxs("div",{className:"absolute top-6 right-6 flex items-center gap-4",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),N(y._id)},className:"bg-white/10 hover:bg-white/20 text-white rounded-full p-3 backdrop-blur-md",children:w?e.jsx("i",{className:"fas fa-spinner animate-spin text-lg"}):e.jsx("i",{className:"fas fa-trash-alt text-lg"})}),e.jsx("button",{onClick:D,className:"bg-white/10 hover:bg-white/20 text-white rounded-full p-3 backdrop-blur-md",children:e.jsx("i",{className:"fas fa-times text-xl"})})]}),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),F()},className:"absolute left-6 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white rounded-full p-4 backdrop-blur-md transition-all active:scale-95",children:e.jsx("i",{className:"fas fa-chevron-left text-2xl"})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),z()},className:"absolute right-6 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white rounded-full p-4 backdrop-blur-md transition-all active:scale-95",children:e.jsx("i",{className:"fas fa-chevron-right text-2xl"})})]}),e.jsx("div",{className:"w-[85vw] h-[80vh] flex items-center justify-center",onClick:s=>s.stopPropagation(),children:e.jsx("img",{src:y.url,alt:"Proof Detail",className:"max-w-full max-h-full object-contain shadow-2xl rounded-sm"})}),e.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"text-white/60 text-[10px] uppercase tracking-widest bg-black/40 px-3 py-1 rounded-md",children:["Uploaded: ",new Date(y.uploadedAt).toLocaleDateString()]}),e.jsxs("div",{className:"text-white text-sm bg-blue-600 px-4 py-1.5 rounded-full font-bold shadow-lg",children:[h+1," / ",r.length]})]})]}),document.body)]})},Me=()=>{var F,V,U,B;const{projectId:t,organizationId:C}=Y(),{isMobile:c,openMobileSidebar:b}=q(),j=J(),{data:l,isLoading:d,error:o,isError:u,refetch:g}=ne(t),{mutateAsync:w,isPending:A}=ce(),{mutateAsync:E,isPending:h}=de(),{mutateAsync:f,isPending:$}=oe(),{role:a,permission:p}=K(),R=a==="owner"||((F=p==null?void 0:p.materialarrival)==null?void 0:F.create),Q=a==="owner"||((V=p==null?void 0:p.materialarrival)==null?void 0:V.edit);if(d)return e.jsx(X,{});const{timer:i,generatedLink:O,materialArrivalList:n}=l||{};console.log("materialArrivalList",n);const r=async()=>{var N,M;try{await f({projectId:t}),m({description:"Completion status updated successfully",title:"Success"}),j("../installation")}catch(I){m({title:"Error",description:((M=(N=I==null?void 0:I.response)==null?void 0:N.data)==null?void 0:M.message)||(I==null?void 0:I.message)||"Failed to update status",variant:"destructive"})}},k=(n==null?void 0:n.flatMap(N=>N.subItems||[]))||[],y=k.length,T=k.filter(N=>N.isVerified).length,D=y-T,z=y>0?Math.round(T/y*100):0;return e.jsxs("div",{className:"w-full h-full flex flex-col p-2",children:[e.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4 pb-3",children:[e.jsxs("h2",{className:"text-2xl sm:text-2xl lg:text-2xl xl:text-3xl font-semibold text-blue-600 flex items-center",children:[c&&e.jsx("button",{onClick:b,className:"mr-3 p-2 rounded-md border-gray-300 hover:bg-gray-100",children:e.jsx("i",{className:"fa-solid fa-bars"})}),e.jsx("i",{className:"fa-solid fa-receipt mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Material Checking"}),e.jsx("span",{className:"sm:hidden",children:"Material Check"})]}),(R||Q)&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsxs(L,{isLoading:$,onClick:r,className:"bg-green-600 hover:bg-green-700 text-white w-full sm:w-auto whitespace-nowrap",children:[e.jsx("i",{className:"fa-solid fa-circle-check mr-2"}),"Mark as Complete"]}),e.jsx(se,{projectId:t,stageNumber:9,stagePath:"materialarrivalcheck"}),e.jsx(ee,{stageName:"MaterialArrivalModel",projectId:t,organizationId:C,currentAssignedStaff:(l==null?void 0:l.assignedTo)||null})]}),e.jsx("div",{className:"w-full sm:w-auto flex justify-end sm:block",children:e.jsx(he,{organizationId:C,stageName:"materialarrival"})})]}),u&&e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-xl p-4 bg-red-50 border border-red-200 rounded-lg shadow text-center",children:[e.jsx("div",{className:"text-red-600 font-semibold mb-2",children:"⚠️ Error Occurred"}),e.jsx("p",{className:"text-red-500 text-sm mb-4",children:((B=(U=o==null?void 0:o.response)==null?void 0:U.data)==null?void 0:B.message)||"Failed to load data"}),e.jsx(L,{onClick:()=>g(),className:"bg-red-600 text-white hover:bg-red-700",children:"Retry"})]})}),!u&&e.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4 sm:space-y-6",children:[e.jsxs(Z,{className:"p-4 w-full shadow border-l-4 border-blue-600 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3 text-blue-700 text-sm font-medium mb-2",children:[e.jsx("i",{className:"fa-solid fa-clock text-blue-500 text-lg"}),e.jsx("span",{children:"Stage Timings"})]}),e.jsx(te,{stageName:"materialarrivalcheck",completedAt:i==null?void 0:i.completedAt,projectId:t,formId:l==null?void 0:l._id,deadLine:i==null?void 0:i.deadLine,startedAt:i==null?void 0:i.startedAt,refetchStageMutate:g,deadLineMutate:E,isPending:h})]}),e.jsxs("section",{className:"w-full rounded-xl shadow-lg border border-gray-200 overflow-hidden bg-white",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-opacity-10 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-boxes-stacked text-2xl text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"Material Verification Center"}),e.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Review arrival status per order"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:y}),e.jsx("div",{className:"text-gray-300 text-sm",children:"Total Items"})]})]}),y>0&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-700 bg-opacity-50 rounded-lg p-3 backdrop-blur-sm flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-500/20 rounded-full flex items-center justify-center text-emerald-400",children:e.jsx("i",{className:"fa-solid fa-check"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold",children:T}),e.jsx("div",{className:"text-xs text-gray-300",children:"Verified"})]})]}),e.jsxs("div",{className:"bg-slate-700 bg-opacity-50 rounded-lg p-3 backdrop-blur-sm flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-500/20 rounded-full flex items-center justify-center text-amber-400",children:e.jsx("i",{className:"fa-solid fa-clock"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold",children:D}),e.jsx("div",{className:"text-xs text-gray-300",children:"Pending"})]})]}),e.jsxs("div",{className:"bg-slate-700 bg-opacity-50 rounded-lg p-3 backdrop-blur-sm flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-500/20 rounded-full flex items-center justify-center text-indigo-400",children:e.jsx("i",{className:"fa-solid fa-chart-pie"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold",children:[z,"%"]}),e.jsx("div",{className:"text-xs text-gray-300",children:"Complete"})]})]})]})]}),e.jsx("div",{className:"p-4 bg-gray-50",children:n&&(n==null?void 0:n.length)>0?e.jsx("div",{className:"space-y-4",children:n==null?void 0:n.map((N,M)=>e.jsx(ue,{orderGroup:N,projectId:t},M))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[e.jsx("i",{className:"fa-solid fa-box-open text-4xl mb-3 opacity-50"}),e.jsx("p",{children:"No material orders synced yet."})]})})]}),e.jsx("section",{className:"mt-4",children:e.jsx(fe,{enableCreate:R||Q,projectId:t,context:"Material",stage:"materialarrival",data:O,isPending:A,generateLink:w})})]})]})};export{Me as default};
