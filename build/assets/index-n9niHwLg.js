import{N as Kt,r as u}from"./index-BAM0eJUz.js";import{r as Xt}from"./index-C8BdbktQ.js";function Ee(e){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(e)}function Yt(e,t){if(Ee(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ee(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bt(e){var t=Yt(e,"string");return Ee(t)=="symbol"?t:t+""}function Z(e,t,r){return(t=Bt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(r),!0).forEach(function(n){Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function qt(e){if(Array.isArray(e))return Qe(e)}function Gt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ot(e,t){if(e){if(typeof e=="string")return Qe(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qe(e,t):void 0}}function Vt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fe(e){return qt(e)||Gt(e)||Ot(e)||Vt()}function zt(e){if(Array.isArray(e))return e}function Jt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],b=!0,m=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;b=!1}else for(;!(b=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);b=!0);}catch(y){m=!0,o=y}finally{try{if(!b&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(m)throw o}}return s}}function Qt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(e,t){return zt(e)||Jt(e,t)||Ot(e,t)||Qt()}var ze={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var bt;function Zt(){return bt||(bt=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var a="",i=0;i<arguments.length;i++){var s=arguments[i];s&&(a=o(a,n(s)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var i="";for(var s in a)t.call(a,s)&&a[s]&&(i=o(i,s));return i}function o(a,i){return i?a?a+" "+i:a+i:a}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(ze)),ze.exports}var er=Zt();const Pe=Kt(er);function Ne(e){var t=u.useRef();t.current=e;var r=u.useCallback(function(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(a))},[]);return r}function tr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var St=tr()?u.useLayoutEffect:u.useEffect,xt=function(t,r){var n=u.useRef(!0);St(function(){return t(n.current)},r),St(function(){return n.current=!1,function(){n.current=!0}},[])},Ct=function(t,r){xt(function(n){if(!n)return t()},r)};function Et(e){var t=u.useRef(!1),r=u.useState(e),n=U(r,2),o=n[0],a=n[1];u.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function i(s,b){b&&t.current||a(s)}return[o,i]}function Je(e){return e!==void 0}function rr(e,t){var r=t||{},n=r.defaultValue,o=r.value,a=r.onChange,i=r.postState,s=Et(function(){return Je(o)?o:Je(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),b=U(s,2),m=b[0],y=b[1],C=o!==void 0?o:m,M=i?i(C):C,h=Ne(a),S=Et([C]),d=U(S,2),c=d[0],f=d[1];Ct(function(){var g=c[0];m!==g&&h(m,g)},[c]),Ct(function(){Je(o)||y(o)},[o]);var l=Ne(function(g,R){y(g,R),f([C],R)});return[M,l]}var Ze={},nr=function(t){};function ar(e,t){}function ur(e,t){}function or(){Ze={}}function wt(e,t,r){!t&&!Ze[r]&&(e(!1,r),Ze[r]=!0)}function Ie(e,t){wt(ar,e,t)}function ir(e,t){wt(ur,e,t)}Ie.preMessage=nr;Ie.resetWarned=or;Ie.noteOnce=ir;function lr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function o(a,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=n.has(a);if(Ie(!b,"Warning: There may be circular references"),b)return!1;if(a===i)return!0;if(r&&s>1)return!1;n.add(a);var m=s+1;if(Array.isArray(a)){if(!Array.isArray(i)||a.length!==i.length)return!1;for(var y=0;y<a.length;y++)if(!o(a[y],i[y],m))return!1;return!0}if(a&&i&&Ee(a)==="object"&&Ee(i)==="object"){var C=Object.keys(a);return C.length!==Object.keys(i).length?!1:C.every(function(M){return o(a[M],i[M],m)})}return!1}return o(e,t)}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ke.apply(null,arguments)}function cr(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dt(e,t){if(e==null)return{};var r,n,o=cr(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function et(e,t,r){return(e-t)/(r-t)}function tt(e,t,r,n){var o=et(t,r,n),a={};switch(e){case"rtl":a.right="".concat(o*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(o*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(o*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(o*100,"%"),a.transform="translateX(-50%)";break}return a}function De(e,t){return Array.isArray(e)?e[t]:e}var N={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},_e=u.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),sr=u.createContext({}),fr=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Mt=u.forwardRef(function(e,t){var r=e.prefixCls,n=e.value,o=e.valueIndex,a=e.onStartMove,i=e.onDelete,s=e.style,b=e.render,m=e.dragging,y=e.draggingDelete,C=e.onOffsetChange,M=e.onChangeComplete,h=e.onFocus,S=e.onMouseEnter,d=Dt(e,fr),c=u.useContext(_e),f=c.min,l=c.max,g=c.direction,R=c.disabled,D=c.keyboard,p=c.range,K=c.tabIndex,B=c.ariaLabelForHandle,_=c.ariaLabelledByForHandle,O=c.ariaRequired,E=c.ariaValueTextFormatterForHandle,k=c.styles,H=c.classNames,X="".concat(r,"-handle"),I=function(A){R||a(A,o)},V=function(A){h==null||h(A,o)},T=function(A){S(A,o)},ve=function(A){if(!R&&D){var w=null;switch(A.which||A.keyCode){case N.LEFT:w=g==="ltr"||g==="btt"?-1:1;break;case N.RIGHT:w=g==="ltr"||g==="btt"?1:-1;break;case N.UP:w=g!=="ttb"?1:-1;break;case N.DOWN:w=g!=="ttb"?-1:1;break;case N.HOME:w="min";break;case N.END:w="max";break;case N.PAGE_UP:w=2;break;case N.PAGE_DOWN:w=-2;break;case N.BACKSPACE:case N.DELETE:i==null||i(o);break}w!==null&&(A.preventDefault(),C(w,o))}},ne=function(A){switch(A.which||A.keyCode){case N.LEFT:case N.RIGHT:case N.UP:case N.DOWN:case N.HOME:case N.END:case N.PAGE_UP:case N.PAGE_DOWN:M==null||M();break}},Me=tt(g,n,f,l),de={};if(o!==null){var ke;de={tabIndex:R?null:De(K,o),role:"slider","aria-valuemin":f,"aria-valuemax":l,"aria-valuenow":n,"aria-disabled":R,"aria-label":De(B,o),"aria-labelledby":De(_,o),"aria-required":De(O,o),"aria-valuetext":(ke=De(E,o))===null||ke===void 0?void 0:ke(n),"aria-orientation":g==="ltr"||g==="rtl"?"horizontal":"vertical",onMouseDown:I,onTouchStart:I,onFocus:V,onMouseEnter:T,onKeyDown:ve,onKeyUp:ne}}var Re=u.createElement("div",Ke({ref:t,className:Pe(X,Z(Z(Z({},"".concat(X,"-").concat(o+1),o!==null&&p),"".concat(X,"-dragging"),m),"".concat(X,"-dragging-delete"),y),H.handle),style:W(W(W({},Me),s),k.handle)},de,d));return b&&(Re=b(Re,{index:o,prefixCls:r,value:n,dragging:m,draggingDelete:y})),Re}),vr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],dr=u.forwardRef(function(e,t){var r=e.prefixCls,n=e.style,o=e.onStartMove,a=e.onOffsetChange,i=e.values,s=e.handleRender,b=e.activeHandleRender,m=e.draggingIndex,y=e.draggingDelete,C=e.onFocus,M=Dt(e,vr),h=u.useRef({}),S=u.useState(!1),d=U(S,2),c=d[0],f=d[1],l=u.useState(-1),g=U(l,2),R=g[0],D=g[1],p=function(E){D(E),f(!0)},K=function(E,k){p(k),C==null||C(E)},B=function(E,k){p(k)};u.useImperativeHandle(t,function(){return{focus:function(E){var k;(k=h.current[E])===null||k===void 0||k.focus()},hideHelp:function(){Xt.flushSync(function(){f(!1)})}}});var _=W({prefixCls:r,onStartMove:o,onOffsetChange:a,render:s,onFocus:K,onMouseEnter:B},M);return u.createElement(u.Fragment,null,i.map(function(O,E){var k=m===E;return u.createElement(Mt,Ke({ref:function(X){X?h.current[E]=X:delete h.current[E]},dragging:k,draggingDelete:k&&y,style:De(n,E),key:E,value:O,valueIndex:E},_))}),b&&c&&u.createElement(Mt,Ke({key:"a11y"},_,{value:i[R],valueIndex:null,dragging:m!==-1,draggingDelete:y,render:b,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),gr=function(t){var r=t.prefixCls,n=t.style,o=t.children,a=t.value,i=t.onClick,s=u.useContext(_e),b=s.min,m=s.max,y=s.direction,C=s.includedStart,M=s.includedEnd,h=s.included,S="".concat(r,"-text"),d=tt(y,a,b,m);return u.createElement("span",{className:Pe(S,Z({},"".concat(S,"-active"),h&&C<=a&&a<=M)),style:W(W({},d),n),onMouseDown:function(f){f.stopPropagation()},onClick:function(){i(a)}},o)},mr=function(t){var r=t.prefixCls,n=t.marks,o=t.onClick,a="".concat(r,"-mark");return n.length?u.createElement("div",{className:a},n.map(function(i){var s=i.value,b=i.style,m=i.label;return u.createElement(gr,{key:s,prefixCls:a,style:b,value:s,onClick:o},m)})):null},hr=function(t){var r=t.prefixCls,n=t.value,o=t.style,a=t.activeStyle,i=u.useContext(_e),s=i.min,b=i.max,m=i.direction,y=i.included,C=i.includedStart,M=i.includedEnd,h="".concat(r,"-dot"),S=y&&C<=n&&n<=M,d=W(W({},tt(m,n,s,b)),typeof o=="function"?o(n):o);return S&&(d=W(W({},d),typeof a=="function"?a(n):a)),u.createElement("span",{className:Pe(h,Z({},"".concat(h,"-active"),S)),style:d})},yr=function(t){var r=t.prefixCls,n=t.marks,o=t.dots,a=t.style,i=t.activeStyle,s=u.useContext(_e),b=s.min,m=s.max,y=s.step,C=u.useMemo(function(){var M=new Set;if(n.forEach(function(S){M.add(S.value)}),o&&y!==null)for(var h=b;h<=m;)M.add(h),h+=y;return Array.from(M)},[b,m,y,o,n]);return u.createElement("div",{className:"".concat(r,"-step")},C.map(function(M){return u.createElement(hr,{prefixCls:r,key:M,value:M,style:a,activeStyle:i})}))},kt=function(t){var r=t.prefixCls,n=t.style,o=t.start,a=t.end,i=t.index,s=t.onStartMove,b=t.replaceCls,m=u.useContext(_e),y=m.direction,C=m.min,M=m.max,h=m.disabled,S=m.range,d=m.classNames,c="".concat(r,"-track"),f=et(o,C,M),l=et(a,C,M),g=function(K){!h&&s&&s(K,-1)},R={};switch(y){case"rtl":R.right="".concat(f*100,"%"),R.width="".concat(l*100-f*100,"%");break;case"btt":R.bottom="".concat(f*100,"%"),R.height="".concat(l*100-f*100,"%");break;case"ttb":R.top="".concat(f*100,"%"),R.height="".concat(l*100-f*100,"%");break;default:R.left="".concat(f*100,"%"),R.width="".concat(l*100-f*100,"%")}var D=b||Pe(c,Z(Z({},"".concat(c,"-").concat(i+1),i!==null&&S),"".concat(r,"-track-draggable"),s),d.track);return u.createElement("div",{className:D,style:W(W({},R),n),onMouseDown:g,onTouchStart:g})},br=function(t){var r=t.prefixCls,n=t.style,o=t.values,a=t.startPoint,i=t.onStartMove,s=u.useContext(_e),b=s.included,m=s.range,y=s.min,C=s.styles,M=s.classNames,h=u.useMemo(function(){if(!m){if(o.length===0)return[];var d=a??y,c=o[0];return[{start:Math.min(d,c),end:Math.max(d,c)}]}for(var f=[],l=0;l<o.length-1;l+=1)f.push({start:o[l],end:o[l+1]});return f},[o,m,a,y]);if(!b)return null;var S=h!=null&&h.length&&(M.tracks||C.tracks)?u.createElement(kt,{index:null,prefixCls:r,start:h[0].start,end:h[h.length-1].end,replaceCls:Pe(M.tracks,"".concat(r,"-tracks")),style:C.tracks}):null;return u.createElement(u.Fragment,null,S,h.map(function(d,c){var f=d.start,l=d.end;return u.createElement(kt,{index:c,prefixCls:r,style:W(W({},De(n,c)),C.track),start:f,end:l,key:c,onStartMove:i})}))},Sr=130;function Rt(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Cr(e,t,r,n,o,a,i,s,b,m,y){var C=u.useState(null),M=U(C,2),h=M[0],S=M[1],d=u.useState(-1),c=U(d,2),f=c[0],l=c[1],g=u.useState(!1),R=U(g,2),D=R[0],p=R[1],K=u.useState(r),B=U(K,2),_=B[0],O=B[1],E=u.useState(r),k=U(E,2),H=k[0],X=k[1],I=u.useRef(null),V=u.useRef(null),T=u.useRef(null),ve=u.useContext(sr),ne=ve.onDragStart,Me=ve.onDragChange;xt(function(){f===-1&&O(r)},[r,f]),u.useEffect(function(){return function(){document.removeEventListener("mousemove",I.current),document.removeEventListener("mouseup",V.current),T.current&&(T.current.removeEventListener("touchmove",I.current),T.current.removeEventListener("touchend",V.current))}},[]);var de=function(w,j,q){j!==void 0&&S(j),O(w);var z=w;q&&(z=w.filter(function($,G){return G!==f})),i(z),Me&&Me({rawValues:w,deleteIndex:q?f:-1,draggingIndex:f,draggingValue:j})},ke=Ne(function(A,w,j){if(A===-1){var q=H[0],z=H[H.length-1],$=n-q,G=o-z,ee=w*(o-n);ee=Math.max(ee,$),ee=Math.min(ee,G);var Ae=a(q+ee);ee=Ae-q;var ae=H.map(function(ie){return ie+ee});de(ae)}else{var ue=(o-n)*w,oe=fe(_);oe[A]=H[A];var me=b(oe,ue,A,"dist");de(me.values,me.value,j)}}),Re=function(w,j,q){w.stopPropagation();var z=q||r,$=z[j];l(j),S($),X(z),O(z),p(!1);var G=Rt(w),ee=G.pageX,Ae=G.pageY,ae=!1;ne&&ne({rawValues:z,draggingIndex:j,draggingValue:$});var ue=function(ie){ie.preventDefault();var J=Rt(ie),Fe=J.pageX,pe=J.pageY,Te=Fe-ee,re=pe-Ae,te=e.current.getBoundingClientRect(),Oe=te.width,$e=te.height,he,ye;switch(t){case"btt":he=-re/$e,ye=Te;break;case"ttb":he=re/$e,ye=Te;break;case"rtl":he=-Te/Oe,ye=re;break;default:he=Te/Oe,ye=re}ae=m?Math.abs(ye)>Sr&&y<_.length:!1,p(ae),ke(j,he,ae)},oe=function me(ie){ie.preventDefault(),document.removeEventListener("mouseup",me),document.removeEventListener("mousemove",ue),T.current&&(T.current.removeEventListener("touchmove",I.current),T.current.removeEventListener("touchend",V.current)),I.current=null,V.current=null,T.current=null,s(ae),l(-1),p(!1)};document.addEventListener("mouseup",oe),document.addEventListener("mousemove",ue),w.currentTarget.addEventListener("touchend",oe),w.currentTarget.addEventListener("touchmove",ue),I.current=ue,V.current=oe,T.current=w.currentTarget},ge=u.useMemo(function(){var A=fe(r).sort(function($,G){return $-G}),w=fe(_).sort(function($,G){return $-G}),j={};w.forEach(function($){j[$]=(j[$]||0)+1}),A.forEach(function($){j[$]=(j[$]||0)-1});var q=m?1:0,z=Object.values(j).reduce(function($,G){return $+Math.abs(G)},0);return z<=q?_:r},[r,_,m]);return[f,h,D,ge,Re]}function Er(e,t,r,n,o,a){var i=u.useCallback(function(h){return Math.max(e,Math.min(t,h))},[e,t]),s=u.useCallback(function(h){if(r!==null){var S=e+Math.round((i(h)-e)/r)*r,d=function(g){return(String(g).split(".")[1]||"").length},c=Math.max(d(r),d(t),d(e)),f=Number(S.toFixed(c));return e<=f&&f<=t?f:null}return null},[r,e,t,i]),b=u.useCallback(function(h){var S=i(h),d=n.map(function(l){return l.value});r!==null&&d.push(s(h)),d.push(e,t);var c=d[0],f=t-e;return d.forEach(function(l){var g=Math.abs(S-l);g<=f&&(c=l,f=g)}),c},[e,t,n,r,i,s]),m=function h(S,d,c){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof d=="number"){var l,g=S[c],R=g+d,D=[];n.forEach(function(O){D.push(O.value)}),D.push(e,t),D.push(s(g));var p=d>0?1:-1;f==="unit"?D.push(s(g+p*r)):D.push(s(R)),D=D.filter(function(O){return O!==null}).filter(function(O){return d<0?O<=g:O>=g}),f==="unit"&&(D=D.filter(function(O){return O!==g}));var K=f==="unit"?g:R;l=D[0];var B=Math.abs(l-K);if(D.forEach(function(O){var E=Math.abs(O-K);E<B&&(l=O,B=E)}),l===void 0)return d<0?e:t;if(f==="dist")return l;if(Math.abs(d)>1){var _=fe(S);return _[c]=l,h(_,d-p,c,f)}return l}else{if(d==="min")return e;if(d==="max")return t}},y=function(S,d,c){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",l=S[c],g=m(S,d,c,f);return{value:g,changed:g!==l}},C=function(S){return a===null&&S===0||typeof a=="number"&&S<a},M=function(S,d,c){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",l=S.map(b),g=l[c],R=m(l,d,c,f);if(l[c]=R,o===!1){var D=a||0;c>0&&l[c-1]!==g&&(l[c]=Math.max(l[c],l[c-1]+D)),c<l.length-1&&l[c+1]!==g&&(l[c]=Math.min(l[c],l[c+1]-D))}else if(typeof a=="number"||a===null){for(var p=c+1;p<l.length;p+=1)for(var K=!0;C(l[p]-l[p-1])&&K;){var B=y(l,1,p);l[p]=B.value,K=B.changed}for(var _=c;_>0;_-=1)for(var O=!0;C(l[_]-l[_-1])&&O;){var E=y(l,-1,_-1);l[_-1]=E.value,O=E.changed}for(var k=l.length-1;k>0;k-=1)for(var H=!0;C(l[k]-l[k-1])&&H;){var X=y(l,-1,k-1);l[k-1]=X.value,H=X.changed}for(var I=0;I<l.length-1;I+=1)for(var V=!0;C(l[I+1]-l[I])&&V;){var T=y(l,1,I+1);l[I+1]=T.value,V=T.changed}}return{value:l[c],values:l}};return[b,M]}function Mr(e){return u.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,r=e.draggableTrack,n=e.minCount,o=e.maxCount;return[!0,t,!t&&r,n||0,o]},[e])}var Or=u.forwardRef(function(e,t){var r=e.prefixCls,n=r===void 0?"rc-slider":r,o=e.className,a=e.style,i=e.classNames,s=e.styles,b=e.id,m=e.disabled,y=m===void 0?!1:m,C=e.keyboard,M=C===void 0?!0:C,h=e.autoFocus,S=e.onFocus,d=e.onBlur,c=e.min,f=c===void 0?0:c,l=e.max,g=l===void 0?100:l,R=e.step,D=R===void 0?1:R,p=e.value,K=e.defaultValue,B=e.range,_=e.count,O=e.onChange,E=e.onBeforeChange,k=e.onAfterChange,H=e.onChangeComplete,X=e.allowCross,I=X===void 0?!0:X,V=e.pushable,T=V===void 0?!1:V,ve=e.reverse,ne=e.vertical,Me=e.included,de=Me===void 0?!0:Me,ke=e.startPoint,Re=e.trackStyle,ge=e.handleStyle,A=e.railStyle,w=e.dotStyle,j=e.activeDotStyle,q=e.marks,z=e.dots,$=e.handleRender,G=e.activeHandleRender,ee=e.track,Ae=e.tabIndex,ae=Ae===void 0?0:Ae,ue=e.ariaLabelForHandle,oe=e.ariaLabelledByForHandle,me=e.ariaRequired,ie=e.ariaValueTextFormatterForHandle,J=u.useRef(null),Fe=u.useRef(null),pe=u.useMemo(function(){return ne?ve?"ttb":"btt":ve?"rtl":"ltr"},[ve,ne]),Te=Mr(B),re=U(Te,5),te=re[0],Oe=re[1],$e=re[2],he=re[3],ye=re[4],Q=u.useMemo(function(){return isFinite(f)?f:0},[f]),He=u.useMemo(function(){return isFinite(g)?g:100},[g]),xe=u.useMemo(function(){return D!==null&&D<=0?1:D},[D]),Pt=u.useMemo(function(){return typeof T=="boolean"?T?xe:!1:T>=0?T:!1},[T,xe]),Xe=u.useMemo(function(){return Object.keys(q||{}).map(function(x){var v=q[x],P={value:Number(x)};return v&&Ee(v)==="object"&&!u.isValidElement(v)&&("label"in v||"style"in v)?(P.style=v.style,P.label=v.label):P.label=v,P}).filter(function(x){var v=x.label;return v||typeof v=="number"}).sort(function(x,v){return x.value-v.value})},[q]),_t=Er(Q,He,xe,Xe,I,Pt),rt=U(_t,2),Ye=rt[0],nt=rt[1],At=rr(K,{value:p}),at=U(At,2),be=at[0],Ft=at[1],Y=u.useMemo(function(){var x=be==null?[]:Array.isArray(be)?be:[be],v=U(x,1),P=v[0],F=P===void 0?Q:P,L=be===null?[]:[F];if(te){if(L=fe(x),_||be===void 0){var Se=_>=0?_+1:2;for(L=L.slice(0,Se);L.length<Se;){var le;L.push((le=L[L.length-1])!==null&&le!==void 0?le:Q)}}L.sort(function(ce,se){return ce-se})}return L.forEach(function(ce,se){L[se]=Ye(ce)}),L},[be,te,Q,_,Ye]),je=function(v){return te?v:v[0]},Be=Ne(function(x){var v=fe(x).sort(function(P,F){return P-F});O&&!lr(v,Y,!0)&&O(je(v)),Ft(v)}),ut=Ne(function(x){x&&J.current.hideHelp();var v=je(Y);k==null||k(v),Ie(!k,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),H==null||H(v)}),pt=function(v){if(!(y||!Oe||Y.length<=he)){var P=fe(Y);P.splice(v,1),E==null||E(je(P)),Be(P);var F=Math.max(0,v-1);J.current.hideHelp(),J.current.focus(F)}},Tt=Cr(Fe,pe,Y,Q,He,Ye,Be,ut,nt,Oe,he),Ue=U(Tt,5),ot=Ue[0],$t=Ue[1],Ht=Ue[2],Ge=Ue[3],it=Ue[4],lt=function(v,P){if(!y){var F=fe(Y),L=0,Se=0,le=He-Q;Y.forEach(function(Ce,qe){var ht=Math.abs(v-Ce);ht<=le&&(le=ht,L=qe),Ce<v&&(Se=qe)});var ce=L;Oe&&le!==0&&(!ye||Y.length<ye)?(F.splice(Se+1,0,v),ce=Se+1):F[L]=v,te&&!Y.length&&_===void 0&&F.push(v);var se=je(F);if(E==null||E(se),Be(F),P){var we,Le;(we=document.activeElement)===null||we===void 0||(Le=we.blur)===null||Le===void 0||Le.call(we),J.current.focus(ce),it(P,ce,F)}else k==null||k(se),Ie(!k,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),H==null||H(se)}},jt=function(v){v.preventDefault();var P=Fe.current.getBoundingClientRect(),F=P.width,L=P.height,Se=P.left,le=P.top,ce=P.bottom,se=P.right,we=v.clientX,Le=v.clientY,Ce;switch(pe){case"btt":Ce=(ce-Le)/L;break;case"ttb":Ce=(Le-le)/L;break;case"rtl":Ce=(se-we)/F;break;default:Ce=(we-Se)/F}var qe=Q+Ce*(He-Q);lt(Ye(qe),v)},Lt=u.useState(null),ct=U(Lt,2),Ve=ct[0],st=ct[1],Nt=function(v,P){if(!y){var F=nt(Y,v,P);E==null||E(je(Y)),Be(F.values),st(F.value)}};u.useEffect(function(){if(Ve!==null){var x=Y.indexOf(Ve);x>=0&&J.current.focus(x)}st(null)},[Ve]);var It=u.useMemo(function(){return $e&&xe===null?!1:$e},[$e,xe]),ft=Ne(function(x,v){it(x,v),E==null||E(je(Y))}),vt=ot!==-1;u.useEffect(function(){if(!vt){var x=Y.lastIndexOf($t);J.current.focus(x)}},[vt]);var We=u.useMemo(function(){return fe(Ge).sort(function(x,v){return x-v})},[Ge]),Ut=u.useMemo(function(){return te?[We[0],We[We.length-1]]:[Q,We[0]]},[We,te,Q]),dt=U(Ut,2),gt=dt[0],mt=dt[1];u.useImperativeHandle(t,function(){return{focus:function(){J.current.focus(0)},blur:function(){var v,P=document,F=P.activeElement;(v=Fe.current)!==null&&v!==void 0&&v.contains(F)&&(F==null||F.blur())}}}),u.useEffect(function(){h&&J.current.focus(0)},[]);var Wt=u.useMemo(function(){return{min:Q,max:He,direction:pe,disabled:y,keyboard:M,step:xe,included:de,includedStart:gt,includedEnd:mt,range:te,tabIndex:ae,ariaLabelForHandle:ue,ariaLabelledByForHandle:oe,ariaRequired:me,ariaValueTextFormatterForHandle:ie,styles:s||{},classNames:i||{}}},[Q,He,pe,y,M,xe,de,gt,mt,te,ae,ue,oe,me,ie,s,i]);return u.createElement(_e.Provider,{value:Wt},u.createElement("div",{ref:Fe,className:Pe(n,o,Z(Z(Z(Z({},"".concat(n,"-disabled"),y),"".concat(n,"-vertical"),ne),"".concat(n,"-horizontal"),!ne),"".concat(n,"-with-marks"),Xe.length)),style:a,onMouseDown:jt,id:b},u.createElement("div",{className:Pe("".concat(n,"-rail"),i==null?void 0:i.rail),style:W(W({},A),s==null?void 0:s.rail)}),ee!==!1&&u.createElement(br,{prefixCls:n,style:Re,values:Y,startPoint:ke,onStartMove:It?ft:void 0}),u.createElement(yr,{prefixCls:n,marks:Xe,dots:z,style:w,activeStyle:j}),u.createElement(dr,{ref:J,prefixCls:n,style:ge,values:Ge,draggingIndex:ot,draggingDelete:Ht,onStartMove:ft,onOffsetChange:Nt,onFocus:S,onBlur:d,handleRender:$,activeHandleRender:G,onChangeComplete:ut,onDelete:Oe?pt:void 0}),u.createElement(mr,{prefixCls:n,marks:Xe,onClick:lt})))});export{Or as S};
