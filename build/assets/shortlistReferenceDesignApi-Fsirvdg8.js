import{m as o,n as u,o as i,q as c,p as a}from"./index-BO7-A9Kz.js";const l=async({organizationId:n,formData:r,api:e})=>{const{data:s}=await e.post(`/shortlist/referencedesign/${n}/uploaddesign`,r);if(!s.ok)throw new Error(s.message);return s},f=async({organizationId:n,api:r})=>{const{data:e}=await r.get(`/shortlist/referencedesign/getdesigns/${n}`);if(!e.ok)throw new Error(e.message);return e.data},w=async({organizationId:n,imageId:r,api:e})=>{const{data:s}=await e.delete(`/shortlist/referencedesign/deletedesign/${n}/${r}`);if(!s.ok)throw new Error(s.message);return s},g=()=>{const n=["owner","staff","CTO"],{role:r}=o(),e=a(r);return i({mutationFn:async({organizationId:s,formData:t})=>{if(!r||!n.includes(r))throw new Error("Not authorized");if(!e)throw new Error("API instance missing");return await l({organizationId:s,formData:t,api:e})},onSuccess:(s,{organizationId:t})=>{c.invalidateQueries({queryKey:["referenceDesigns",t]})}})},h=({organizationId:n})=>{const r=["owner","staff","CTO","client"],{role:e}=o(),s=a(e);return u({queryKey:["referenceDesigns",n],queryFn:async()=>{if(!e||!r.includes(e))throw new Error("Not authorized");if(!s)throw new Error("API instance missing");return await f({organizationId:n,api:s})},enabled:!!n,retry:!1,refetchOnWindowFocus:!1})},y=()=>{const n=["owner","staff","CTO"],{role:r}=o(),e=a(r);return i({mutationFn:async({organizationId:s,imageId:t})=>{if(!r||!n.includes(r))throw new Error("Not authorized");if(!e)throw new Error("API instance missing");return await w({organizationId:s,imageId:t,api:e})},onSuccess:(s,{organizationId:t})=>{c.invalidateQueries({queryKey:["referenceDesigns",t]})}})};export{g as a,y as b,h as u};
