import{u as d,e as f,r as S,j as n,t as a}from"./index-BAM0eJUz.js";import{S as g}from"./ShopMaterialDocumentForm-CndlLrEn.js";import{c as h}from"./shopMaterialDocumentApi-g7G1R7HN.js";import"./Label-C8i6KaZe.js";import"./Input-1UBXZqEj.js";import"./SearchSelect-Dpm5quBu.js";import"./useInfiniteQuery-BGz0VllC.js";const F=()=>{const{mutateAsync:m,isPending:l}=h(),{organizationId:i}=d(),{data:s}=f(i),p=S.useMemo(()=>(s==null?void 0:s.map(e=>e.name))||[],[s]),u=async(e,c)=>{var o,r;try{if(!e||!e.trim()){a({title:"Missing Information",description:"Please enter a Category Name before uploading.",variant:"destructive"});return}await m({categoryName:e,organizationId:i,files:c}),a({title:"Success",description:"Files uploaded successfully"})}catch(t){a({title:"Error",description:((r=(o=t==null?void 0:t.response)==null?void 0:o.data)==null?void 0:r.message)||(t==null?void 0:t.message)||"Upload failed",variant:"destructive"})}};return n.jsx("div",{className:"h-full  pt-6",children:n.jsx(g,{mode:"create",onSubmit:u,isSubmitting:l,materialCategoryOptions:p})})};export{F as default};
