import{b as d,r as T,c as I,j as t,O as N}from"./index-mTWK40SB.js";import{M as j,S as O}from"./MobileSidebar-6lHx3EKF.js";import{S as n,a as A}from"./constants-D2tCM4lW.js";import"./CTOApi-BEHQLC6G.js";import"./useMutation-BbI9x9IC.js";import"./clientApi-D7Qn0bMI.js";import"./staffApi-hFuZpmqO.js";import"./userApi-Cd6AN7G5.js";import"./workerApi-DxEuy5wW.js";import"./Button-D17pPJux.js";import"./toast-BSC5QTk1.js";import"./currentActiveStageApi-Bz1e6lS_.js";import"./useQuery-COMoCVsy.js";import"./roleCheck-B4W0Vc_0.js";import"./notificationApi-DRvwqrFA.js";import"./useInfiniteQuery-BCbWIrjk.js";import"./useCurrentSupervisor-CYRANXrT.js";const P=({projectId:F,setProjectId:m})=>{const{organizationId:e}=d(),[c,S]=T.useState(!1),[p,E]=T.useState(window.innerWidth<470),{role:o}=I(),a={PROJECTS:`/organizations/${e}/projects`,ORGANIZATION:`/organizations/${e}/invitecto`,SHORTLIST:`/organizations/${e}/projects/shortlistdesign`,COMMONORDER:`/organizations/${e}/projects/commonorder`,HR:`/organizations/${e}/projects/hr`,LOGISTICS:`/organizations/${e}/projects/logistics`,PROCUREMENT:`/organizations/${e}/projects/procurement`,ACCOUNTING:`/organizations/${e}/projects/accounting`,CUSTOMERACCOUNT:`/organizations/${e}/projects/customermain`,INVOICEACCOUNT:`/organizations/${e}/projects/invoicemain`,RATECONIG:`/organizations/${e}/projects/rateconfig`,RATECONIGSTAFF:`/organizations/${e}/projects/labourrateconfig`,INTERNALQUOTE:`/organizations/${e}/projects/internalquote`,QUOTEVARIENT:`/organizations/${e}/projects/quotevariant`,"QUOTES (CLIENT)":`/organizations/${e}/projects/clientquotes`,WORKLIBRARY:`/organizations/${e}/projects/worklibrary`,STAFFTASK:`/organizations/${e}/projects/stafftask`,SINGLESTAFFTASK:`/organizations/${e}/projects/associatedstafftask`,MATERIALINVENTORY:`/organizations/${e}/projects/materialinventory`};let i={...n},s={...A},r={...a};return delete i.STAFFTASK,delete s.STAFFTASK,delete r.STAFFTASK,delete i.SINGLESTAFFTASK,delete s.SINGLESTAFFTASK,delete r.SINGLESTAFFTASK,(o==null?void 0:o.toLowerCase())==="owner"||(o==null?void 0:o.toLowerCase())==="cto"?(i.STAFFTASK=n.STAFFTASK,s.STAFFTASK=A.STAFFTASK,r.STAFFTASK=a.STAFFTASK):(o==null?void 0:o.toLowerCase())==="staff"&&(i.SINGLESTAFFTASK=n.SINGLESTAFFTASK,s.SINGLESTAFFTASK=A.SINGLESTAFFTASK,r.SINGLESTAFFTASK=a.SINGLESTAFFTASK),T.useEffect(()=>{const l=()=>{E(window.innerWidth<470)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex w-full h-full",children:[p?t.jsx(j,{labels:n,path:a,isOpen:c,onClose:()=>S(!1)}):t.jsx(O,{path:r,labels:i,icons:s}),t.jsx("main",{className:"!w-[100%] h-full p-4",children:t.jsx(N,{context:{projectId:F,setProjectId:m,organizationId:e,isMobile:p,isMobileSidebarOpen:c,openMobileSidebar:()=>S(!0),closeMobileSidebar:()=>S(!1)}})})]})})};export{P as default};
