import{u as s,b as l,q as c,a as i,g as o}from"./index-CbQCFZwb.js";const d=async({api:a,projectId:e,selectedUnit:t})=>{const{data:r}=await a.post(`/selectedexternal/${e}/addtoselected`,{selectedUnit:t});if(!r.ok)throw new Error(r.message);return r.data},f=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=o(e);return l({mutationFn:async({projectId:r,selectedUnit:n})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API not available");return await d({api:t,projectId:r,selectedUnit:n})},onSuccess:(r,{projectId:n})=>{c.invalidateQueries({queryKey:["selected-external",n]})}})},u=async({api:a,projectId:e})=>{const{data:t}=await a.get(`/selectedexternal/${e}/getselected`);if(!t.ok)throw new Error(t.message);return t.data},x=a=>{const{role:e}=s(),t=o(e);return i({queryKey:["selected-external",a],queryFn:async()=>{if(!t)throw new Error("API not available");return await u({api:t,projectId:a})},enabled:!!a})},w=async({api:a,projectId:e,unitId:t})=>{const{data:r}=await a.delete(`/selectedexternal/${e}/${t}/deleteselected`);if(!r.ok)throw new Error(r.message);return r.data},h=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=o(e);return l({mutationFn:async({projectId:r,unitId:n})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API not available");return await w({api:t,projectId:r,unitId:n})},onSuccess:(r,{projectId:n})=>{c.invalidateQueries({queryKey:["selected-external",n]})}})},y=async({projectId:a,api:e})=>(await e.patch(`/selectedexternal/${a}/status`)).data.data,p=()=>{const a=["owner","staff","CTO"],{role:e}=s(),t=o(e);return l({mutationFn:async({projectId:r})=>{if(!e||!a.includes(e))throw new Error("Not authorized");if(!t)throw new Error("API not available");return await y({api:t,projectId:r})},onSuccess:(r,{projectId:n})=>{c.invalidateQueries({queryKey:["selected-external",n]})}})};export{x as a,h as b,p as c,f as u};
