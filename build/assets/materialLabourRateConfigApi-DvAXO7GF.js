import{c as n,d as c,e as s,q as l,g as i}from"./index-MXS_gbde.js";const w=async({api:a,body:t})=>{const{data:e}=await a.post("/quote/materialwithlabour/rateconfig/categories",t);if(!e.ok)throw new Error(e.message);return e.data},b=()=>{const a=["owner","CTO","staff"],{role:t}=n(),e=i(t);return s({mutationFn:async r=>{if(!t||!a.includes(t))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await w({api:e,body:r})},onSuccess:(r,{organizationId:o})=>{l.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","categories",o]})}})},f=async({api:a,organizationId:t})=>{const{data:e}=await a.get(`/quote/materialwithlabour/rateconfig/categories/${t}`);if(!e.ok)throw new Error(e.message);return e.data},C=a=>{const t=["owner","CTO","staff"],{role:e}=n(),r=i(e);return c({queryKey:["labourwithmaterial","rateconfig","categories",a],queryFn:async()=>{if(!e||!t.includes(e))throw new Error("Not allowed to fetch this data");if(!r)throw new Error("API instance not found for role");return await f({api:r,organizationId:a})},enabled:!!a})},h=async({api:a,categoryId:t})=>{const{data:e}=await a.delete(`/quote/materialwithlabour/rateconfig/categories/${t}`);if(!e.ok)throw new Error(e.message);return e.data},E=()=>{const a=["owner","CTO","staff"],{role:t}=n(),e=i(t);return s({mutationFn:async({categoryId:r})=>{if(!t||!a.includes(t))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await h({api:e,categoryId:r})},onSuccess:(r,{organizationId:o})=>{l.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","categories",o]})}})},d=async({api:a,organizationId:t,items:e,categoryId:r})=>{const{data:o}=await a.post(`/quote/materialwithlabour/rateconfig/categories/${t}/${r}/items`,{items:e});if(!o.ok)throw new Error(o.message);return o.data},q=()=>{const a=["owner","CTO","staff"],{role:t}=n(),e=i(t);return s({mutationFn:async({categoryId:r,organizationId:o,items:u})=>{if(!t||!a.includes(t))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await d({api:e,items:u,categoryId:r,organizationId:o})},onSuccess:(r,{organizationId:o})=>{l.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","items",o]})}})},g=async({api:a,organizationId:t,categoryId:e})=>{const{data:r}=await a.get(`/quote/materialwithlabour/rateconfig/categories/${t}/${e}/items`);if(!r.ok)throw new Error(r.message);return r.data},R=(a,t)=>{const e=["owner","CTO","staff"],{role:r}=n(),o=i(r);return c({queryKey:["labourwithmaterial","rateconfig","items",a,t],queryFn:async()=>{if(!r||!e.includes(r))throw new Error("Not allowed to fetch this data");if(!o)throw new Error("API instance not found for role");return await g({api:o,organizationId:a,categoryId:t})},enabled:!!a})},m=async({api:a,itemId:t})=>{const{data:e}=await a.delete(`/quote/materialwithlabour/rateconfig/items/${t}`);if(!e.ok)throw new Error(e.message);return e.data},M=()=>{const a=["owner","CTO","staff"],{role:t}=n(),e=i(t);return s({mutationFn:async({itemId:r})=>{if(!t||!a.includes(t))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await m({api:e,itemId:r})},onSuccess:(r,{organizationId:o})=>{l.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","items",o]})}})};export{b as a,E as b,R as c,q as d,M as e,C as u};
