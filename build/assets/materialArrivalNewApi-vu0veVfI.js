import{d as n,f as u,g as l,l as c,i as w,h as o}from"./index-CtOe3gZO.js";const y=async(a,e,r)=>(await w.put(`https://houseofram.in/api/materialarrivalcheck/updateImage/${a}/${e}`,r)).data,A=()=>{const a=c();return l({mutationFn:async({projectId:e,fieldId:r,formData:t})=>await y(e,r,t),onSuccess:(e,{projectId:r})=>{a.invalidateQueries({queryKey:["material-arrival",r]})}})},f=async(a,e,r,t)=>(await t.put(`/materialarrivalcheck/updateverification/${a}/${e}`,{isVerified:r})).data,g=()=>{const{role:a}=n(),e=o(a),r=c(),t=["owner","staff","CTO"];return l({mutationFn:async({projectId:i,unitName:s,toggle:d})=>{if(!a||!t.includes(a))throw new Error("Unauthorized");return await f(i,s,d,e)},onSuccess:(i,{projectId:s})=>{r.invalidateQueries({queryKey:["material-arrival",s]})}})},p=async(a,e)=>(await e.get(`/materialarrivalcheck/getalldetails/${a}`)).data.data,M=a=>{const{role:e}=n(),r=o(e),t=["owner","staff","CTO"];return u({queryKey:["material-arrival",a],queryFn:async()=>{if(!e||!t.includes(e))throw new Error("Unauthorized");return await p(a,r)},enabled:!!a&&!!e,retry:!1,refetchOnMount:!1})},v=async(a,e)=>(await e.post(`/materialarrivalcheck/${a}/generate-link`)).data.data,m=async(a,e)=>(await w.get(`https://houseofram.in/api/materialarrivalcheck/public/${a}/${e}`)).data.data,$=()=>{const{role:a}=n(),e=o(a),r=["owner","staff","CTO"];return l({mutationFn:async({projectId:t})=>{if(!a||!r.includes(a))throw new Error("Unauthorized");return await v(t,e)}})},q=(a,e)=>u({queryKey:["material-arrival-public",a,e],queryFn:async()=>await m(a,e),enabled:!!a&&!!e});export{M as a,$ as b,q as c,A as d,g as u};
