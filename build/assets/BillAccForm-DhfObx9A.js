import{u as se,r as h,j as e}from"./index-g9v5L7eS.js";import{B as p}from"./Button-DXzmpjtA.js";import{u as re}from"./vendorAccApi-ZXP_OyOq.js";import{S as de}from"./SearchSelectNew-J6owvRRK.js";import{L as b}from"./Label-DuBPv0AI.js";import{I as te}from"./ImageGalleryMain-CTS5daxB.js";import{ORDERMATERIAL_UNIT_OPTIONS as ce}from"./OrderMaterialOverview-6fOP1xqC.js";import{f as oe,g as ne}from"./billAccountApi-BXLIwFTk.js";import{t as N}from"./toast-BSC5QTk1.js";import{C as le,a as me}from"./Card-BZ8fgwGK.js";import{d as ae}from"./downloadFile-Cd1Zfuv9.js";import{T as ue}from"./TextArea-BVFvvo6O.js";import{I as xe}from"./InfoToolTip-DwbMc9Qo.js";import{u as pe}from"./projectApi-Cv-ayXKU.js";const Ae=({mode:F,initialData:s,onSubmit:U,onQuickUpload:k,isSubmitting:v,organizationId:I,refetch:y})=>{var V;const B=se(),[f,E]=h.useState(F),{data:w}=re(I),q=oe(),S=["cash on carry","credit based","pay advanced, balance later","post-inspection payment"],M=async r=>{var t,d;try{await q.mutateAsync({billId:s._id,imageId:r}),y==null||y(),N({title:"Success",description:"deleted successfully"})}catch(n){N({title:"Error",description:((d=(t=n==null?void 0:n.response)==null?void 0:t.data)==null?void 0:d.message)||"failed to delete",variant:"destructive"})}},R={vendorId:null,vendorName:"",billNumber:"",accountsPayable:"",subject:"",projectId:null,projectName:null,billDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+10*24*60*60*1e3).toISOString().split("T")[0],items:[{itemName:"",rate:0,quantity:1,unit:"nos",totalCost:0}],discountPercentage:0,taxPercentage:0,advancedAmount:0,notes:"",paymentType:"cash on carry",images:[]},[c,l]=h.useState(R),[A,L]=h.useState(!1),[u,W]=h.useState({totalAmount:0,discountAmount:0,taxAmount:0,grandTotal:0}),{data:T}=pe(I),x=T==null?void 0:T.map(r=>({_id:r._id,projectName:r.projectName}));h.useEffect(()=>{var r;s&&(console.log("initial Data",s),l({vendorId:(s==null?void 0:s.vendorId)||null,vendorName:(s==null?void 0:s.vendorName)||"",billNumber:(s==null?void 0:s.billNumber)||"",accountsPayable:(s==null?void 0:s.accountsPayable)||"",subject:(s==null?void 0:s.subject)||"",projectId:(s==null?void 0:s.projectId)||null,projectName:null,billDate:s!=null&&s.billDate?new Date(s==null?void 0:s.billDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],dueDate:s!=null&&s.dueDate?new Date(s==null?void 0:s.dueDate).toISOString().split("T")[0]:new Date(Date.now()+10*24*60*60*1e3).toISOString().split("T")[0],items:((r=s==null?void 0:s.items)==null?void 0:r.length)&&(s==null?void 0:s.items)||[{itemName:"",rate:0,unit:"nos",quantity:1,totalCost:0}],discountPercentage:(s==null?void 0:s.discountPercentage)||0,taxPercentage:(s==null?void 0:s.taxPercentage)||0,paymentType:(s==null?void 0:s.paymentType)||"",advancedAmount:(s==null?void 0:s.advancedAmount)||0,notes:(s==null?void 0:s.notes)||"",images:[]}))},[s,F]),h.useEffect(()=>{var r;if(f==="view"){const t=(x==null?void 0:x.find(d=>d._id===(s==null?void 0:s.projectId)))||null;l({vendorId:(s==null?void 0:s.vendorId)||null,vendorName:(s==null?void 0:s.vendorName)||"",billNumber:(s==null?void 0:s.billNumber)||"",accountsPayable:(s==null?void 0:s.accountsPayable)||"",subject:(s==null?void 0:s.subject)||"",projectId:(s==null?void 0:s.projectId)||null,projectName:t,billDate:s!=null&&s.billDate?new Date(s==null?void 0:s.billDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],dueDate:s!=null&&s.dueDate?new Date(s==null?void 0:s.dueDate).toISOString().split("T")[0]:new Date(Date.now()+10*24*60*60*1e3).toISOString().split("T")[0],items:((r=s==null?void 0:s.items)==null?void 0:r.length)&&(s==null?void 0:s.items)||[{itemName:"",rate:0,unit:"nos",quantity:1,totalCost:0}],discountPercentage:(s==null?void 0:s.discountPercentage)||0,taxPercentage:(s==null?void 0:s.taxPercentage)||0,notes:(s==null?void 0:s.notes)||"",paymentType:(s==null?void 0:s.paymentType)||"",advancedAmount:(s==null?void 0:s.advancedAmount)||0,images:[]})}},[f]),h.useEffect(()=>{const r=c.items.reduce((P,ee)=>P+(ee.totalCost||0),0),t=r*c.discountPercentage/100,d=r-t,n=d*c.taxPercentage/100,a=d+n;let m=a;if(c.paymentType==="pay advanced, balance later"){const P=(c==null?void 0:c.advancedAmount)||0;m=Math.max(0,a-P)}else console.log("33333333333"),m=a;W({totalAmount:r,discountAmount:t,taxAmount:n,grandTotal:m})},[c.items,c.discountPercentage,c.taxPercentage,c.paymentType,c.advancedAmount]);const j=r=>{const{name:t,value:d}=r.target;l(n=>{const a={...n,[t]:d};return t==="paymentType"&&d!=="pay advanced, balance later"&&(a.advancedAmount=0),a})},_=r=>{const{name:t,value:d}=r.target;l(n=>({...n,[t]:parseFloat(d)||0}))},G=()=>l(r=>({...r,items:[...r.items,{itemName:"",quantity:1,unit:"nos",rate:0,totalCost:0}]})),H=r=>l(t=>({...t,items:t.items.filter((d,n)=>n!==r)})),i=(r,t,d)=>{l(n=>{const a=[...n.items],m={...a[r]};return t==="itemName"?(r===n.items.length-1&&m.itemName===""&&d!==""&&a.push({itemName:"",unit:"nos",quantity:1,rate:0,totalCost:0}),m.itemName=d):t==="unit"?m.unit=d:(m[t]=typeof d=="string"?parseFloat(d)||0:d,m.totalCost=m.quantity*m.rate),a[r]=m,{...n,items:a}})},$=r=>{const t=w==null?void 0:w.find(d=>d._id===r);l(d=>({...d,vendorId:r||"",vendorName:(t==null?void 0:t.vendorName)||""}))},Q=r=>{r.target.files&&l(t=>({...t,images:[...t.images,...Array.from(r.target.files||[])]}))},z=r=>{l(t=>({...t,images:t.images.filter((d,n)=>n!==r)}))},J=async()=>{c.images.length>0&&k&&(await k(c.images),l(r=>({...r,images:[]})))},K=async r=>{if(r.preventDefault(),c.paymentType==="pay advanced, balance later"&&(!c.advancedAmount||c.advancedAmount<=0)){N({title:"Error",description:"Please enter a valid advance amount greater than 0",variant:"destructive"});return}const t=c.items.filter(n=>n.itemName.trim()!==""),d={...c,items:t,organizationId:I,totalAmount:u.totalAmount,discountAmount:u.discountAmount,taxAmount:u.taxAmount,grandTotal:u.grandTotal};await U(d,c.images),f==="edit"&&E("view")},o=f==="view",g=f==="create",C=f==="edit",O=()=>E(r=>r==="view"?"edit":"view"),X=(V=w||[])==null?void 0:V.map(r=>({value:r._id,label:r.vendorName})),{mutateAsync:Z,isPending:Y}=ne(),D=async()=>{var r,t;try{if(s!=null&&s.isSyncWithPaymentsSection)return N({variant:"destructive",title:"Error",description:"already sent to payments section"});await Z({billId:s._id}),y==null||y(),N({title:"Success",description:"Bill sent to Payments Section"})}catch(d){N({variant:"destructive",title:"Error",description:((t=(r=d==null?void 0:d.response)==null?void 0:r.data)==null?void 0:t.message)||(d==null?void 0:d.message)||"operation failed"})}};return e.jsxs("div",{className:"max-w-full mx-auto space-y-2",children:[e.jsxs("header",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 pb-4 pt-2 mb-6 flex justify-between items-center",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>B(-1),className:"bg-blue-100 hover:bg-slate-300 flex items-center justify-between w-8 h-8 border border-[#a6aab8] text-sm cursor-pointer rounded-md px-2",children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx("i",{className:"fas fa-receipt mr-3 text-blue-600"}),g?"Create Bill":C?"Update Bill":"View Bill"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:g?"Fill in details":C?"Update details":"Bill details"})]})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[o&&e.jsxs("div",{className:"flex items-center space-y-1",children:[e.jsx(p,{variant:"primary",className:`${s!=null&&s.isSyncWithPaymentsSection?"!cursor-not-allowed":""}`,title:s!=null&&s.isSyncWithPaymentsSection?"already sent to payment":"",isLoading:Y,disabled:s==null?void 0:s.isSyncWithPaymentsSection,onClick:D,children:"Send To Payments Section"}),e.jsx(xe,{content:"Click the button to send the bill to Payments section",type:"info",position:"bottom"})]}),o&&e.jsxs(p,{type:"button",onClick:O,className:o?"bg-blue-600 text-white":"bg-gray-500 hover:bg-gray-500 text-white",children:[e.jsx("i",{className:"fas fa-edit mr-2"}),"Edit"]}),(g||C)&&e.jsxs("div",{className:"flex justify-end items-center gap-4",children:[e.jsx(p,{type:"button",onClick:K,className:"bg-blue-600 text-white px-6 py-2",disabled:v,children:v?e.jsx("i",{className:"fas fa-spinner fa-spin"}):e.jsx(e.Fragment,{children:g?"Create Bill":"Update Bill"})}),e.jsx(p,{variant:"outline",type:"button",onClick:()=>{g?B(-1):O()},className:"bg-gray-500 hover:bg-gray-500 text-white px-6 py-2",children:"Cancel"})]})]})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Vendor"}),e.jsx(de,{options:X,value:c.vendorId?c.vendorId:"",onValueChange:$,className:"w-full",placeholder:"Select Vendor"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",id:"vendornameinp",checked:A,onChange:()=>L(r=>!r),disabled:o}),e.jsx(b,{className:"cursor-pointer",htmlFor:"vendornameinp",children:"Manual Entry"})]}),e.jsx("input",{type:"text",name:"vendorName",value:c.vendorName,onChange:r=>{A&&j(r)},disabled:o||!A,className:"w-full px-3 py-2 border rounded-lg",placeholder:"Vendor Name"})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Bill Date"}),e.jsx("input",{type:"date",name:"billDate",value:c.billDate,onChange:j,disabled:o,className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Due Date"}),e.jsx("input",{type:"date",name:"dueDate",value:c.dueDate,onChange:j,disabled:o,className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Project"}),e.jsxs("select",{value:(c==null?void 0:c.projectId)||"",onChange:r=>{const t=x==null?void 0:x.find(d=>d._id===r.target.value);l(t?d=>({...d,projectId:t._id,projectName:t.projectName}):d=>({...d,projectId:null,projectName:null}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"Select Projects"}),x==null?void 0:x.map(r=>e.jsx("option",{value:r._id,children:r.projectName},r._id))]})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Payment Type"}),e.jsxs("select",{name:"paymentType",value:(c==null?void 0:c.paymentType)||"",onChange:j,disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Payment Type"}),S==null?void 0:S.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Advanced Amount"}),e.jsx("input",{type:"number",name:"advancedAmount",value:c.advancedAmount,onChange:r=>{Number(r.target.value)<0||j(r)},disabled:o||c.paymentType!=="pay advanced, balance later",className:"w-full px-3 py-2 border rounded-lg disabled:cursor-not-allowed",placeholder:"Advanced Amount"})]}),e.jsxs("div",{children:[e.jsx(b,{children:"Remarks"}),e.jsx(ue,{name:"subject",value:c.subject,onChange:j,disabled:o,className:"w-full px-3 py-2 border rounded-lg"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx("i",{className:"fas fa-list mr-2 text-blue-600"})," Items ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),!o&&e.jsxs(p,{type:"button",onClick:G,variant:"primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"})," Add Item"]})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("div",{className:"grid grid-cols-14 gap-3 mb-2 px-4 py-3 bg-gray-100 rounded-lg font-semibold text-sm",children:[e.jsx("div",{className:"col-span-1",children:"#"}),e.jsx("div",{className:"col-span-4 text-center",children:"Item Name"}),e.jsx("div",{className:"col-span-2 text-center",children:"Unit"}),e.jsx("div",{className:"col-span-2 text-center",children:"Qty"}),e.jsx("div",{className:"col-span-2 text-center",children:"Rate"}),e.jsx("div",{className:"col-span-2 text-center",children:"Total"}),e.jsx("div",{className:"col-span-1 text-center",children:"Action"})]}),e.jsx("div",{className:"space-y-2",children:c.items.map((r,t)=>e.jsxs("div",{className:"grid grid-cols-14 gap-3 px-4 py-3 bg-white rounded-lg items-center",children:[e.jsx("div",{className:"col-span-1",children:t+1}),e.jsx("div",{className:"col-span-4 ",children:e.jsx("input",{value:r.itemName,onChange:d=>i(t,"itemName",d.target.value),disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-100"})}),e.jsx("div",{className:"col-span-2",children:e.jsx("select",{value:r.unit,onChange:d=>i(t,"unit",d.target.value),disabled:o,className:"w-full px-3 py-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-blue-500 bg-white text-sm disabled:bg-gray-100",children:ce.map(d=>e.jsx("option",{value:d,children:d},d))})}),e.jsx("div",{className:"col-span-2 ",children:e.jsx("input",{type:"number",value:r.quantity,onChange:d=>i(t,"quantity",d.target.value),disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-100"})}),e.jsx("div",{className:"col-span-2 ",children:e.jsx("input",{type:"number",value:r.rate,onChange:d=>i(t,"rate",d.target.value),disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-100"})}),e.jsxs("div",{className:"col-span-2 text-center",children:["₹",r.totalCost.toFixed(2)]}),e.jsx("div",{className:"col-span-1 text-center",children:!o&&e.jsx("i",{className:"fas fa-trash text-red-500 cursor-pointer",onClick:()=>H(t)})})]},t))}),e.jsxs("div",{className:"grid grid-cols-12 gap-3 px-4 py-3 bg-blue-50 rounded-lg mt-4 font-semibold",children:[e.jsx("div",{className:"col-span-9 text-right",children:"Subtotal:"}),e.jsxs("div",{className:"col-span-2 text-right text-blue-600",children:["₹",u.totalAmount.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("i",{className:"fas fa-calculator mr-2 text-blue-600"}),"Discount & Tax"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Percentage (%)"}),e.jsx("input",{type:"number",name:"discountPercentage",value:c.discountPercentage,onChange:_,disabled:o,min:"0",max:"100",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Percentage (%)"}),e.jsx("input",{type:"number",name:"taxPercentage",value:c.taxPercentage,onChange:_,disabled:o,min:"0",max:"100",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"0.00"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-sm p-6 border border-blue-100",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("i",{className:"fas fa-receipt mr-2 text-blue-600"}),"Bill Summary"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Subtotal:"}),e.jsxs("span",{className:"text-xl font-semibold text-gray-900",children:["₹",u.totalAmount.toFixed(2)]})]}),c.discountPercentage>0&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[e.jsxs("span",{className:"text-gray-700 font-medium",children:["Discount (",c.discountPercentage,"%):"]}),e.jsxs("span",{className:"text-xl font-semibold text-green-600",children:["-₹",u.discountAmount.toFixed(2)]})]}),c.taxPercentage>0&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[e.jsxs("span",{className:"text-gray-700 font-medium",children:["Tax (",c.taxPercentage,"%):"]}),e.jsxs("span",{className:"text-xl font-semibold text-gray-900",children:["₹",u.taxAmount.toFixed(2)]})]}),c.paymentType==="pay advanced, balance later"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-blue-200",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Advance Paid:"}),e.jsxs("span",{className:"text-xl font-semibold text-green-600",children:["-₹",c.advancedAmount||0]})]})}),e.jsxs("div",{className:"flex justify-between items-center py-3 bg-blue-100 px-4 rounded-lg",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Grand Total:"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["₹",u.grandTotal.toFixed(2)]})]})]})]}),o&&s&&s.images&&s.images.length>0&&e.jsxs("section",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 border-b pb-2 flex items-center",children:[e.jsx("i",{className:"fas fa-folder-open mr-2 text-blue-500"})," Existing Documents"]}),e.jsx("div",{className:"mb-6",children:e.jsx(te,{handleDeleteFile:r=>M(r),imageFiles:s.images,height:150,minWidth:150,maxWidth:200})})]}),o&&e.jsxs("section",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 pb-2 border-b flex justify-between items-center",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-cloud-upload-alt mr-2 text-blue-500"})," ",g?"Upload Hot Copy of Bill":"Add Hot Copy of Bill"]}),o&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"View Mode Upload"})]}),e.jsxs("div",{className:"relative w-full h-32 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 bg-gray-50 flex flex-col items-center justify-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf",onChange:Q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),e.jsx("i",{className:"fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload files"})]}),c.images.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[c.images.map((r,t)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white border rounded shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:`fas ${r.type.includes("pdf")?"fa-file-pdf text-red-500":"fa-file-image text-blue-500"}`}),e.jsx("span",{className:"text-sm text-gray-700",children:r.name})]}),e.jsx("button",{type:"button",onClick:()=>z(t),className:"text-red-500 px-2",children:e.jsx("i",{className:"fas fa-times"})})]},t)),o&&e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx(p,{type:"button",onClick:J,disabled:v,className:"",children:v?"Uploading...":"Upload Files Now"})})]})]}),o&&(s!=null&&s.pdfData)?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Invoice Pdf"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate a PDF document for the invoice"})]})}),e.jsx(le,{className:"border-green-200 bg-green-50",children:e.jsx(me,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-check-circle text-green-600 text-2xl"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900",children:s.pdfData.originalName}),e.jsx("p",{className:"text-sm text-green-700",children:"Invoice PDF is ready"})]})]}),e.jsxs("div",{className:"gap-2 flex items-center",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>window.open(s.pdfData.url,"_blank"),className:"",children:"View PDF"}),e.jsx(p,{type:"button",variant:"primary",onClick:()=>ae({src:s.pdfData.url,alt:s.pdfData.originalName}),className:"",children:"download PDF"})]})]})})})]}):e.jsx(e.Fragment,{children:!g&&!C&&e.jsxs("div",{className:"shadow-md flex flex-col items-center justify-center min-h-[150px] w-full bg-white rounded-xl text-center p-6",children:[e.jsx("i",{className:"fas fa-file-invoice text-5xl text-blue-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-1",children:"If No Pdf Found, just click on edit button and update the bill"})]})})]})]})};export{Ae as B};
