import{r as m,c as _,a as H,d as T,j as e,s as S,e as P}from"./index-e8sHY52i.js";import{u as q,a as G}from"./userApi-C5LD4l7-.js";import{h as J,a as K}from"./validation-lCXOhVkV.js";import{C as F,a as E,b as R}from"./Card-DGP_bFuc.js";import{I as d}from"./Input-BH7aLFkl.js";import{L as c}from"./Label-BjppT9Cq.js";import{B as I}from"./Button-45UYJ-Fj.js";import{t as g}from"./toast-BSC5QTk1.js";import"./useMutation-BqjQ-Xv_.js";const ae=()=>{const[b,L]=m.useState({email:"",password:""}),[n,$]=m.useState({email:"",password:"",userName:"",phoneNo:"",confirmPassword:""}),[h,j]=m.useState({}),[a,v]=m.useState({}),[t,N]=m.useState(!1),p=_(),w=H(),[A,y]=m.useState(!1),{isMobile:O,openMobileSidebar:U}=T(),{mutateAsync:z,isPending:f}=q(),{mutateAsync:M,isPending:C}=G(),k=o=>{L(l=>({...l,[o.target.name]:o.target.value}))},u=o=>{$(l=>({...l,[o.target.name]:o.target.value}))},B=async o=>{var l,x;o.preventDefault();try{j({});const r=J(b);if(j(r),Object.keys(r).length===0&&!f){const i=await z(b);if(i.ok){const s=i==null?void 0:i.data;p(S({_id:s==null?void 0:s.userId,role:s==null?void 0:s.role,isauthenticated:!0})),p(P({userId:s==null?void 0:s.userId,userName:s==null?void 0:s.userName,email:s==null?void 0:s.email,phoneNo:s==null?void 0:s.phoneNo,role:s==null?void 0:s.role,isauthenticated:!0})),g({title:"Success",description:"Login successfull"}),w("/organizations")}}}catch(r){g({title:"Error",description:((x=(l=r==null?void 0:r.response)==null?void 0:l.data)==null?void 0:x.message)||"Failed to login",variant:"destructive"})}},V=async o=>{var l,x;o.preventDefault();try{v({});const r=K(n);if(v(r),Object.keys(r).length===0&&!f){const i=await M(n);if(i.ok){const s=i==null?void 0:i.data;p(S({_id:s==null?void 0:s.userId,role:s.role,isauthenticated:!0})),p(P({userId:s.userId,userName:s.userName,email:s.email,phoneNo:s.phoneNo,role:s.role,isauthenticated:!0})),g({title:"Success",description:"Registraiton successfull"}),w("/organizations")}}}catch(r){g({title:"Error",description:((x=(l=r==null?void 0:r.response)==null?void 0:l.data)==null?void 0:x.message)||"Failed to Register",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen overflow-y-auto relative bg-gradient-to-br from-blue-50 p-4 via-white to-blue-100 flex items-center justify-center",children:[e.jsx("div",{className:"absolute top-2 left-2",children:O&&e.jsx("button",{onClick:U,className:"mr-3 p-2 rounded-md border border-gray-300 hover:bg-gray-100",title:"Open Menu",children:e.jsx("i",{className:"fa-solid fa-bars"})})}),A?e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 sm:p-8 lg:p-10",children:[e.jsxs(F,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("i",{className:"fas fa-user-tie text-white text-2xl"})}),e.jsx(E,{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-900 to-blue-600 bg-clip-text text-transparent",children:"Admin Registration"}),e.jsx(R,{className:"text-blue-600 text-base",children:"Create your owner account to get started                            "})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4 sm:space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"staffName",className:"text-blue-800 font-medium",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-user text-blue-400"})}),e.jsx(d,{id:"userName",name:"userName",type:"text",value:n.userName,onChange:u,placeholder:"Enter your full name",className:`pl-10 border-2 transition-all duration-200 ${a.userName?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:a.userName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",className:"text-blue-800 font-medium",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-envelope text-blue-400"})}),e.jsx(d,{id:"email",name:"email",type:"email",value:n.email,onChange:u,placeholder:"Enter your email address",className:`pl-10 border-2 transition-all duration-200 ${a.email?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:a.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"phoneNo",className:"text-blue-800 font-medium",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-phone text-blue-400"})}),e.jsx(d,{id:"phoneNo",name:"phoneNo",type:"tel",maxLength:10,value:n.phoneNo,onChange:u,placeholder:"Enter your phone number",className:`pl-10 border-2 transition-all duration-200 ${a.phoneNo?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:a.phoneNo})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password",className:"text-blue-800 font-medium",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-lock text-blue-400"})}),e.jsx(d,{id:"password",name:"password",type:t?"text":"password",value:n.password,onChange:u,placeholder:"Create a password",className:`pl-10 pr-12 border-2 transition-all duration-200 ${a.password?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:a.password}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-blue-400 hover:text-blue-600 transition-colors",onClick:()=>N(!t),children:e.jsx("i",{className:`fas ${t?"fa-eye-slash":"fa-eye"}`})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"confirmPassword",className:"text-blue-800 font-medium",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-lock text-blue-400"})}),e.jsx(d,{id:"confirmPassword",name:"confirmPassword",type:t?"text":"password",value:n.confirmPassword,onChange:u,placeholder:"Confirm your password",className:`pl-10 pr-12 border-2 transition-all duration-200 ${a.confirmPassword?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:a.confirmPassword}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-blue-400 hover:text-blue-600 transition-colors",onClick:()=>N(!t),children:e.jsx("i",{className:`fas ${t?"fa-eye-slash":"fa-eye"}`})})]})]}),e.jsx(I,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",isLoading:C,children:C?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Registering..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-user-check mr-2"}),"Complete Registration"]})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{onClick:()=>y(!1),className:"text-blue-600 hover:text-blue-700 font-medium hover:underline transition-colors",children:"Sign In"})]})})]})}):e.jsx("div",{className:"w-full max-w-md ",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-100",children:[e.jsxs(F,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("i",{className:"fas fa-user-tie text-white text-2xl"})}),e.jsx(E,{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-900 to-blue-600 bg-clip-text text-transparent",children:"Admin Login"}),e.jsx(R,{className:"text-blue-600 text-base",children:"Sign in to access your organization dashboard"})]}),e.jsxs("form",{onSubmit:B,className:"space-y-5 sm:space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",className:"text-blue-800 font-medium",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-envelope text-blue-400"})}),e.jsx(d,{id:"email",name:"email",type:"email",value:b.email,onChange:k,placeholder:"Enter your email address",className:`pl-10 border-2 transition-all duration-200 ${h.email?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:h.email})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"password",className:"text-blue-800 font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-lock text-blue-400"})}),e.jsx(d,{id:"password",name:"password",type:t?"text":"password",value:b.password,onChange:k,placeholder:"Enter your password",className:`pl-10 pr-12 border-2 transition-all duration-200 ${h.password?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:h.password}),e.jsx("button",{type:"button",onClick:()=>N(!t),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:t?e.jsx("i",{className:"fas fa-eye-slash"}):e.jsx("i",{className:"fas fa-eye"})})]})]}),e.jsx(I,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",isLoading:f,children:f?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"Sign In"]})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Don't have an account? ",e.jsx("button",{onClick:()=>y(!0),className:"text-blue-600 hover:text-blue-700 font-medium hover:underline transition-colors",children:"Register here"})]})})]})})]})};export{ae as default};
