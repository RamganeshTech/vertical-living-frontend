import{r as n,u as P,j as e}from"./index-BAM0eJUz.js";import{S as w}from"./SearchSelectNew-IGAHiELy.js";import{u as N}from"./quoteVariantApi-SI_JgpSl.js";const $=()=>{const[a,u]=n.useState(!1),{organizationId:i}=P(),[t,m]=n.useState({length:0,height:0,depth:0,rate:0,plywoodId:"",plywoodCost:0,innerId:"",innerCost:0,outerId:"",outerCost:0}),[c,b]=n.useState({billable:0,internal:0,totalPrice:0}),{data:o}=N(i,"plywood"),{data:h}=N(i,"inner laminate"),{data:d}=N(i,"outer laminate"),g=s=>(s||[]).map(l=>{var r,x,y,v;return{value:l._id,label:`${((r=l.data)==null?void 0:r.Brand)||"Generic"} | ${((x=l.data)==null?void 0:x["thickness (mm)"])||0}mm | â‚¹${((y=l.data)==null?void 0:y.manufacturCostPerSqft)||0}/sqft`,cost:parseFloat(((v=l.data)==null?void 0:v.manufacturCostPerSqft)||0)}}),C=n.useMemo(()=>g(o),[o]),k=n.useMemo(()=>g(h),[h]),S=n.useMemo(()=>g(d),[d]);n.useEffect(()=>{const s=t.length*t.height,l=s+2*t.depth*t.height,r=a?t.plywoodCost+t.innerCost+t.outerCost:t.rate,x=s*r;b({billable:s,internal:l,totalPrice:x})},[t,a]);const p=s=>{const{name:l,value:r}=s.target;m({...t,[l]:r===""?0:Math.max(0,parseFloat(r))})},f="text-[11px] font-bold text-gray-400 uppercase tracking-tight mb-1 block",j="w-full p-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-sm font-semibold";return e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50/50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-50 bg-gray-50/20",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:f,children:"Length (ft)"}),e.jsx("input",{type:"number",name:"length",value:t.length||"",onChange:p,className:j})]}),e.jsxs("div",{children:[e.jsx("label",{className:f,children:"Height (ft)"}),e.jsx("input",{type:"number",name:"height",value:t.height||"",onChange:p,className:j})]}),e.jsxs("div",{children:[e.jsx("label",{className:f,children:"Depth (ft)"}),e.jsx("input",{type:"number",name:"depth",value:t.depth||"",onChange:p,className:j})]})]})}),e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-gray-50 bg-white",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Pricing Method"}),e.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>u(!1),className:`px-4 py-1.5 cursor-pointer rounded-lg text-xs font-bold transition-all ${a?"text-gray-500":"bg-white shadow-sm text-indigo-600"}`,children:"Manual Rate"}),e.jsx("button",{onClick:()=>u(!0),className:`px-4 py-1.5 cursor-pointer rounded-lg text-xs font-bold transition-all ${a?"bg-white shadow-sm text-indigo-600":"text-gray-500"}`,children:"Select Brands"})]})]}),e.jsx("div",{className:"p-6",children:a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{k:"plywood",l:"Plywood",o:C,c:"indigo"},{k:"inner",l:"Inner Laminate",o:k,c:"emerald"},{k:"outer",l:"Outer Laminate",o:S,c:"amber"}].map(s=>e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:`text-[9px] font-black uppercase text-${s.c}-600`,children:s.l}),e.jsx(w,{options:s.o,value:t[`${s.k}Id`],onValueChange:l=>{const r=s.o.find(x=>x.value===l);m(x=>({...x,[`${s.k}Id`]:l,[`${s.k}Cost`]:(r==null?void 0:r.cost)||0}))},placeholder:`Select ${s.k}`,className:"w-full",displayFormat:"simple"}),t[`${s.k}Cost`]>0&&e.jsxs("div",{className:`text-[10px] font-bold text-${s.c}-700 mt-1`,children:["â‚¹",t[`${s.k}Cost`],"/sqft"]})]},s.k))}):e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:`${f} text-green-600`,children:"Manual Rate per Sqft (â‚¹)"}),e.jsx("input",{type:"number",name:"rate",value:t.rate||"",onChange:p,className:`${j} text-green-700 bg-green-50/30 border-green-100 font-bold`})]})}),e.jsxs("div",{className:"px-6 bg-white border-t border-gray-50 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 py-2.5 bg-blue-50/50 rounded-xl border border-blue-100",children:[e.jsx("span",{className:"text-xs font-bold text-blue-700 uppercase",children:"Client Billable"}),e.jsxs("span",{className:"text-lg font-black text-blue-900",children:[c.billable.toFixed(2)," ",e.jsx("small",{className:"text-[10px] font-normal italic",children:"sqft"})]})]}),e.jsxs("div",{className:"flex justify-between items-center px-6 py-4 bg-gradient-to-r from-indigo-600 to-violet-700 rounded-2xl text-white shadow-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-80",children:"Total Price"}),e.jsxs("div",{className:"text-[10px] opacity-70 font-mono mt-0.5",children:[c.billable," sqft Ã— â‚¹",a?t.plywoodCost+t.innerCost+t.outerCost:t.rate]})]}),e.jsxs("div",{className:"text-3xl font-black tracking-tighter",children:["â‚¹",c.totalPrice.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"mt-4 p-4 mb-2 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[e.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase mb-2 tracking-widest flex items-center",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),"Staff Calculation Logic"]}),e.jsxs("ul",{className:"text-[11px] space-y-1 text-gray-600 font-medium",children:[e.jsxs("li",{className:"flex justify-between italic",children:[e.jsx("span",{children:"â€¢ Client Billable Sqft"}),e.jsx("span",{className:"font-bold",children:"Length Ã— Height"})]}),e.jsxs("li",{className:"flex justify-between italic",children:[e.jsx("span",{children:"â€¢ Internal Costing Sqft"}),e.jsx("span",{className:"font-bold",children:"(L Ã— H) + (2 Ã— D Ã— H)"})]})]})]})]})]})})},R=()=>{const[a,u]=n.useState({length:10,height:10,baseRate:1500,cncRate:0}),[i,t]=n.useState({area:0,materialPrice:0,cncPrice:0,totalPrice:0});n.useEffect(()=>{const o=a.length*a.height,h=o*a.baseRate,d=o*a.cncRate,g=h+d;t({area:o,materialPrice:h,cncPrice:d,totalPrice:g})},[a]);const m=o=>{const{name:h,value:d}=o.target;u({...a,[h]:d===""?0:Math.max(0,parseFloat(d))})},c="w-full p-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all text-sm font-semibold",b="text-[11px] font-bold text-gray-400 uppercase tracking-tight mb-1 block";return e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50/50 p-4",children:e.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:b,children:"Length (ft)"}),e.jsx("input",{type:"number",name:"length",value:a.length||"",onChange:m,className:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:b,children:"Height (ft)"}),e.jsx("input",{type:"number",name:"height",value:a.height||"",onChange:m,className:c})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`${b} text-emerald-600`,children:"Base Rate (â‚¹/sqft)"}),e.jsx("input",{type:"number",name:"baseRate",value:a.baseRate||"",onChange:m,className:`${c} text-emerald-700 bg-emerald-50/30 border-emerald-100 font-bold`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`${b} text-amber-600`,children:"CNC Design Charge (â‚¹/sqft)"}),e.jsx("input",{type:"number",name:"cncRate",value:a.cncRate||"",onChange:m,className:`${c} text-amber-700 bg-amber-50/30 border-amber-100 font-bold`})]})]})]}),e.jsxs("div",{className:"p-6 bg-white space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 bg-emerald-50/50 rounded-xl border border-emerald-100",children:[e.jsx("span",{className:"text-sm font-medium text-emerald-700",children:"Total Partition Area"}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-lg font-bold text-emerald-900",children:i.area.toFixed(2)}),e.jsx("span",{className:"text-xs text-emerald-400 ml-1 font-medium italic",children:"sqft"})]})]}),i.cncPrice>0&&e.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-amber-50/50 rounded-lg border border-amber-100",children:[e.jsx("span",{className:"text-[11px] font-bold text-amber-700 uppercase",children:"CNC Surcharge"}),e.jsxs("span",{className:"text-sm font-black text-amber-800",children:["â‚¹",i.cncPrice.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between items-center px-6 py-4 bg-gradient-to-r from-emerald-600 to-teal-700 rounded-2xl shadow-lg text-white",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-80",children:"Total Project Price"}),e.jsx("div",{className:"text-[10px] opacity-70 font-mono mt-1",children:"(Area Ã— Base) + (Area Ã— CNC)"})]}),e.jsxs("div",{className:"text-3xl font-black tracking-tighter",children:["â‚¹",i.totalPrice.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[e.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase mb-2 tracking-widest flex items-center",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),"Partition Calculation Logic"]}),e.jsxs("ul",{className:"text-[11px] space-y-1 text-gray-600 font-medium",children:[e.jsxs("li",{className:"flex justify-between italic",children:[e.jsx("span",{children:"â€¢ Total Area"}),e.jsx("span",{className:"font-bold",children:"Length Ã— Height"})]}),e.jsxs("li",{className:"flex justify-between italic",children:[e.jsx("span",{children:"â€¢ Base Material Cost"}),e.jsx("span",{className:"font-bold",children:"Area Ã— Base Rate"})]}),e.jsxs("li",{className:"flex justify-between italic",children:[e.jsx("span",{children:"â€¢ CNC Design Charge"}),e.jsx("span",{className:"font-bold",children:"Area Ã— CNC Rate"})]})]})]})]})]})})},q=()=>{const[a,u]=n.useState("wardrobe"),i=[{value:"wardrobe",label:"Wardrobe Calculator",icon:"ðŸ“"},{value:"partition",label:"Partition Calculator",icon:"ðŸš§"},{value:"kitchen",label:"Modular Kitchen",icon:"ðŸ³"}];return e.jsxs("div",{className:"h-full max-h-full bg-gray-50",children:[e.jsxs("header",{className:"px-4 flex justify-between bg-white items-center pb-6 border-b border-gray-100 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx("i",{className:"fas fa-calculator mr-3 text-indigo-600"}),"Smart Calculators"]}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Precision estimates and dimension tools for your interior projects"})]}),e.jsx("div",{className:"w-72",children:e.jsx(w,{options:i,value:a,onValueChange:t=>u(t||"wardrobe"),className:"w-full shadow-sm",placeholder:"Select Calculator",displayFormat:"simple"})})]}),e.jsx("div",{className:"max-w-full px-2 mx-auto",children:e.jsxs("main",{className:"flex-1   overflow-hidden",children:[a==="wardrobe"&&e.jsx($,{}),a==="partition"&&e.jsx(R,{}),a==="kitchen"&&e.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 italic",children:"Kitchen Calculator Module Coming Soon..."})]})})]})};export{q as default};
