import{f as o,b as f,h as l,g as c,i as u,c as d}from"./index-BAM0eJUz.js";const m=async(e,a,t,i)=>(await d.put(`https://houseofram.in/api/materialarrivalcheck/updateImage/v1/${e}/${a}/${t}`,i,{headers:{"Content-Type":"multipart/form-data"}})).data,y=async(e,a,t,i)=>(await d.delete(`https://houseofram.in/api/materialarrivalcheck/deleteImage/v1/${e}/${a}/${t}/${i}`)).data,v=async(e,a,t,i,r)=>(await r.put(`/materialarrivalcheck/updatequantity/${e}/${a}/${t}`,{arrivedQuantity:i})).data,p=async(e,a,t,i,r)=>(await r.put(`/materialarrivalcheck/uploadimage/v1/staff/${e}/${a}/${t}`,i)).data,h=async(e,a,t,i,r)=>(await r.patch(`/materialarrivalcheck/deleteimage/v1/staff/${e}/${a}/${t}/${i}`)).data,I=()=>{const e=c();return l({mutationFn:({projectId:a,orderNumber:t,subItemId:i,formData:r})=>m(a,t,i,r),onSuccess:(a,{projectId:t})=>{e.invalidateQueries({queryKey:["material-arrival-public",t]})}})},S=()=>{const e=c();return l({mutationFn:({projectId:a,orderNumber:t,subItemId:i,imageId:r})=>y(a,t,i,r),onSuccess:(a,{projectId:t})=>{e.invalidateQueries({queryKey:["material-arrival-public",t]})}})},b=()=>{const{role:e}=o(),a=u(e),t=c(),i=["owner","staff","CTO"];return l({mutationFn:async({projectId:r,orderNumber:n,subItemId:s,formData:w})=>{if(!e||!i.includes(e))throw new Error("Not allowed");if(!a)throw new Error("API instance not available");return await p(r,n,s,w,a)},onSuccess:(r,{projectId:n})=>{t.invalidateQueries({queryKey:["material-arrival",n]})}})},E=()=>{const{role:e}=o(),a=u(e),t=c(),i=["owner","staff","CTO"];return l({mutationFn:async({projectId:r,orderNumber:n,subItemId:s,imageid:w})=>{if(!e||!i.includes(e))throw new Error("Not allowed");if(!a)throw new Error("API instance not available");return await h(r,n,s,w,a)},onSuccess:(r,{projectId:n})=>{t.invalidateQueries({queryKey:["material-arrival",n]})}})},F=()=>{const{role:e}=o(),a=u(e),t=c(),i=["owner","staff","CTO"];return l({mutationFn:async({projectId:r,orderNumber:n,subItemId:s,arrivedQuantity:w})=>{if(!e||!i.includes(e))throw new Error("Not allowed");if(!a)throw new Error("API instance not available");return await v(r,n,s,w,a)},onSuccess:(r,{projectId:n})=>{t.invalidateQueries({queryKey:["material-arrival",n]})}})},A=async(e,a,t,i,r)=>(await r.put(`/materialarrivalcheck/updateverification/${e}/${a}/${t}`,{isVerified:i})).data,Q=()=>{const{role:e}=o(),a=u(e),t=c(),i=["owner","staff","CTO"];return l({mutationFn:async({projectId:r,orderNumber:n,subItemId:s,toggle:w})=>{if(!e||!i.includes(e))throw new Error("Not allowed");if(!a)throw new Error("API instance not available");return await A(r,n,s,w,a)},onSuccess:(r,{projectId:n})=>{t.invalidateQueries({queryKey:["material-arrival",n]})}})},g=async(e,a)=>(await a.get(`/materialarrivalcheck/getalldetails/${e}`)).data.data,K=e=>{const{role:a}=o(),t=u(a),i=["owner","staff","CTO","worker"];return f({queryKey:["material-arrival",e],queryFn:async()=>{if(!a||!i.includes(a))throw new Error("Not allowed");return await g(e,t)},enabled:!!e&&!!a,retry:!1,refetchOnMount:!1})},$=async(e,a)=>(await a.post(`/materialarrivalcheck/${e}/generate-link`)).data.data,M=async(e,a)=>(await d.get(`https://houseofram.in/api/materialarrivalcheck/public/${e}/${a}`)).data.data,P=()=>{const{role:e}=o(),a=u(e),t=["owner","staff","CTO"];return l({mutationFn:async({projectId:i})=>{if(!e||!t.includes(e))throw new Error("Not allowed");return await $(i,a)}})},R=(e,a)=>f({queryKey:["material-arrival-public",e,a],queryFn:async()=>await M(e,a),enabled:!!e&&!!a}),q=async({formId:e,projectId:a,deadLine:t,api:i})=>{const{data:r}=await i.put(`/materialarrivalcheck/deadline/${a}/${e}`,{deadLine:t});if(!r.ok)throw new Error(r.message);return r.data},C=async({projectId:e,api:a})=>{const{data:t}=await a.put(`/materialarrivalcheck/completionstatus/${e}`);if(!t.ok)throw new Error(t.message);return t.data},T=()=>{const e=["owner","staff","CTO"],{role:a}=o(),t=u(a),i=c();return l({mutationFn:async({formId:r,projectId:n,deadLine:s})=>{if(!a||!e.includes(a))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance missing");return await q({formId:r,projectId:n,deadLine:s,api:t})},onSuccess:(r,n)=>{i.invalidateQueries({queryKey:["ordering-material",n.formId]})}})},N=()=>{const e=["owner","staff","CTO"],{role:a}=o(),t=u(a),i=c();return l({mutationFn:async({projectId:r})=>{if(!a||!e.includes(a))throw new Error("not allowed to make this api call");if(!t)throw new Error("API instance missing");return await C({projectId:r,api:t})},onSuccess:(r,{projectId:n})=>{i.invalidateQueries({queryKey:["material-arrival",n]})}})};export{F as a,b,E as c,K as d,P as e,T as f,N as g,R as h,I as i,S as j,Q as u};
