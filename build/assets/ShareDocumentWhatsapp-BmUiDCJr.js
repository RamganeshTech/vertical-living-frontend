import{_ as x,j as l,B as v,t as $}from"./index-JlGfSpRF.js";import{u as C,a as W}from"./documentationApi-BUkgjPDK.js";const k=({projectId:s,stageNumber:i,isStageCompleted:n,className:d=""})=>{var a;const{data:e,isLoading:m}=C(s),{data:t,isLoading:u}=W({projectId:s,stageNumber:i}),{data:o}=x({projectId:s});let c=`Hello *${(e==null?void 0:e.clientName)||((a=o==null?void 0:o.clientData)==null?void 0:a.clientName)||"Client"}*,

${t==null?void 0:t.message}`;const f=()=>e!=null&&e.phoneNo?n!=="completed"?"complete the stage":"":"client's phone number not provided",g=()=>{var p,h;const N=(p=e==null?void 0:e.phoneNo)!=null&&p.startsWith("+91")?e==null?void 0:e.phoneNo:e!=null&&e.phoneNo?`+91${e==null?void 0:e.phoneNo}`:null,b=((h=o==null?void 0:o.clientData)==null?void 0:h.whatsapp)||null,r=N||b;if(!r){$({title:"Error",description:"Client WhatsApp number not provided",variant:"destructive"});return}const w=`https://wa.me/${r.replace("+","")}?text=${encodeURIComponent(c)}`;window.open(w,"_blank")};return l.jsxs(v,{variant:"outline",disabled:m||u||n!=="completed",title:f(),onClick:g,className:`bg-green-600 hover:bg-green-700 text-white px-4 py-2 min-w-30 rounded items-center ${d}`,children:[l.jsx("i",{className:"fab fa-whatsapp mr-1 "}),"Share Doc"]})};export{k as S};
