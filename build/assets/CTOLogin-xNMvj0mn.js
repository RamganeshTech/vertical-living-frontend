import{a as C,r as c,f as P,K as S,j as e,W as O,a4 as k,a8 as L}from"./index-Dkf7SbMA.js";import{B as E}from"./Button-ClgICMLF.js";import{I as x}from"./Input-BRDEoxOp.js";import{L as h}from"./Label-DXAdVnik.js";import{C as T,b as F,d as I,c as q,a as R}from"./Card-BI-_ii1r.js";import{t as p}from"./toast-BSC5QTk1.js";import{d as G}from"./CTOApi-Dss2WTI3.js";import"./useMutation-DtRxugN4.js";function K(){const f=C(),[r,g]=c.useState({email:"",password:""}),[n,j]=c.useState(!1),[o,m]=c.useState({}),{isMobile:N,openMobileSidebar:v}=P(),d=G(),u=S(),w=()=>{const a={};return r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(a.email="Please enter a valid email address"):a.email="Email is required",r.password.trim()?r.password.length<6&&(a.password="Password must be at least 6 characters"):a.password="Password is required",m(a),Object.keys(a).length===0},b=a=>{const{name:i,value:l}=a.target;g(t=>({...t,[i]:l})),o[i]&&m(t=>({...t,[i]:""}))},y=async a=>{var i,l;if(a.preventDefault(),!!w())try{const s=await d.mutateAsync(r);u(k({role:s.role,isauthenticated:!0,_id:s.CTOId,userName:s==null?void 0:s.CTOName,permission:(s==null?void 0:s.permission)||{},isGuideRequired:s.isGuideRequired})),u(L({CTOId:s.CTOId,CTOName:s.CTOName,email:s.email,phoneNo:s.phoneNo,role:s.role,isauthenticated:!0,permission:(s==null?void 0:s.permission)||{},isGuideRequired:s.isGuideRequired})),p({title:"Success",description:"Login successful! Welcome back."}),f("/")}catch(t){p({title:"Login Failed",description:((l=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:l.message)||"Invalid credentials. Please try again.",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute top-2 left-2",children:N&&e.jsx("button",{onClick:v,className:"mr-3 p-2 rounded-md border border-gray-300 hover:bg-gray-100",title:"Open Menu",children:e.jsx("i",{className:"fa-solid fa-bars"})})}),e.jsx("div",{className:"relative w-full max-w-md",children:e.jsxs(T,{className:"bg-white/80 backdrop-blur-lg border-0 shadow-2xl",children:[e.jsxs(F,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("i",{className:"fas fa-user-tie text-white text-2xl"})}),e.jsx(I,{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-900 to-blue-600 bg-clip-text text-transparent",children:"Chief Technical Officer Login"}),e.jsx(q,{className:"text-blue-600 text-base",children:"Sign in to access your organization dashboard"})]}),e.jsxs(R,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:y,className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"email",className:"text-blue-800 font-medium",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-envelope text-blue-400"})}),e.jsx(x,{id:"email",name:"email",type:"email",value:r.email,onChange:b,placeholder:"Enter your email address",className:`pl-10 border-2 transition-all duration-200 ${o.email?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:o.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"password",className:"text-blue-800 font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-lock text-blue-400"})}),e.jsx(x,{id:"password",name:"password",type:n?"text":"password",value:r.password,onChange:b,placeholder:"Enter your password",className:`pl-10 pr-12 border-2 transition-all duration-200 ${o.password?"border-red-300 focus:border-red-500":"border-blue-200 focus:border-blue-500"} bg-white/70 backdrop-blur-sm`,error:o.password}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-blue-400 hover:text-blue-600 transition-colors",onClick:()=>j(!n),children:e.jsx("i",{className:`fas ${n?"fa-eye-slash":"fa-eye"}`})})]})]}),e.jsx("div",{className:"text-right",children:e.jsx(O,{to:"/forgotpassword/CTO",className:"text-blue-600 text-sm font-medium ",children:"forgot Password"})}),e.jsx(E,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",isLoading:d.isPending,children:d.isPending?e.jsx(e.Fragment,{children:"Signing in..."}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"Sign In"]})})]}),e.jsx("div",{className:"text-center pt-4 border-t border-blue-100",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("span",{className:"text-blue-600 font-medium",children:"Contact your organization admin for an invitation"})]})})]})]})})]})}export{K as default};
