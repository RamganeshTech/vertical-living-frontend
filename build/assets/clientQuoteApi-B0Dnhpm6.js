import{f as a,b as l,h as u,s as i,i as s}from"./index-BAM0eJUz.js";const c=async({api:n,organizationId:t,filters:o})=>{const{data:e}=await n.get(`quote/quotegenerate/v1/getallquotevarients/${t}`,{params:o});if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},w=async({api:n,organizationId:t,projectId:o})=>{const{data:e}=await n.get(`quote/quotegenerate/getallclientquote/dropdown/${t}/${o}`);if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},f=async({api:n,organizationId:t,id:o})=>{const{data:e}=await n.get(`quote/quotegenerate/getsingleclientquote/${t}/${o}`);if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},d=async({api:n,id:t,formData:o})=>{var r;const e=await n.put(`quote/quotegenerate/${t}/update`,o);if(console.log("res form api",e.data),!(e!=null&&e.data.ok))throw new Error(((r=e==null?void 0:e.data)==null?void 0:r.message)||"Failed to delete materials");return e==null?void 0:e.data.data},q=async({api:n,id:t})=>{const{data:o}=await n.delete(`quote/quotegenerate/delete/${t}`);if(!o.ok)throw new Error((o==null?void 0:o.message)||"Failed to delete");return o.data},y=async({api:n,organizationId:t,id:o})=>{const{data:e}=await n.put(`quote/quotegenerate/storetopaymentstage/${t}/${o}`);if(!e.ok)throw new Error((e==null?void 0:e.message)||"Failed to fetch materials");return e.data},h=(n,t)=>{const o=["owner","staff","CTO"],{role:e}=a(),r=s(e);return l({queryKey:["clientquote",n,t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to create quotes");if(!r)throw new Error("API instance for role not found");return await c({api:r,organizationId:n,filters:t})},enabled:!!n})},m=(n,t)=>{const o=["owner","staff","CTO"],{role:e}=a(),r=s(e);return l({queryKey:["clientquote","dropdown",n,t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to create quotes");if(!r)throw new Error("API instance for role not found");return await w({api:r,organizationId:n,projectId:t})},enabled:!!n&&!!t})},p=(n,t)=>{const o=["owner","staff","CTO"],{role:e}=a(),r=s(e);return l({queryKey:["clientquote-single",n,t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to create quotes");if(!r)throw new Error("API instance for role not found");return await f({api:r,organizationId:n,id:t})},enabled:!!n})},E=()=>{const n=["owner","staff","CTO"],{role:t}=a(),o=s(t);return u({mutationFn:async({id:e})=>{if(!t||!n.includes(t))throw new Error("Not allowed to create quotes");if(!o)throw new Error("API instance for role not found");return await q({api:o,id:e})},onSuccess:()=>{i.invalidateQueries({queryKey:["clientquote"]})}})},C=()=>{const n=["owner","staff","CTO"],{role:t}=a(),o=s(t);return u({mutationFn:async({id:e,formData:r})=>{if(!t||!n.includes(t))throw new Error("Not allowed to create quotes");if(!o)throw new Error("API instance for role not found");return await d({api:o,id:e,formData:r})},onSuccess:()=>{i.invalidateQueries({queryKey:["clientquote"]})}})},F=()=>{const n=["owner","staff","CTO"],{role:t}=a(),o=s(t);return u({mutationFn:async({organizationId:e,id:r})=>{if(!t||!n.includes(t))throw new Error("Not allowed to create quotes");if(!o)throw new Error("API instance for role not found");return await y({api:o,organizationId:e,id:r})}})};export{C as a,E as b,h as c,p as d,F as e,m as u};
