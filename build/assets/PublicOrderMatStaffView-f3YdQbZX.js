import{b as f,u as g,j as e}from"./index-g9v5L7eS.js";import{B as l}from"./Button-DXzmpjtA.js";import{t as d}from"./toast-BSC5QTk1.js";import{a as u,P as h}from"./PublicOrderMaterialCompo-Rd7Zl5GK.js";import{d as j}from"./downloadFile-Cd1Zfuv9.js";import"./useQuery-BlDIWKCM.js";import"./useMutation-CAsfcLt-.js";import"./OrderMaterialOverview-6fOP1xqC.js";import"./Card-BZ8fgwGK.js";import"./AssignStaff-DmUYkCDx.js";import"./Input-BX0V0pOd.js";import"./roleCheck-vn63l46q.js";import"./getAllUsersApi-BoGTLzQW.js";import"./ResetStageButton-VvcU-H83.js";import"./ShareDocumentWhatsapp-Bx_z2_Fp.js";import"./documentationApi-BddyNhSb.js";import"./requirementFormApi-BWeCM2h2.js";import"./MaterialOverviewLoading-DtCbU8U1.js";import"./Skeleton-1GHmvOlA.js";import"./constants-ZBpAFlne.js";import"./orderMaterialHistoryApi-DApmP5Fa.js";import"./shopLibDetailApi-qpdMsTrY.js";import"./SearchSelectNew-J6owvRRK.js";import"./ImageGalleryMain-CTS5daxB.js";import"./index-BDU9hL1x.js";const K=()=>{const{organizationId:t,projectId:s}=f(),c=g(),{mutateAsync:p,isPending:i}=u(),x=async()=>{var r,m,o,n;try{const a=await p({projectId:s,organizationId:t});await j({src:(r=a==null?void 0:a.pdfData)==null?void 0:r.url,alt:(m=a==null?void 0:a.pdfData)==null?void 0:m.pdfName}),d({title:"Success",description:"Pdf Generated successfully"})}catch(a){d({title:"Error",description:((n=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:n.message)||(a==null?void 0:a.message)||"Failed to generate link",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-full bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-full mx-auto  px-4 sm:px-6 lg:px-3 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(l,{variant:"outline",size:"sm",onClick:()=>c(-1),children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsxs("div",{className:"",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Materials"}),e.jsx("span",{className:"text-sm text-gray-500",children:"view the material items ordered from the site"})]})]}),e.jsx(l,{onClick:x,disabled:i,className:"min-w-[140px] bg-blue-600 hover:bg-blue-700 text-white font-medium",size:"lg",children:i?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-file-pdf"}),"Generate PDF"]})})]})})}),e.jsx("main",{className:"max-w-full mx-auto px-4 py-2",children:e.jsx(h,{selectedProjectId:s,organizationId:t})})]})};export{K as default};
