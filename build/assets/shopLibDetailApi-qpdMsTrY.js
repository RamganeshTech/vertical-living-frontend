import{c as n,d as i,f as c}from"./index-g9v5L7eS.js";import{u as d}from"./useQuery-BlDIWKCM.js";import{u as l}from"./useMutation-CAsfcLt-.js";import{g as u}from"./roleCheck-vn63l46q.js";const w=async({organizationId:t,shopData:e,api:o})=>{const{data:a}=await o.post(`/shoplibdetails/${t}/create`,e);if(!a.ok)throw new Error(a.message);return a.data},p=async({id:t,shopData:e,api:o})=>{const{data:a}=await o.put(`/shoplibdetails/${t}/update`,e);if(!a.ok)throw new Error(a.message);return a.data},h=async({organizationId:t})=>{const{data:e}=await c.get(`https://houseofram.in/api/shoplibdetails/${t}/get`);if(!e.ok)throw new Error(e.message);return e.data},f=async({id:t,api:e})=>{const{data:o}=await e.delete(`/shoplibdetails/${t}/delete`);if(!o.ok)throw new Error(o.message);return o.data},S=()=>{const t=["owner","staff","CTO"],{role:e}=n(),o=u(e),a=i();return l({mutationFn:async({organizationId:r,shopData:s})=>{if(!e||!t.includes(e))throw new Error("Not allowed to make this API call");if(!o)throw new Error("API instance not found for role");return await w({organizationId:r,shopData:s,api:o})},onSuccess:()=>{a.invalidateQueries({queryKey:["shoplibdetails"]})}})},E=()=>{const t=["owner","staff","CTO"],{role:e}=n(),o=u(e),a=i();return l({mutationFn:async({id:r,shopData:s})=>{if(!e||!t.includes(e))throw new Error("Not allowed to make this API call");if(!o)throw new Error("API instance not found for role");return await p({id:r,shopData:s,api:o})},onSuccess:()=>{a.invalidateQueries({queryKey:["shoplibdetails"]})}})},g=t=>d({queryKey:["shoplibdetails"],queryFn:async()=>await h({organizationId:t}),enabled:!!t}),q=()=>{const t=["owner","staff","CTO"],{role:e}=n(),o=u(e),a=i();return l({mutationFn:async({id:r})=>{if(!e||!t.includes(e))throw new Error("Not allowed to make this API call");if(!o)throw new Error("API instance not found for role");return await f({id:r,api:o})},onSuccess:()=>{a.invalidateQueries({queryKey:["shoplibdetails"]})}})};export{E as a,S as b,q as c,g as u};
