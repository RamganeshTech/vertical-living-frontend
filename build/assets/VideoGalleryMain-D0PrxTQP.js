import{r as c,j as t,N as g,h as w}from"./index-CBsAK0nv.js";const k=({videoFiles:r,handleDeleteFile:d,isDeleting:f,className:m="",minWidth:u=100,maxWidth:h=100,height:p=0})=>{const[l,a]=c.useState(null),s=c.useRef(null),b=()=>a(null),o=()=>{if(l){const e=(l.index+1)%r.length;a({url:r[e].url,index:e})}},i=()=>{if(l){const e=(l.index-1+r.length)%r.length;a({url:r[e].url,index:e})}};return c.useEffect(()=>{const e=n=>{var x;l&&(l&&((x=s.current)==null||x.focus()),n.key==="Escape"?b():n.key==="ArrowRight"?o():n.key==="ArrowLeft"?i():n.key===" "&&(n.preventDefault(),s.current&&(s.current.paused?s.current.play():s.current.pause())))};return l&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[l,o,i]),t.jsxs("div",{children:[t.jsx("div",{className:`gap-1 flex flex-wrap ${m}`,children:r.map((e,n)=>t.jsx("div",{className:"relative cursor-pointer bg-gray-100 overflow-hidden mb-2",style:{flex:`0 1 ${u}px`,minWidth:`${u}px`,maxWidth:`${h}px`,height:`${p}px`},onClick:()=>a({url:e.url,index:n}),children:t.jsx("video",{src:e.url,className:"w-full h-full object-cover rounded-lg shadow-md",muted:!0,playsInline:!0})},e._id))}),l&&g.createPortal(t.jsxs("div",{onClick:()=>a(null),className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:[t.jsx("div",{className:"absolute top-1 right-6 z-[10000] flex items-center gap-4",children:t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsx("button",{className:"bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-all duration-200",onClick:e=>{var n;e.stopPropagation(),w({src:l.url,alt:((n=r[l.index])==null?void 0:n.originalName)||"video.mp4"})},children:t.jsx("i",{className:"fa-solid fa-download"})}),d&&t.jsx("button",{className:"bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-all duration-200",disabled:f,onClick:e=>{e.stopPropagation(),d(r[l.index]._id),a(null)},children:t.jsx("i",{className:"fa-solid fa-trash-can"})}),t.jsx("button",{onClick:()=>a(null),className:" bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-all duration-200",children:"✕"})]})}),t.jsxs("div",{onClick:e=>e.stopPropagation(),className:"relative bg-black rounded-lg shadow-lg max-w-[80%] max-h-[80%] p-4 flex flex-col items-center",children:[t.jsx("video",{src:l.url,controls:!0,autoPlay:!0,className:"w-[80vw] max-h-[70vh] object-contain rounded-lg"}),t.jsx("button",{onClick:i,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white text-3xl",children:"‹"}),t.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white text-3xl",children:"›"})]})]}),document.body)]})};export{k as V};
