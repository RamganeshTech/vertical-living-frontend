import{e as o,d as x,j as e}from"./index-ftjmZ4WH.js";import{C as f,b as p,c as j,d as u,a as h}from"./Card-BB2WhPtT.js";import{c as N}from"./staffTaskApi-Bwrp31mW.js";import{B as r}from"./Button-BhpUbe89.js";import{d as g,f as y}from"./dateFormator-B0AlGPNQ.js";const z=({task:s})=>{var i;const t=o(),{role:l}=x(),d=l==="staff",{mutateAsync:m}=N(),n=async a=>{window.confirm("Are you sure you want to delete this task?")&&await m({mainTaskId:a})},c=a=>{t(`single/${a}`)};return e.jsxs(f,{className:"p-0 border-l-4 border-blue-600",children:[e.jsxs(p,{children:[e.jsx(j,{children:s.title}),e.jsx(u,{className:"text-xs mt-1",children:s.description})]}),e.jsxs(h,{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("i",{className:"fa-solid fa-calendar-days mr-2 text-blue-600"}),"Due: ",s.due?e.jsxs(e.Fragment,{children:[g(s.due)," - ",y(s==null?void 0:s.due)," "]}):e.jsx(e.Fragment,{children:"N/A"})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("i",{className:"fa-solid fa-layer-group mr-2 text-purple-600"}),"assignee: ",((i=s==null?void 0:s.assigneeId)==null?void 0:i.staffName)||"N/A"]}),e.jsxs("p",{className:"text-sm capitalize",children:[e.jsx("i",{className:"fa-solid fa-star mr-2 text-yellow-500"}),"Priority: ",s.priority]}),e.jsxs("p",{className:"text-sm capitalize",children:[e.jsx("i",{className:"fa-solid fa-building mr-2 text-indigo-500"}),"Department: ",s.department]}),e.jsxs("div",{className:"flex gap-2 mt-3 justify-end",children:[e.jsxs(r,{size:"sm",onClick:()=>c(s._id),className:"",children:[e.jsx("i",{className:"fa-solid fa-eye mr-1"}),"View"]}),!d&&e.jsxs(r,{size:"sm",onClick:()=>n(s._id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-sm",children:[e.jsx("i",{className:"fa-solid fa-trash mr-1"}),"Delete"]})]})]})]},s._id)};export{z as S};
