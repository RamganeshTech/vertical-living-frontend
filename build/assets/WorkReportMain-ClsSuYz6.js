import{u as j,d as u,j as e,M as g,C as N,b,c as y,a as k,B as i,t as m}from"./index-BbUIXOOD.js";import{u as w,a as v}from"./workReportsApi-8OxAAxkR.js";import{d as C}from"./downloadFile-B3lnAwEb.js";const L=()=>{const{projectId:n}=j(),{data:a,isLoading:r}=w(n),{mutateAsync:x,isPending:o}=v(),f=u(),h=async s=>{try{await x({id:s,projectId:n}),m({title:"Success",description:"deleted successfully"})}catch(t){m({title:"Error",description:t.response.data.message||"delete operation failed",variant:"destructive"})}};return r?e.jsx(g,{}):(console.log("reports",a),e.jsxs("div",{className:"space-y-4 max-h-full overflow-y-auto",children:[e.jsx("header",{children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{onClick:()=>f(-1),className:"bg-blue-50 hover:bg-slate-300 flex items-center justify-between w-8 h-8 border border-[#a6aab8] text-sm cursor-pointer rounded-md px-2 ",children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:"Work Reports"})]})}),(a==null?void 0:a.length)>0?e.jsx("main",{className:"grid grid-cols-3 gap-5",children:a==null?void 0:a.map(s=>{var t,c;return e.jsx(e.Fragment,{children:e.jsxs(N,{className:"border-l-4 border-blue-600 shadow-sm",children:[e.jsx(b,{children:e.jsx(y,{children:s.workerName||"Unnamed Worker"})}),e.jsxs(k,{className:"space-y-1 text-sm text-blue-950",children:[e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-calendar mr-1 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Date:"})," ",s!=null&&s.date?new Date(s.date).toLocaleDateString():"N/A"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-briefcase mr-1 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Work Done:"})," ",((t=s==null?void 0:s.workDone)==null?void 0:t.slice(0,100))+"..."||"-"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-1 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Place of Work:"})," ",((c=s==null?void 0:s.placeOfWork)==null?void 0:c.slice(0,100))+"..."||"-"]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsxs(i,{size:"sm",variant:"secondary",onClick:()=>{var l;return window.open((l=s==null?void 0:s.imageLink)==null?void 0:l.url,"blank")},children:[e.jsx("i",{className:"fas fa-eye mr-1"}),"View"]}),e.jsxs(i,{size:"sm",variant:"secondary",onClick:()=>{var l,d;return C({src:(l=s==null?void 0:s.imageLink)==null?void 0:l.url,alt:(d=s==null?void 0:s.imageLink)==null?void 0:d.originalName})},children:[e.jsx("i",{className:"fas fa-download mr-1"}),"Download"]}),e.jsxs(i,{size:"sm",isLoading:o,variant:"danger",onClick:()=>h(s._id),className:"text-white bg-red-600",children:[e.jsx("i",{className:"fas fa-trash mr-1"}),"Delete"]})]})]})]},s._id)})})}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] w-full bg-white rounded-xl   text-center p-6",children:[e.jsx("i",{className:"fas fa-box-open text-5xl text-blue-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-1",children:"No Reports Found"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Create the Report by select any task in the Work Schedule Calender Page",e.jsx("br",{}),"Click on ",e.jsx("strong",{children:'"Create Report"'})," to get started ðŸš€"]})]})]}))};export{L as default};
