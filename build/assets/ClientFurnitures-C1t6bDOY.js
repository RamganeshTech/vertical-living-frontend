import{r as S,j as e,X as v}from"./index-MXS_gbde.js";const T=S.forwardRef(({data:s,index:k,templateType:c,onImageClick:i,isBlurred:n},A)=>{var a,p;S.useImperativeHandle(A,()=>({getUpdatedFurniture:()=>({furnitureName:s.furnitureName,plywoodBrand:"",laminateBrand:"",coreMaterials:s==null?void 0:s.coreMaterials,fittingsAndAccessories:s==null?void 0:s.fittingsAndAccessories,glues:s==null?void 0:s.glues,nonBrandMaterials:s==null?void 0:s.nonBrandMaterials,coreMaterialsTotal:s.totals.core,fittingsAndAccessoriesTotal:s.totals.fittings,gluesTotal:s.totals.glues,nonBrandMaterialsTotal:s.totals.nbms,furnitureTotal:s.totals.furnitureTotal,totals:{core:s.totals.core,fittings:s.totals.fittings,glues:s.totals.glues,nbms:s.totals.nbms,furnitureTotal:s.totals.furnitureTotal}})}));const F=()=>{var l,x,r;return e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"font-semibold text-md text-gray-800 mb-2",children:["Core Materials (Total: ₹",(l=s==null?void 0:s.totals)==null?void 0:l.core.toLocaleString("en-IN"),")"]}),e.jsx("div",{className:"overflow-x-auto rounded-md",children:e.jsxs("table",{className:"min-w-full text-sm bg-white shadow-sm",children:[e.jsxs("thead",{className:"bg-blue-50 text-sm font-semibold text-gray-600",children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium  text-gray-500 uppercase tracking-wider",children:"Image"}),c!=="type 3"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),c!=="type 2"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{colSpan:2,className:"text-center px-6 py-1 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plywood"}),e.jsx("th",{colSpan:4,className:"text-center px-6 py-1 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Laminate"}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No. of Carpenters / Day"}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No. of Days"})]}),e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),c!=="type 2"&&e.jsx("th",{rowSpan:2,className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})]}),c!=="type 3"&&c!=="type 2"&&e.jsxs("tr",{className:"bg-blue-50/50",children:[e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r",children:"Qty"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r",children:"Thk"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r ",children:"Inner Qty"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r ",children:"Inner Thk"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r",children:"Outer Qty"}),e.jsx("th",{className:"px-2 py-2 text-[10px] uppercase border-r",children:"Outer Thk"})]})]}),e.jsx("tbody",{children:((x=s==null?void 0:s.coreMaterials)==null?void 0:x.length)>0&&((r=s==null?void 0:s.coreMaterials)==null?void 0:r.map((t,m)=>{var h,u,d,N,j,g,b,f,y,M;return e.jsxs("tr",{className:"group border",children:[m===0&&e.jsx("td",{rowSpan:(h=s==null?void 0:s.coreMaterials)==null?void 0:h.length,className:"text-center border-r-1 p-2",children:t!=null&&t.imageUrl?e.jsx("img",{src:(t==null?void 0:t.imageUrl)||v,onClick:()=>i==null?void 0:i(t.imageUrl),className:"h-10 mx-auto cursor-pointer"}):e.jsx(e.Fragment,{children:"—"})}),c!=="type 3"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:(t==null?void 0:t.itemName)||"—"})}),c!=="type 2"&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:((u=t==null?void 0:t.plywoodNos)==null?void 0:u.quantity)??0})}),e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:((d=t==null?void 0:t.plywoodNos)==null?void 0:d.thickness)??0})}),e.jsx("td",{className:`text-center border-r p-2 bg-blue-50/20 font-mono ${n?"blur-sm select-none":""}`,children:((N=t.innerLaminate)==null?void 0:N.quantity)||0}),e.jsx("td",{className:`text-center border-r p-2 bg-blue-50/20 font-mono ${n?"blur-sm select-none":""}`,children:((j=t.innerLaminate)==null?void 0:j.thickness)||0}),e.jsx("td",{className:`text-center border-r p-2 bg-orange-50/10 font-mono ${n?"blur-sm select-none":""}`,children:((g=t.outerLaminate)==null?void 0:g.quantity)||0}),e.jsx("td",{className:`text-center border-r p-2 bg-orange-50/10 font-mono ${n?"blur-sm select-none":""}`,children:((b=t.outerLaminate)==null?void 0:b.thickness)||0}),m===0&&e.jsxs(e.Fragment,{children:[e.jsx("td",{rowSpan:(f=s==null?void 0:s.coreMaterials)==null?void 0:f.length,className:"text-center border-r-1 p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:(t==null?void 0:t.carpenters)||0})}),e.jsx("td",{rowSpan:(y=s==null?void 0:s.coreMaterials)==null?void 0:y.length,className:"text-center border-r-1 p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:(t==null?void 0:t.days)||0})})]})]}),e.jsx("td",{className:"text-center border-r-1 p-2 text-green-700 font-bold",children:e.jsxs("span",{className:n?"blur-sm select-none":"",children:["₹",(M=t==null?void 0:t.rowTotal)==null?void 0:M.toLocaleString("en-IN")]})}),c!=="type 2"&&e.jsx("td",{className:"text-center border-r-1 p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:"—"})})]})]},m)}))})]})})]})},L=l=>{var x,r,t;return l==="Fittings & Accessories"?Math.round((x=s==null?void 0:s.totals)==null?void 0:x.fittings):l==="Glues"?Math.round((r=s==null?void 0:s.totals)==null?void 0:r.glues):l==="Non-Branded Materials"?Math.round((t=s==null?void 0:s.totals)==null?void 0:t.nbms):0},o=(l,x)=>e.jsx(e.Fragment,{children:c!=="type 2"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h3",{className:"font-semibold text-md mb-2 flex items-center gap-2 text-gray-800",children:[l,e.jsxs("span",{children:["(Total: ₹",L(l).toLocaleString("en-IN"),")"]})]}),c!=="type 3"&&e.jsxs("table",{className:"min-w-full text-sm bg-white shadow-sm",children:[e.jsx("thead",{className:"bg-blue-50 text-sm font-semibold text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Item Name"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Cost"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{children:x.length>0&&x.map((r,t)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:(r==null?void 0:r.itemName)||"—"})}),e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:(r==null?void 0:r.description)||"—"})}),e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:(r==null?void 0:r.quantity)||0})}),e.jsx("td",{className:"text-center border p-2",children:e.jsx("span",{className:n?"blur-sm select-none":"",children:(r==null?void 0:r.cost)||0})}),e.jsx("td",{className:"text-center border p-2 text-green-700 font-bold",children:e.jsxs("span",{className:n?"blur-sm select-none":"",children:["₹",(r.rowTotal||0).toLocaleString("en-IN")]})}),e.jsx("td",{className:"text-center border p-2",children:"—"})]},t))})]})]})});return e.jsxs("div",{className:"shadow-md p-4 my-4 border rounded-lg bg-white",children:[e.jsxs("div",{className:" flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold  text-blue-600",children:["Product ",k+1,": ",s==null?void 0:s.furnitureName]}),e.jsx("div",{children:e.jsxs("div",{className:"text-right text-xl font-bold text-green-700",children:["Product Total: ₹",(p=((a=s==null?void 0:s.totals)==null?void 0:a.furnitureTotal)||0)==null?void 0:p.toLocaleString("en-IN")]})})]}),F(),o("Fittings & Accessories",s.fittingsAndAccessories),o("Glues",s==null?void 0:s.glues),o("Non-Branded Materials",s==null?void 0:s.nonBrandMaterials)]})});export{T as C};
