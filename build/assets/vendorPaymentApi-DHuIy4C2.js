import{u as d,q as w}from"./index-CVfwS1G2.js";import{g as p}from"./roleCheck-DROzFqxW.js";import{u as m}from"./useQuery-BBoMICzh.js";import{u as f}from"./useMutation-DuqS-NT9.js";import{u as y}from"./useInfiniteQuery-Cd2DStse.js";const g=async({organizationId:t,vendorId:n,page:e,limit:a,date:i,search:c,sortBy:l,sortOrder:u,api:s})=>{const r=new URLSearchParams;t&&r.append("organizationId",t),n&&r.append("vendorId",n),e&&r.append("page",e.toString()),a&&r.append("limit",a.toString()),i&&r.append("date",i),l&&r.append("sortBy",l),u&&r.append("sortOrder",u),c&&r.append("search",c);const{data:o}=await s.get(`/department/accounting/vendorpayment/getall?${r.toString()}`);if(!o.ok)throw new Error(o.message);return o},P=async({vendorpaymentsData:t,api:n})=>{const{data:e}=await n.post("/department/accounting/vendorpayment/create",t);if(!e.ok)throw new Error(e.message);return e.data},h=async({vendorpaymentsId:t,api:n})=>{const{data:e}=await n.delete(`/department/accounting/vendorpayment/delete/${t}`);if(!e.ok)throw new Error(e.message);return e.data},E=async({vendorpaymentsId:t,api:n})=>{const{data:e}=await n.get(`/department/accounting/vendorpayment/getsingle/${t}`);if(!e.ok)throw new Error(e.message);return e.data},V=({organizationId:t,vendorId:n,limit:e=10,search:a,date:i,sortBy:c,sortOrder:l})=>{const u=["owner","staff","CTO"],{role:s}=d(),r=p(s);return y({queryKey:["VendorPayment",t,n,e,i,a,c,l],queryFn:async({pageParam:o=1})=>{if(!s||!u.includes(s))throw new Error("Not allowed to make this API call");if(!r)throw new Error("API instance not found for role");return await g({organizationId:t,vendorId:n,page:o,limit:e,date:i,search:a,sortBy:c,sortOrder:l,api:r})},getNextPageParam:o=>{if(o.pagination.page<o.pagination.totalPages)return o.pagination.page+1},getPreviousPageParam:o=>{if(o.pagination.page>1)return o.pagination.page-1},initialPageParam:1,enabled:!!s&&u.includes(s)&&!!t})},R=()=>{const t=["owner","staff","CTO"],{role:n}=d(),e=p(n);return f({mutationFn:async({vendorpaymentsData:a})=>{if(!n||!t.includes(n))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await P({vendorpaymentsData:a,api:e})},onSuccess:()=>{w.invalidateQueries({queryKey:["VendorPayment"]})}})},C=()=>{const t=["owner","staff","CTO"],{role:n}=d(),e=p(n);return f({mutationFn:async({vendorpaymentsId:a})=>{if(!n||!t.includes(n))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await h({vendorpaymentsId:a,api:e})},onSuccess:()=>{w.invalidateQueries({queryKey:["VendorPayment"]})}})},F=t=>{const n=["owner","staff","CTO"],{role:e}=d(),a=p(e);return m({queryKey:["vendorpayments",t],queryFn:async()=>{if(!e||!n.includes(e))throw new Error("Not allowed to make this API call");if(!a)throw new Error("API instance not found for role");return await E({vendorpaymentsId:t,api:a})},enabled:!!t&&!!e&&n.includes(e)})};export{C as a,F as b,R as c,V as u};
