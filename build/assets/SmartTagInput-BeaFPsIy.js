import{r as l,j as t}from"./index-MXS_gbde.js";const N=({tags:s,setState:i,suggestions:x=[],suggestionFetcher:p,disableSuggestion:o=!1})=>{const[n,f]=l.useState(""),[d,c]=l.useState([]),[h,m]=l.useState(!1),[u,y]=l.useState("");l.useEffect(()=>{if(o)return;const e=setTimeout(()=>{y(n.trim())},500);return()=>{clearTimeout(e)}},[n,o]),l.useEffect(()=>{if(!n){c([]);return}},[n]),l.useEffect(()=>{if(o||!u)return;(async()=>{try{if(m(!0),p){const a=(await p(u)).filter(j=>!s.includes(j));c(a)}else{const r=x.filter(a=>a.toLowerCase().includes(u.toLowerCase())&&!s.includes(a)).slice(0,10);c(r)}}catch(r){console.error("Suggestion fetch error:",r),c([])}finally{m(!1)}})()},[u,o]);const b=e=>{(e.key==="Enter"||e.key===",")&&n.trim()?(e.preventDefault(),s.includes(n.trim())||i([...s,n.trim()]),f("")):e.key==="Backspace"&&!n&&i(s.slice(0,-1))},v=e=>{s.includes(e)||i([...s,e]),f(""),c([])},w=e=>{i(s.filter((r,a)=>a!==e))};return t.jsxs("div",{className:"relative w-full",children:[t.jsxs("div",{className:"flex flex-wrap items-center border-b-1 border-[#565656] p-2 gap-2 rounded",children:[s.map((e,r)=>t.jsxs("div",{className:"bg-blue-600 text-white text-sm px-2 py-1 rounded-full flex items-center gap-1",children:[e,t.jsx("span",{className:"cursor-pointer ml-1 text-xs",onClick:()=>w(r),children:"Ã—"})]},r)),t.jsx("input",{type:"text",value:n,onChange:e=>f(e.target.value),onKeyDown:b,className:"input flex-1 outline-none text-sm border-none",placeholder:"Type and press Enter"})]}),!o&&(d==null?void 0:d.length)>0&&t.jsxs("div",{className:"absolute left-0 right-0 z-10 mt-1 bg-white border border-gray-300 rounded shadow max-h-40 overflow-auto text-sm",children:[d.map((e,r)=>t.jsxs("div",{onClick:()=>v(e),className:"p-2 py-4 hover:bg-gray-100 cursor-pointer",children:[t.jsx("i",{className:"fa-solid fa-arrow-trend-up hover:bg-gray-50 p-3 rounded-full"}),"                            ",e]},r)),h&&t.jsx("div",{className:"p-8 place-items-center",children:t.jsx("div",{className:"p-2  text-gray-400 text-xs italic animate-spin rounded-full h-5 w-5 border-3 border-b-transparent border-black"})})]})]})},E=l.memo(N);export{E as S};
