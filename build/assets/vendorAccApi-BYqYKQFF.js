import{u as a,f as m,a as c,q as d,h as g,g as s}from"./index-DyM6T-eT.js";const y=async({payload:t,api:n})=>{const e=new FormData,{files:r,phone:f,shopImages:u,location:p,...h}=t;Object.entries(h).forEach(([i,w])=>{w!=null&&e.append(i,String(w))}),f&&e.append("phone",JSON.stringify(f)),p&&e.append("location",JSON.stringify(p)),r&&r.length>0&&r.forEach(i=>{e.append("files",i)}),u&&u.length>0&&u.forEach(i=>{e.append("shopImages",i)});const{data:l}=await n.post("/department/accounting/vendor/createvendor",e,{headers:{"Content-Type":"multipart/form-data"}});if(!l.ok)throw new Error(l.message);return l.data},v=async({params:t,api:n})=>{const{data:e}=await n.get("/department/accounting/vendor/getallvendor",{params:t});if(!e.ok)throw new Error(e.message);return e},E=async({VendorId:t,api:n})=>{const{data:e}=await n.get(`/department/accounting/vendor/singlevendor/${t}`);if(!e.ok)throw new Error(e.message);return e.data},P=async({organizationId:t,api:n})=>{const{data:e}=await n.get(`/department/accounting/vendor/getallvendorname/${t}`);if(!e.ok)throw new Error(e.message);return e.data},I=async({vendorId:t,payload:n,api:e})=>{const{data:r}=await e.put(`/department/accounting/vendor/updatevendor/${t}`,n);if(!r.ok)throw new Error(r.message);return r.data},A=async({api:t,formData:n,id:e})=>(await t.put(`/department/accounting/vendor/updatevendor/${e}/document`,n,{headers:{"Content-Type":"multipart/form-data"}})).data,k=async({api:t,formData:n,id:e})=>(await t.put(`/department/accounting/vendor/updatevendor/${e}/shopimages`,n,{headers:{"Content-Type":"multipart/form-data"}})).data,V=async({VendorId:t,api:n})=>{const{data:e}=await n.delete(`/department/accounting/vendor/deletevendor/${t}`);if(!e.ok)throw new Error(e.message)},o=["owner","staff","CTO"],D=()=>{const{role:t}=a(),n=s(t);return c({mutationFn:async e=>{if(!t||!o.includes(t))throw new Error("Not allowed to make this API call");if(!n)throw new Error("API instance not found for role");return await y({payload:e,api:n})},onSuccess:(e,r)=>{d.invalidateQueries({queryKey:["vendors","list",r.organizationId]})}})},F=t=>{const{role:n}=a(),e=s(n);return m({queryKey:["vendors","list",t.organizationId,t.search,t.sortBy,t.sortOrder,t.createdFromDate,t.createdToDate],queryFn:async({pageParam:r=1})=>{if(!n||!o.includes(n))throw new Error("Not allowed to make this API call");if(!e)throw new Error("API instance not found for role");return await v({params:{...t,page:r},api:e})},getNextPageParam:r=>{if(r.pagination.hasNextPage)return r.pagination.currentPage+1},getPreviousPageParam:r=>{if(r.pagination.hasPrevPage)return r.pagination.currentPage-1},initialPageParam:1,enabled:!!n&&o.includes(n)&&!!t.organizationId})},N=(t,n=!0)=>{const{role:e}=a(),r=s(e);return g({queryKey:["vendors","single",t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to make this API call");if(!r)throw new Error("API instance not found for role");return await E({VendorId:t,api:r})},enabled:n&&!!e&&o.includes(e)&&!!t})},S=(t,n=!0)=>{const{role:e}=a(),r=s(e);return g({queryKey:["allvendorsname",t],queryFn:async()=>{if(!e||!o.includes(e))throw new Error("Not allowed to make this API call");if(!r)throw new Error("API instance not found for role");return await P({organizationId:t,api:r})},enabled:n&&!!e&&o.includes(e)&&!!t})},C=()=>{const{role:t}=a(),n=s(t);return c({mutationFn:async({vendorId:e,payload:r})=>{if(!t||!o.includes(t))throw new Error("Not allowed to make this API call");if(!n)throw new Error("API instance not found for role");return await I({vendorId:e,payload:r,api:n})},onSuccess:e=>{d.invalidateQueries({queryKey:["vendors","single",e.vendorId]}),d.invalidateQueries({queryKey:["vendors","list"]})}})},K=()=>{const{role:t}=a(),n=s(t);return c({mutationFn:async({id:e,formData:r})=>{if(!t||!o.includes(t))throw new Error("Not allowed to make this API call");if(!n)throw new Error("API instance not found for role");return await A({id:e,formData:r,api:n})}})},O=()=>{const{role:t}=a(),n=s(t);return c({mutationFn:async({id:e,formData:r})=>{if(!t||!o.includes(t))throw new Error("Not allowed to make this API call");if(!n)throw new Error("API instance not found for role");return await k({id:e,formData:r,api:n})}})},Q=()=>{const{role:t}=a(),n=s(t);return c({mutationFn:async e=>{if(!t||!o.includes(t))throw new Error("Not allowed to make this API call");if(!n)throw new Error("API instance not found for role");return await V({VendorId:e,api:n})},onSuccess:()=>{d.invalidateQueries({queryKey:["vendors","list"]})}})};export{F as a,Q as b,N as c,C as d,K as e,O as f,D as g,S as u};
