import{f as n,b as u,h as s,s as l,i}from"./index-BAM0eJUz.js";const w=async({api:r,organizationId:e})=>{const{data:t}=await r.get(`/quote/materialwithlabour/rateconfig/categories/${e}`);if(!t.ok)throw new Error(t.message);return t.data},y=r=>{const e=["owner","CTO","staff"],{role:t}=n(),a=i(t);return u({queryKey:["labourwithmaterial","rateconfig","categories",r],queryFn:async()=>{if(!t||!e.includes(t))throw new Error("Not allowed to fetch this data");if(!a)throw new Error("API instance not found for role");return await w({api:a,organizationId:r})},enabled:!!r})},f=async({api:r,organizationId:e,items:t,categoryId:a})=>{const{data:o}=await r.post(`/quote/materialwithlabour/rateconfig/categories/${e}/${a}/items`,{items:t});if(!o.ok)throw new Error(o.message);return o.data},b=()=>{const r=["owner","CTO","staff"],{role:e}=n(),t=i(e);return s({mutationFn:async({categoryId:a,organizationId:o,items:c})=>{if(!e||!r.includes(e))throw new Error("Not allowed to make this API call");if(!t)throw new Error("API instance not found for role");return await f({api:t,items:c,categoryId:a,organizationId:o})},onSuccess:(a,{organizationId:o})=>{l.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","items",o]})}})},h=async({api:r,organizationId:e,categoryId:t})=>{const{data:a}=await r.get(`/quote/materialwithlabour/rateconfig/categories/${e}/${t}/items`);if(!a.ok)throw new Error(a.message);return a.data},C=(r,e)=>{const t=["owner","CTO","staff"],{role:a}=n(),o=i(a);return u({queryKey:["labourwithmaterial","rateconfig","items",r,e],queryFn:async()=>{if(!a||!t.includes(a))throw new Error("Not allowed to fetch this data");if(!o)throw new Error("API instance not found for role");return await h({api:o,organizationId:r,categoryId:e})},enabled:!!r&&!!e})},m=async({api:r,itemId:e,body:t})=>{const{data:a}=await r.put(`/quote/materialwithlabour/rateconfig/items/${e}`,t);if(!a.ok)throw new Error(a.message);return a.data},E=()=>{const r=["owner","CTO","staff"],{role:e}=n(),t=i(e);return s({mutationFn:async({itemId:a,body:o})=>{if(!e||!r.includes(e))throw new Error("Not allowed to make this API call");if(!t)throw new Error("API instance not found for role");return await m({api:t,itemId:a,body:o})},onSuccess:(a,{categoryId:o})=>{l.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","items",o]})}})},d=async({api:r,itemId:e})=>{const{data:t}=await r.delete(`/quote/materialwithlabour/rateconfig/items/${e}`);if(!t.ok)throw new Error(t.message);return t.data},q=()=>{const r=["owner","CTO","staff"],{role:e}=n(),t=i(e);return s({mutationFn:async({itemId:a})=>{if(!e||!r.includes(e))throw new Error("Not allowed to make this API call");if(!t)throw new Error("API instance not found for role");return await d({api:t,itemId:a})},onSuccess:(a,{organizationId:o})=>{l.invalidateQueries({queryKey:["labourwithmaterial","rateconfig","items",o]})}})};export{C as a,b,q as c,E as d,y as u};
